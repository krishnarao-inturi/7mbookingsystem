// Compiled by ClojureScript 1.9.89 {}
goog.provide('sevenm_booking_system.components');
goog.require('cljs.core');
goog.require('ajax.core');
goog.require('bouncer.validators');
goog.require('cljsjs.react_select');
goog.require('bouncer.core');
goog.require('vendor.notify');
goog.require('vendor.datepicker');
goog.require('reagent.core');
goog.require('sevenm_booking_system.routes');
goog.require('vendor.timepicker');
goog.require('sevenm_booking_system.activitylog');
goog.require('sevenm_booking_system.config');
goog.require('pushy.core');
goog.require('clojure.string');
goog.require('cljs.reader');
goog.require('vendor.star_rating');
goog.require('cljsjs.react_bootstrap');
sevenm_booking_system.components.pagination = reagent.core.adapt_react_class.call(null,(ReactBootstrap["Pagination"]));
sevenm_booking_system.components.button_tool_bar = reagent.core.adapt_react_class.call(null,(ReactBootstrap["ButtonToolbar"]));
sevenm_booking_system.components.terms_and_conditions = "  1. Check in Time is at 3 PM.  Check out Time is 11 AM. \n\n  2. Any other Resort fee / Facilitation fee, hotel taxes not mentioned in the inclusion are extra that guest have to directly at hotel. \n\n  3. Please Deposit FULL PAYMENT if client travel date is less than 30 Days prior to travel date. \n\n  4. Please Deposit 50% Payment if the travel is beyond 30 Days and the Balance NO LATER THAN 7 Days Prior to travel date. The Final Vouchers WILL NOT BE ISSUED until a Deposit is received on this booking.\n\n  5. If payment is not received in the respective time, 7M tours reserves the full Rights to change the hotels and services services which was promised during the confirmation due to non-availability and hotels, transportation, events & Meals.\n\n  6. 7M Tours will not be responsible for any client dispute due to delay in payment and not clarifying the situation and/or incident with travel agent.\n\n  7. ALL CITY TOURS are standard Three (3) hours as per the itinerary. Anything beyond this must be booked and confirmed by the Travel Agent and incur Overtime Charges.\n\n  8. Breakfast Choices as per availability of the particular Hotel that client is staying cannot be changed unless per confirmed.\n\n  9. 7M Tours requests the client carry to local USA Phone Number for better communication with them while traveling during their tour.\n\n  10. All Transportation services are expected to have the client carry only One (1) Carry-On Luggage 7 KG and check in at 22 KG. Any number of Bags more or weigh more than this, CLIENT WILL BE RESPONSIBLE FOR ADDITIONAL CHARGES.\n\n  11. Any Last Minute Changes or Stops Decided by the Traveler and/or the Travel Agent and Tour Leader on the Tour IS NOT ACCEPTABLE AND WILL NOT BE ENTERTAINED.\n\n  12. Any Attractions that have NOT been attended on a particular time set by itinerary will automatically be a 100% NON-REFUNDABLE AND NON CHANGEABLE - UNDER ANY CIRCUMSTANCES.\n\n  13. NO REFUNDS WILL BE GIVEN FOR ANY LUNCH OR DINNER WHICH WAS NOT USED BY THE TRAVELLER.";
sevenm_booking_system.components.input = (function sevenm_booking_system$components$input(id,input_type,place,val){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control","input.form-control",-1123419636),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"type","type",1174270348),input_type,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),place,new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,val),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7290_SHARP_){
return cljs.core.reset_BANG_.call(null,val,p1__7290_SHARP_.target.value);
})], null)], null);
});
sevenm_booking_system.components.input_num = (function sevenm_booking_system$components$input_num(var_args){
var args7293 = [];
var len__6677__auto___7296 = arguments.length;
var i__6678__auto___7297 = (0);
while(true){
if((i__6678__auto___7297 < len__6677__auto___7296)){
args7293.push((arguments[i__6678__auto___7297]));

var G__7298 = (i__6678__auto___7297 + (1));
i__6678__auto___7297 = G__7298;
continue;
} else {
}
break;
}

var G__7295 = args7293.length;
switch (G__7295) {
case 4:
return sevenm_booking_system.components.input_num.cljs$core$IFn$_invoke$arity$4((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),(arguments[(3)]));

break;
case 5:
return sevenm_booking_system.components.input_num.cljs$core$IFn$_invoke$arity$5((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),(arguments[(3)]),(arguments[(4)]));

break;
default:
throw (new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args7293.length)].join('')));

}
});

sevenm_booking_system.components.input_num.cljs$core$IFn$_invoke$arity$4 = (function (id,input_type,place,val){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control","input.form-control",-1123419636),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"type","type",1174270348),input_type,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),place,new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,val),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7291_SHARP_){
return cljs.core.reset_BANG_.call(null,val,(p1__7291_SHARP_.target.value | (0)));
})], null)], null);
});

sevenm_booking_system.components.input_num.cljs$core$IFn$_invoke$arity$5 = (function (id,input_type,place,val,style){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control","input.form-control",-1123419636),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"style","style",-496642736),style,new cljs.core.Keyword(null,"type","type",1174270348),input_type,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),place,new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,val),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7292_SHARP_){
return cljs.core.reset_BANG_.call(null,val,(p1__7292_SHARP_.target.value | (0)));
})], null)], null);
});

sevenm_booking_system.components.input_num.cljs$lang$maxFixedArity = 5;

sevenm_booking_system.components.str_number = (function sevenm_booking_system$components$str_number(str){
var n = cljs.reader.read_string.call(null,str);
if(typeof n === 'number'){
return n;
} else {
return (0);
}
});
sevenm_booking_system.components.input_number = (function sevenm_booking_system$components$input_number(id,place,val){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control","input.form-control",-1123419636),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"type","type",1174270348),"number",new cljs.core.Keyword(null,"step","step",1288888124),0.001,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),place,new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,val),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7300_SHARP_){
return cljs.core.reset_BANG_.call(null,val,p1__7300_SHARP_.target.value);
}),new cljs.core.Keyword(null,"on-blur","on-blur",814300747),(function (p1__7301_SHARP_){
return cljs.core.reset_BANG_.call(null,val,sevenm_booking_system.components.str_number.call(null,p1__7301_SHARP_.target.value));
})], null)], null);
});
sevenm_booking_system.components.input_checkbox = (function sevenm_booking_system$components$input_checkbox(id,val,text){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.checkbox","div.checkbox",389009838),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"type","type",1174270348),"checkbox",new cljs.core.Keyword(null,"checked","checked",-50955819),(function (){var or__5602__auto__ = cljs.core.deref.call(null,val);
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return false;
}
})(),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (){
return cljs.core.swap_BANG_.call(null,val,cljs.core.not);
})], null)], null),text], null)], null);
});
sevenm_booking_system.components.input_checkbox_str = (function sevenm_booking_system$components$input_checkbox_str(id,val,text){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.checkbox","div.checkbox",389009838),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"type","type",1174270348),"checkbox",new cljs.core.Keyword(null,"checked","checked",-50955819),cljs.reader.read_string.call(null,[cljs.core.str(cljs.core.deref.call(null,val))].join('')),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (){
return cljs.core.swap_BANG_.call(null,val,cljs.core.not);
})], null)], null),text], null)], null);
});
sevenm_booking_system.components.text_area = (function sevenm_booking_system$components$text_area(id,rows,place,val){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"textarea.form-control","textarea.form-control",-1690362789),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"rows","rows",850049680),rows,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),place,new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,val),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7302_SHARP_){
return cljs.core.reset_BANG_.call(null,val,p1__7302_SHARP_.target.value);
})], null)], null);
});
sevenm_booking_system.components.input_select = (function sevenm_booking_system$components$input_select(id,options,val){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"select.form-control","select.form-control",696610397),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"value","value",305978217),(function (){var or__5602__auto__ = cljs.core.deref.call(null,val);
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return "";
}
})(),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7303_SHARP_){
return cljs.core.reset_BANG_.call(null,val,p1__7303_SHARP_.target.value);
})], null),(function (){var iter__6382__auto__ = (function sevenm_booking_system$components$input_select_$_iter__7308(s__7309){
return (new cljs.core.LazySeq(null,(function (){
var s__7309__$1 = s__7309;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7309__$1);
if(temp__4657__auto__){
var s__7309__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7309__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7309__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7311 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7310 = (0);
while(true){
if((i__7310 < size__6381__auto__)){
var d = cljs.core._nth.call(null,c__6380__auto__,i__7310);
cljs.core.chunk_append.call(null,b__7311,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),d], null),d], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),d], null)));

var G__7312 = (i__7310 + (1));
i__7310 = G__7312;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7311),sevenm_booking_system$components$input_select_$_iter__7308.call(null,cljs.core.chunk_rest.call(null,s__7309__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7311),null);
}
} else {
var d = cljs.core.first.call(null,s__7309__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),d], null),d], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),d], null)),sevenm_booking_system$components$input_select_$_iter__7308.call(null,cljs.core.rest.call(null,s__7309__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__6382__auto__.call(null,options);
})()], null);
});
sevenm_booking_system.components.row_input = (function sevenm_booking_system$components$row_input(label,id,key,type,place,val,focus,val_fun){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),label], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,id,type,place,val], null),(cljs.core.truth_(focus)?((cljs.core._EQ_.call(null,null,val_fun))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.first.call(null,val_fun.call(null,key)))].join('')], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null)], null);
});
sevenm_booking_system.components.row_num = (function sevenm_booking_system$components$row_num(label,id,key,type,place,val,focus,val_fun){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),label], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_num,id,type,place,val], null),(cljs.core.truth_(focus)?((cljs.core._EQ_.call(null,null,val_fun))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.first.call(null,val_fun.call(null,key)))].join('')], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null)], null);
});
sevenm_booking_system.components.row_number = (function sevenm_booking_system$components$row_number(label,id,key,place,val,focus,val_fun){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),label], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_number,id,place,val], null),(cljs.core.truth_(focus)?((cljs.core._EQ_.call(null,null,val_fun))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.first.call(null,val_fun.call(null,key)))].join('')], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null)], null);
});
sevenm_booking_system.components.row_text_area = (function sevenm_booking_system$components$row_text_area(label,id,key,rows,place,val,focus,val_fun){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),label], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.text_area,id,rows,place,val], null),(cljs.core.truth_(focus)?((cljs.core._EQ_.call(null,null,val_fun))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.first.call(null,val_fun.call(null,key)))].join('')], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null)], null);
});
sevenm_booking_system.components.row_text_area_terms_AMPERSAND_cond = (function sevenm_booking_system$components$row_text_area_terms_AMPERSAND_cond(label,id,key,rows,place,val,focus,val_fun){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),label], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.text_area,id,rows,place,val], null),(cljs.core.truth_(focus)?((cljs.core._EQ_.call(null,null,val_fun))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.first.call(null,val_fun.call(null,key)))].join('')], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null)], null);
});
sevenm_booking_system.components.input_select1 = (function sevenm_booking_system$components$input_select1(id,options,val){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"select.form-control","select.form-control",696610397),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"value","value",305978217),(function (){var or__5602__auto__ = cljs.core.deref.call(null,val);
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return "";
}
})(),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7313_SHARP_){
return cljs.core.reset_BANG_.call(null,val,p1__7313_SHARP_.target.value);
})], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),""], null),"-- Select --"], null),(function (){var iter__6382__auto__ = (function sevenm_booking_system$components$input_select1_$_iter__7318(s__7319){
return (new cljs.core.LazySeq(null,(function (){
var s__7319__$1 = s__7319;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7319__$1);
if(temp__4657__auto__){
var s__7319__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7319__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7319__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7321 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7320 = (0);
while(true){
if((i__7320 < size__6381__auto__)){
var d = cljs.core._nth.call(null,c__6380__auto__,i__7320);
cljs.core.chunk_append.call(null,b__7321,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),d], null),d], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),d], null)));

var G__7322 = (i__7320 + (1));
i__7320 = G__7322;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7321),sevenm_booking_system$components$input_select1_$_iter__7318.call(null,cljs.core.chunk_rest.call(null,s__7319__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7321),null);
}
} else {
var d = cljs.core.first.call(null,s__7319__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),d], null),d], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),d], null)),sevenm_booking_system$components$input_select1_$_iter__7318.call(null,cljs.core.rest.call(null,s__7319__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__6382__auto__.call(null,options);
})()], null);
});
sevenm_booking_system.components.row_select = (function sevenm_booking_system$components$row_select(label,id,key,options,val,focus,val_fun){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),label], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_select1,id,options,val], null),(cljs.core.truth_(focus)?((cljs.core._EQ_.call(null,null,val_fun))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.first.call(null,val_fun.call(null,key)))].join('')], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null)], null);
});
sevenm_booking_system.components.input_select_onchange = (function sevenm_booking_system$components$input_select_onchange(id,options,val,onchange){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"select.form-control","select.form-control",696610397),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"value","value",305978217),(function (){var or__5602__auto__ = val;
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return "";
}
})(),new cljs.core.Keyword(null,"on-change","on-change",-732046149),onchange], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),""], null),"-- Select --"], null),(function (){var iter__6382__auto__ = (function sevenm_booking_system$components$input_select_onchange_$_iter__7327(s__7328){
return (new cljs.core.LazySeq(null,(function (){
var s__7328__$1 = s__7328;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7328__$1);
if(temp__4657__auto__){
var s__7328__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7328__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7328__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7330 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7329 = (0);
while(true){
if((i__7329 < size__6381__auto__)){
var d = cljs.core._nth.call(null,c__6380__auto__,i__7329);
cljs.core.chunk_append.call(null,b__7330,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),d], null),d], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),d], null)));

var G__7331 = (i__7329 + (1));
i__7329 = G__7331;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7330),sevenm_booking_system$components$input_select_onchange_$_iter__7327.call(null,cljs.core.chunk_rest.call(null,s__7328__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7330),null);
}
} else {
var d = cljs.core.first.call(null,s__7328__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),d], null),d], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),d], null)),sevenm_booking_system$components$input_select_onchange_$_iter__7327.call(null,cljs.core.rest.call(null,s__7328__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__6382__auto__.call(null,options);
})()], null);
});
sevenm_booking_system.components.row_select_onchnage = (function sevenm_booking_system$components$row_select_onchnage(label,id,key,options,val,focus,val_fun,onchange){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),label], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_select_onchange,id,options,val,onchange], null),(cljs.core.truth_(focus)?((cljs.core._EQ_.call(null,null,val_fun))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.first.call(null,val_fun.call(null,key)))].join('')], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null)], null);
});
sevenm_booking_system.components.payment_mode_data = reagent.core.atom.call(null,new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"ACH",new cljs.core.Keyword(null,"name","name",1843675177),"ACH"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"AMEX",new cljs.core.Keyword(null,"name","name",1843675177),"AMEX"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Cash",new cljs.core.Keyword(null,"name","name",1843675177),"Cash"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Cheque",new cljs.core.Keyword(null,"name","name",1843675177),"Cheque"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Master Card",new cljs.core.Keyword(null,"name","name",1843675177),"Master Card"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"PayPal",new cljs.core.Keyword(null,"name","name",1843675177),"PayPal"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Quick Pay",new cljs.core.Keyword(null,"name","name",1843675177),"Quick Pay"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Wire Transfer",new cljs.core.Keyword(null,"name","name",1843675177),"Wire Transfer"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Visa",new cljs.core.Keyword(null,"name","name",1843675177),"Visa"], null)], null));
sevenm_booking_system.components.r_select = reagent.core.adapt_react_class.call(null,Select);
sevenm_booking_system.components.js_clj = (function sevenm_booking_system$components$js_clj(val){
return cljs.core.js__GT_clj.call(null,val,new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",1310784252),true);
});
sevenm_booking_system.components.react_select = (function sevenm_booking_system$components$react_select(name,placeholder,options,val){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.r_select,new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),name,new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,val),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),placeholder,new cljs.core.Keyword(null,"labelKey","labelKey",-764955460),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"valueKey","valueKey",300134732),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"options","options",99638489),cljs.core.deref.call(null,options),new cljs.core.Keyword(null,"clearable","clearable",943040201),false,new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7332_SHARP_){
return cljs.core.reset_BANG_.call(null,val,cljs.core.get.call(null,sevenm_booking_system.components.js_clj.call(null,p1__7332_SHARP_),new cljs.core.Keyword(null,"id","id",-1388402092)));
})], null)], null);
});
sevenm_booking_system.components.row_chosen_select = (function sevenm_booking_system$components$row_chosen_select(label,id,key,options,val,focus,val_fun){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),label], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select,id,"please select",options,val], null),(cljs.core.truth_(focus)?((cljs.core._EQ_.call(null,null,val_fun))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.first.call(null,val_fun.call(null,key)))].join('')], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null)], null);
});
sevenm_booking_system.components.react_select_onchange = (function sevenm_booking_system$components$react_select_onchange(name,placeholder,options,val,on_changefn){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.r_select,new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),name,new cljs.core.Keyword(null,"value","value",305978217),val,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),placeholder,new cljs.core.Keyword(null,"labelKey","labelKey",-764955460),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"valueKey","valueKey",300134732),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"options","options",99638489),cljs.core.deref.call(null,options),new cljs.core.Keyword(null,"clearable","clearable",943040201),false,new cljs.core.Keyword(null,"on-change","on-change",-732046149),on_changefn], null)], null);
});
sevenm_booking_system.components.row_react_select_onchange = (function sevenm_booking_system$components$row_react_select_onchange(label,id,key,options,val,focus,val_fun,on_changefn){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),label], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select_onchange,id,"please select",options,val,on_changefn], null),(cljs.core.truth_(focus)?((cljs.core._EQ_.call(null,null,val_fun))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.first.call(null,val_fun.call(null,key)))].join('')], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null)], null);
});
sevenm_booking_system.components.set_hotel_data = (function sevenm_booking_system$components$set_hotel_data(hotel_id,hotels,kth,data){
var record = cljs.core.first.call(null,cljs.core.filter.call(null,(function (p1__7333_SHARP_){
return cljs.core._EQ_.call(null,hotel_id,cljs.core.get.call(null,p1__7333_SHARP_,new cljs.core.Keyword(null,"id","id",-1388402092)));
}),cljs.core.deref.call(null,hotels)));
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),new cljs.core.Keyword(null,"address","address",559499426)], null),cljs.core.get.call(null,record,new cljs.core.Keyword(null,"address","address",559499426),""));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),new cljs.core.Keyword(null,"telephonenumber","telephonenumber",1430353029)], null),cljs.core.get.call(null,record,new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283),""));

return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311)], null),cljs.core.get.call(null,record,new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),""));
});
sevenm_booking_system.components.hotel_select = (function sevenm_booking_system$components$hotel_select(name,options,val,kth,data){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.r_select,new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),name,new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,val),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Select Hotel",new cljs.core.Keyword(null,"labelKey","labelKey",-764955460),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"valueKey","valueKey",300134732),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"options","options",99638489),cljs.core.deref.call(null,options),new cljs.core.Keyword(null,"clearable","clearable",943040201),false,new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7334_SHARP_){
cljs.core.reset_BANG_.call(null,val,cljs.core.get.call(null,sevenm_booking_system.components.js_clj.call(null,p1__7334_SHARP_),new cljs.core.Keyword(null,"id","id",-1388402092)));

return sevenm_booking_system.components.set_hotel_data.call(null,cljs.core.get.call(null,sevenm_booking_system.components.js_clj.call(null,p1__7334_SHARP_),new cljs.core.Keyword(null,"id","id",-1388402092)),options,kth,data);
})], null)], null);
});
sevenm_booking_system.components.manual_onchange = (function sevenm_booking_system$components$manual_onchange(var_args){
var args7335 = [];
var len__6677__auto___7338 = arguments.length;
var i__6678__auto___7339 = (0);
while(true){
if((i__6678__auto___7339 < len__6677__auto___7338)){
args7335.push((arguments[i__6678__auto___7339]));

var G__7340 = (i__6678__auto___7339 + (1));
i__6678__auto___7339 = G__7340;
continue;
} else {
}
break;
}

var G__7337 = args7335.length;
switch (G__7337) {
case 1:
return sevenm_booking_system.components.manual_onchange.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));

break;
case 3:
return sevenm_booking_system.components.manual_onchange.cljs$core$IFn$_invoke$arity$3((arguments[(0)]),(arguments[(1)]),(arguments[(2)]));

break;
default:
throw (new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args7335.length)].join('')));

}
});

sevenm_booking_system.components.manual_onchange.cljs$core$IFn$_invoke$arity$1 = (function (data){
return (function (input){
var record = sevenm_booking_system.components.js_clj.call(null,input);
var category = cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"category","category",-593092832));
var subcategory = cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"subcategory","subcategory",-1171802998));
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"itemid","itemid",2031188061),record.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420),record.call(null,new cljs.core.Keyword(null,"vendorid","vendorid",-675947897)));

if(cljs.core._EQ_.call(null,"meals",category)){
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484),clojure.string.replace.call(null,record.call(null,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484),""),/%%/,subcategory));

return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"manualdescription","manualdescription",-1037471273),clojure.string.replace.call(null,record.call(null,new cljs.core.Keyword(null,"activitydescription","activitydescription",-240934899),""),/%%/,subcategory));
} else {
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484),record.call(null,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484),""));

return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"manualdescription","manualdescription",-1037471273),record.call(null,new cljs.core.Keyword(null,"activitydescription","activitydescription",-240934899),""));
}
});
});

sevenm_booking_system.components.manual_onchange.cljs$core$IFn$_invoke$arity$3 = (function (data,kth,i){
return (function (input){
var record = sevenm_booking_system.components.js_clj.call(null,input);
var category = cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"category","category",-593092832)], null),"");
var subcategory = cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"subcategory","subcategory",-1171802998)], null),"");
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"itemid","itemid",2031188061)], null),record.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420)], null),record.call(null,new cljs.core.Keyword(null,"vendorid","vendorid",-675947897)));

if(cljs.core._EQ_.call(null,"meals",category)){
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484)], null),clojure.string.replace.call(null,record.call(null,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484),""),/%%/,subcategory));

return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"manualdescription","manualdescription",-1037471273)], null),clojure.string.replace.call(null,record.call(null,new cljs.core.Keyword(null,"activitydescription","activitydescription",-240934899),""),/%%/,subcategory));
} else {
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484)], null),record.call(null,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484),""));

return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"manualdescription","manualdescription",-1037471273)], null),record.call(null,new cljs.core.Keyword(null,"activitydescription","activitydescription",-240934899),""));
}
});
});

sevenm_booking_system.components.manual_onchange.cljs$lang$maxFixedArity = 3;

sevenm_booking_system.components.select_with_manual = (function sevenm_booking_system$components$select_with_manual(var_args){
var args7342 = [];
var len__6677__auto___7345 = arguments.length;
var i__6678__auto___7346 = (0);
while(true){
if((i__6678__auto___7346 < len__6677__auto___7345)){
args7342.push((arguments[i__6678__auto___7346]));

var G__7347 = (i__6678__auto___7346 + (1));
i__6678__auto___7346 = G__7347;
continue;
} else {
}
break;
}

var G__7344 = args7342.length;
switch (G__7344) {
case 3:
return sevenm_booking_system.components.select_with_manual.cljs$core$IFn$_invoke$arity$3((arguments[(0)]),(arguments[(1)]),(arguments[(2)]));

break;
case 5:
return sevenm_booking_system.components.select_with_manual.cljs$core$IFn$_invoke$arity$5((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),(arguments[(3)]),(arguments[(4)]));

break;
default:
throw (new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args7342.length)].join('')));

}
});

sevenm_booking_system.components.select_with_manual.cljs$core$IFn$_invoke$arity$3 = (function (id,options,data){
var new_options = reagent.ratom.make_reaction.call(null,(function (){
return cljs.core.conj.call(null,cljs.core.seq.call(null,cljs.core.deref.call(null,options)),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),(0),new cljs.core.Keyword(null,"name","name",1843675177),"Manual"], null));
}));
return ((function (new_options){
return (function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.r_select,new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),cljs.core.name,new cljs.core.Keyword(null,"value","value",305978217),cljs.core.get.call(null,cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"itemid","itemid",2031188061)),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Select Activity",new cljs.core.Keyword(null,"labelKey","labelKey",-764955460),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"valueKey","valueKey",300134732),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"options","options",99638489),cljs.core.deref.call(null,new_options),new cljs.core.Keyword(null,"clearable","clearable",943040201),false,new cljs.core.Keyword(null,"on-change","on-change",-732046149),sevenm_booking_system.components.manual_onchange.call(null,data)], null)], null);
});
;})(new_options))
});

sevenm_booking_system.components.select_with_manual.cljs$core$IFn$_invoke$arity$5 = (function (id,options,data,kth,i){
var new_options = reagent.ratom.make_reaction.call(null,(function (){
return cljs.core.conj.call(null,cljs.core.seq.call(null,cljs.core.deref.call(null,options)),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),(0),new cljs.core.Keyword(null,"name","name",1843675177),"Manual"], null));
}));
return ((function (new_options){
return (function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.r_select,new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),cljs.core.name,new cljs.core.Keyword(null,"value","value",305978217),cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"itemid","itemid",2031188061)], null)),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Select Activity",new cljs.core.Keyword(null,"labelKey","labelKey",-764955460),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"valueKey","valueKey",300134732),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"options","options",99638489),cljs.core.deref.call(null,new_options),new cljs.core.Keyword(null,"clearable","clearable",943040201),false,new cljs.core.Keyword(null,"on-change","on-change",-732046149),sevenm_booking_system.components.manual_onchange.call(null,data,kth,i)], null)], null);
});
;})(new_options))
});

sevenm_booking_system.components.select_with_manual.cljs$lang$maxFixedArity = 5;

sevenm_booking_system.components.quotation_onchange = (function sevenm_booking_system$components$quotation_onchange(data){
return (function (input){
var record = sevenm_booking_system.components.js_clj.call(null,input);
return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"quotationid","quotationid",-59560570),record.call(null,new cljs.core.Keyword(null,"key","key",-1516042587)));
});
});
sevenm_booking_system.components.select_quotations = (function sevenm_booking_system$components$select_quotations(id,options,data){
var new_options = reagent.ratom.make_reaction.call(null,(function (){
return cljs.core.mapv.call(null,(function (p1__7349_SHARP_){
return cljs.core.assoc.call(null,p1__7349_SHARP_,new cljs.core.Keyword(null,"key","key",-1516042587),[cljs.core.str(new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(p1__7349_SHARP_)),cljs.core.str(" "),cljs.core.str(new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(p1__7349_SHARP_))].join(''));
}),cljs.core.deref.call(null,options));
}));
return ((function (new_options){
return (function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.r_select,new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),cljs.core.name,new cljs.core.Keyword(null,"value","value",305978217),cljs.core.get.call(null,cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"quotationid","quotationid",-59560570)),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Select Quotation",new cljs.core.Keyword(null,"labelKey","labelKey",-764955460),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"valueKey","valueKey",300134732),new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"options","options",99638489),cljs.core.deref.call(null,new_options),new cljs.core.Keyword(null,"clearable","clearable",943040201),false,new cljs.core.Keyword(null,"on-change","on-change",-732046149),sevenm_booking_system.components.quotation_onchange.call(null,data)], null)], null);
});
;})(new_options))
});
sevenm_booking_system.components.row_select_quotation = (function sevenm_booking_system$components$row_select_quotation(label,id,key,options,val,focus,val_fun){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),label], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.select_quotations,id,options,val], null),(cljs.core.truth_(focus)?((cljs.core._EQ_.call(null,null,val_fun))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.first.call(null,val_fun.call(null,key)))].join('')], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null)], null);
});
sevenm_booking_system.components.datepicker_did_mount = (function sevenm_booking_system$components$datepicker_did_mount(this$,val){
var dp_node = $(reagent.core.dom_node.call(null,this$));
dp_node.val((function (){var or__5602__auto__ = cljs.core.deref.call(null,val);
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return "";
}
})());

cljs.core.reset_BANG_.call(null,val,dp_node.val());

dp_node.datepicker(cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"format","format",-1306924766),"dd-M-yyyy",new cljs.core.Keyword(null,"autoclose","autoclose",1322723756),true,new cljs.core.Keyword(null,"todayBtn","todayBtn",225747761),true,new cljs.core.Keyword(null,"todayHighlight","todayHighlight",-1007148020),true], null)));

return dp_node.datepicker().on("changeDate",((function (dp_node){
return (function (){
return cljs.core.reset_BANG_.call(null,val,dp_node.val());
});})(dp_node))
);
});
sevenm_booking_system.components.datepicker_did_update = (function sevenm_booking_system$components$datepicker_did_update(this$,val){
var dp_node = $(reagent.core.dom_node.call(null,this$));
dp_node.val((function (){var or__5602__auto__ = cljs.core.deref.call(null,val);
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return "";
}
})());

cljs.core.reset_BANG_.call(null,val,dp_node.val());

dp_node.datepicker("update");

return dp_node.datepicker().on("changeDate",((function (dp_node){
return (function (){
return cljs.core.reset_BANG_.call(null,val,dp_node.val());
});})(dp_node))
);
});
sevenm_booking_system.components.datepicker = (function sevenm_booking_system$components$datepicker(var_args){
var args7358 = [];
var len__6677__auto___7361 = arguments.length;
var i__6678__auto___7362 = (0);
while(true){
if((i__6678__auto___7362 < len__6677__auto___7361)){
args7358.push((arguments[i__6678__auto___7362]));

var G__7363 = (i__6678__auto___7362 + (1));
i__6678__auto___7362 = G__7363;
continue;
} else {
}
break;
}

var G__7360 = args7358.length;
switch (G__7360) {
case 3:
return sevenm_booking_system.components.datepicker.cljs$core$IFn$_invoke$arity$3((arguments[(0)]),(arguments[(1)]),(arguments[(2)]));

break;
case 4:
return sevenm_booking_system.components.datepicker.cljs$core$IFn$_invoke$arity$4((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),(arguments[(3)]));

break;
default:
throw (new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args7358.length)].join('')));

}
});

sevenm_booking_system.components.datepicker.cljs$core$IFn$_invoke$arity$3 = (function (id,placeholder,val){
return reagent.core.create_class.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"component-did-mount","component-did-mount",-1126910518),(function (p1__7350_SHARP_){
return sevenm_booking_system.components.datepicker_did_mount.call(null,p1__7350_SHARP_,val);
}),new cljs.core.Keyword(null,"component-did-update","component-did-update",-1468549173),(function (p1__7351_SHARP_){
return sevenm_booking_system.components.datepicker_did_update.call(null,p1__7351_SHARP_,val);
}),new cljs.core.Keyword(null,"reagent-render","reagent-render",-985383853),(function (this$){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control","input.form-control",-1123419636),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"value","value",305978217),(function (){var or__5602__auto__ = cljs.core.deref.call(null,val);
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return "";
}
})(),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),placeholder,new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7352_SHARP_){
return cljs.core.reset_BANG_.call(null,val,p1__7352_SHARP_.target.value);
}),new cljs.core.Keyword(null,"on-blur","on-blur",814300747),(function (p1__7353_SHARP_){
return cljs.core.reset_BANG_.call(null,val,p1__7353_SHARP_.target.value);
})], null)], null);
})], null));
});

sevenm_booking_system.components.datepicker.cljs$core$IFn$_invoke$arity$4 = (function (id,placeholder,val,style){
return reagent.core.create_class.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"component-did-mount","component-did-mount",-1126910518),(function (p1__7354_SHARP_){
return sevenm_booking_system.components.datepicker_did_mount.call(null,p1__7354_SHARP_,val);
}),new cljs.core.Keyword(null,"component-did-update","component-did-update",-1468549173),(function (p1__7355_SHARP_){
return sevenm_booking_system.components.datepicker_did_update.call(null,p1__7355_SHARP_,val);
}),new cljs.core.Keyword(null,"reagent-render","reagent-render",-985383853),(function (this$){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control","input.form-control",-1123419636),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"style","style",-496642736),style,new cljs.core.Keyword(null,"value","value",305978217),(function (){var or__5602__auto__ = cljs.core.deref.call(null,val);
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return "";
}
})(),new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),placeholder,new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7356_SHARP_){
return cljs.core.reset_BANG_.call(null,val,p1__7356_SHARP_.target.value);
}),new cljs.core.Keyword(null,"on-blur","on-blur",814300747),(function (p1__7357_SHARP_){
return cljs.core.reset_BANG_.call(null,val,p1__7357_SHARP_.target.value);
})], null)], null);
})], null));
});

sevenm_booking_system.components.datepicker.cljs$lang$maxFixedArity = 4;

sevenm_booking_system.components.timepicker_did_mount = (function sevenm_booking_system$components$timepicker_did_mount(this$,val){
var tp_node = $(reagent.core.dom_node.call(null,this$));
tp_node.val((function (){var or__5602__auto__ = cljs.core.deref.call(null,val);
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return "";
}
})());

tp_node.timepicker(cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"minuteStep","minuteStep",1836439703),(5),new cljs.core.Keyword(null,"showInputs","showInputs",-1501487134),false,new cljs.core.Keyword(null,"disableFocus","disableFocus",1911902266),true,new cljs.core.Keyword(null,"defaultTime","defaultTime",-1655020363),false], null)));

return tp_node.timepicker().on("changeTime.timepicker",((function (tp_node){
return (function (){
return cljs.core.reset_BANG_.call(null,val,tp_node.val());
});})(tp_node))
);
});
sevenm_booking_system.components.timepicker_did_update = (function sevenm_booking_system$components$timepicker_did_update(this$,val){
var tp_node = $(reagent.core.dom_node.call(null,this$));
tp_node.val((function (){var or__5602__auto__ = cljs.core.deref.call(null,val);
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return "";
}
})());

tp_node.timepicker("setTime",(function (){var or__5602__auto__ = cljs.core.deref.call(null,val);
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return "";
}
})());

return tp_node.timepicker().on("changeTime.timepicker",((function (tp_node){
return (function (){
return cljs.core.reset_BANG_.call(null,val,tp_node.val());
});})(tp_node))
);
});
sevenm_booking_system.components.timepicker = (function sevenm_booking_system$components$timepicker(var_args){
var args7369 = [];
var len__6677__auto___7372 = arguments.length;
var i__6678__auto___7373 = (0);
while(true){
if((i__6678__auto___7373 < len__6677__auto___7372)){
args7369.push((arguments[i__6678__auto___7373]));

var G__7374 = (i__6678__auto___7373 + (1));
i__6678__auto___7373 = G__7374;
continue;
} else {
}
break;
}

var G__7371 = args7369.length;
switch (G__7371) {
case 3:
return sevenm_booking_system.components.timepicker.cljs$core$IFn$_invoke$arity$3((arguments[(0)]),(arguments[(1)]),(arguments[(2)]));

break;
case 4:
return sevenm_booking_system.components.timepicker.cljs$core$IFn$_invoke$arity$4((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),(arguments[(3)]));

break;
default:
throw (new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args7369.length)].join('')));

}
});

sevenm_booking_system.components.timepicker.cljs$core$IFn$_invoke$arity$3 = (function (id,placeholder,val){
return reagent.core.create_class.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"component-did-mount","component-did-mount",-1126910518),(function (p1__7365_SHARP_){
return sevenm_booking_system.components.timepicker_did_mount.call(null,p1__7365_SHARP_,val);
}),new cljs.core.Keyword(null,"component-did-update","component-did-update",-1468549173),(function (p1__7366_SHARP_){
return sevenm_booking_system.components.timepicker_did_update.call(null,p1__7366_SHARP_,val);
}),new cljs.core.Keyword(null,"reagent-render","reagent-render",-985383853),(function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control.input-small","input.form-control.input-small",-323110635),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"name","name",1843675177),cljs.core.deref.call(null,val),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),placeholder], null)], null);
})], null));
});

sevenm_booking_system.components.timepicker.cljs$core$IFn$_invoke$arity$4 = (function (id,placeholder,val,style){
return reagent.core.create_class.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"component-did-mount","component-did-mount",-1126910518),(function (p1__7367_SHARP_){
return sevenm_booking_system.components.timepicker_did_mount.call(null,p1__7367_SHARP_,val);
}),new cljs.core.Keyword(null,"component-did-update","component-did-update",-1468549173),(function (p1__7368_SHARP_){
return sevenm_booking_system.components.timepicker_did_update.call(null,p1__7368_SHARP_,val);
}),new cljs.core.Keyword(null,"reagent-render","reagent-render",-985383853),(function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control.input-small","input.form-control.input-small",-323110635),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"style","style",-496642736),style,new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"name","name",1843675177),cljs.core.deref.call(null,val),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),placeholder], null)], null);
})], null));
});

sevenm_booking_system.components.timepicker.cljs$lang$maxFixedArity = 4;

sevenm_booking_system.components.div_timepicker = (function sevenm_booking_system$components$div_timepicker(var_args){
var args7376 = [];
var len__6677__auto___7379 = arguments.length;
var i__6678__auto___7380 = (0);
while(true){
if((i__6678__auto___7380 < len__6677__auto___7379)){
args7376.push((arguments[i__6678__auto___7380]));

var G__7381 = (i__6678__auto___7380 + (1));
i__6678__auto___7380 = G__7381;
continue;
} else {
}
break;
}

var G__7378 = args7376.length;
switch (G__7378) {
case 3:
return sevenm_booking_system.components.div_timepicker.cljs$core$IFn$_invoke$arity$3((arguments[(0)]),(arguments[(1)]),(arguments[(2)]));

break;
case 4:
return sevenm_booking_system.components.div_timepicker.cljs$core$IFn$_invoke$arity$4((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),(arguments[(3)]));

break;
default:
throw (new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args7376.length)].join('')));

}
});

sevenm_booking_system.components.div_timepicker.cljs$core$IFn$_invoke$arity$3 = (function (id,placeholder,val){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.input-group.bootstrap-timepicker.timepicker","div.input-group.bootstrap-timepicker.timepicker",-1129542689),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"z-index","z-index",1892827090),(0)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.timepicker,id,placeholder,val], null)], null);
});

sevenm_booking_system.components.div_timepicker.cljs$core$IFn$_invoke$arity$4 = (function (id,placeholder,val,style){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.input-group.bootstrap-timepicker.timepicker","div.input-group.bootstrap-timepicker.timepicker",-1129542689),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"z-index","z-index",1892827090),(0)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.timepicker,id,placeholder,val], null)], null);
});

sevenm_booking_system.components.div_timepicker.cljs$lang$maxFixedArity = 4;

sevenm_booking_system.components.star_did_mount = (function sevenm_booking_system$components$star_did_mount(this$,val,disabled){
var dp_node = $(reagent.core.dom_node.call(null,this$));
dp_node.rating(cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"displayOnly","displayOnly",1651997800),disabled], null)));

dp_node.rating("update",cljs.core.deref.call(null,val));

dp_node.on("rating.change",((function (dp_node){
return (function (event,value,caption){
return cljs.core.reset_BANG_.call(null,val,cljs.reader.read_string.call(null,value));
});})(dp_node))
);

return dp_node.on("rating.clear",((function (dp_node){
return (function (event){
return cljs.core.reset_BANG_.call(null,val,(0));
});})(dp_node))
);
});
sevenm_booking_system.components.star_did_update = (function sevenm_booking_system$components$star_did_update(this$,val,disabled){
var dp_node = $(reagent.core.dom_node.call(null,this$));
dp_node.rating(cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"displayOnly","displayOnly",1651997800),disabled], null)));

dp_node.rating("update",cljs.core.deref.call(null,val));

dp_node.on("rating.change",((function (dp_node){
return (function (event,value,caption){
return cljs.core.reset_BANG_.call(null,val,cljs.reader.read_string.call(null,value));
});})(dp_node))
);

return dp_node.on("rating.clear",((function (dp_node){
return (function (event){
return cljs.core.reset_BANG_.call(null,val,(0));
});})(dp_node))
);
});
sevenm_booking_system.components.star_rating = (function sevenm_booking_system$components$star_rating(id,val,size,disabled){
return reagent.core.create_class.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"component-did-mount","component-did-mount",-1126910518),(function (p1__7383_SHARP_){
return sevenm_booking_system.components.star_did_mount.call(null,p1__7383_SHARP_,val,disabled);
}),new cljs.core.Keyword(null,"component-did-update","component-did-update",-1468549173),(function (p1__7384_SHARP_){
return sevenm_booking_system.components.star_did_update.call(null,p1__7384_SHARP_,val,disabled);
}),new cljs.core.Keyword(null,"reagent-render","reagent-render",-985383853),(function (this$){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"data-size","data-size",-1468859869),new cljs.core.Keyword(null,"data-max","data-max",1152617252),new cljs.core.Keyword(null,"data-step","data-step",560682149),new cljs.core.Keyword(null,"value","value",305978217),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"data-min","data-min",1994436948),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"on-change","on-change",-732046149)],[size,(5),0.5,(function (){var or__5602__auto__ = cljs.core.deref.call(null,val);
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return (0);
}
})(),"text",(0),id,"rating",(function (){
return cljs.core.List.EMPTY;
})])], null);
})], null));
});
sevenm_booking_system.components.upload_style = cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"font-size","font-size",-1847940346),new cljs.core.Keyword(null,"top","top",-1856271961),new cljs.core.Keyword(null,"cursor","cursor",1011937484),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.Keyword(null,"opacity","opacity",397153780),new cljs.core.Keyword(null,"padding","padding",1660304693),new cljs.core.Keyword(null,"right","right",-452581833),new cljs.core.Keyword(null,"position","position",-2011731912),new cljs.core.Keyword(null,"margin","margin",-995903681)],["20px",(0),"pointer","alpha(opacity=0)","0",(0),(0),"absolute",(0)]);
sevenm_booking_system.components.change_file = (function sevenm_booking_system$components$change_file(element_id,val,filename){
var el = document.getElementById(element_id);
var name = el.name;
var file = (el.files[(0)]);
var form_data = (function (){var G__7386 = (new FormData());
G__7386.append(name,file);

return G__7386;
})();
if(cljs.core.truth_(file)){
console.log(form_data);

cljs.core.reset_BANG_.call(null,filename,file.name);

return cljs.core.reset_BANG_.call(null,val,form_data);
} else {
cljs.core.reset_BANG_.call(null,filename,null);

return cljs.core.reset_BANG_.call(null,val,null);
}
});
sevenm_booking_system.components.accept_types_hotel_contractfile = [cljs.core.str("image/png,"),cljs.core.str("image/jpg,"),cljs.core.str("application/pdf,"),cljs.core.str("image/jpeg,"),cljs.core.str("application/vnd.openxmlformats-\n        officedocument.wordprocessingml.document,"),cljs.core.str("application/msword")].join('');
sevenm_booking_system.components.accept_types_logo = [cljs.core.str("image/png,"),cljs.core.str("image/jpg,"),cljs.core.str("image/jpeg,")].join('');
sevenm_booking_system.components.file_upload_button = (function sevenm_booking_system$components$file_upload_button(element_id,placeholder,accept_types,val,filename){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.from-horizontal","div.from-horizontal",-691689414),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.from-group","div.from-group",-623522461),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.input-group","div.input-group",-2073660476),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.input-group-btn","span.input-group-btn",358441272),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.btn.btn-default","div.btn.btn-default",1437787971),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"position","position",-2011731912),"relative",new cljs.core.Keyword(null,"overflow","overflow",2058931880),"hidden"], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-file","span.glyphicon.glyphicon-file",-2039991896)], null)," Choose File",new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"id","id",-1388402092),element_id,new cljs.core.Keyword(null,"type","type",1174270348),"file",new cljs.core.Keyword(null,"accept","accept",1874130431),accept_types,new cljs.core.Keyword(null,"name","name",1843675177),"file",new cljs.core.Keyword(null,"style","style",-496642736),sevenm_booking_system.components.upload_style,new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (){
return sevenm_booking_system.components.change_file.call(null,element_id,val,filename);
})], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control","input.form-control",-1123419636),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),placeholder,new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,filename),new cljs.core.Keyword(null,"disabled","disabled",-1529784218),true], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.boot_notify = (function sevenm_booking_system$components$boot_notify(type,title,message){
return $.notify(cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"title","title",636505583),[cljs.core.str("<strong>"),cljs.core.str(title),cljs.core.str("</strong>")].join(''),new cljs.core.Keyword(null,"message","message",-406056002),message], null)),cljs.core.clj__GT_js.call(null,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"type","type",1174270348),type], null)));
});
sevenm_booking_system.components.button_tooltip = (function sevenm_booking_system$components$button_tooltip(map_options,icon){
return reagent.core.create_class.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"component-did-mount","component-did-mount",-1126910518),(function (p1__7387_SHARP_){
return $(reagent.core.dom_node.call(null,p1__7387_SHARP_)).tooltip();
}),new cljs.core.Keyword(null,"reagent-render","reagent-render",-985383853),(function (){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",1456579943),map_options,icon], null);
})], null));
});
sevenm_booking_system.components.anchor_tooltip = (function sevenm_booking_system$components$anchor_tooltip(var_args){
var args7390 = [];
var len__6677__auto___7393 = arguments.length;
var i__6678__auto___7394 = (0);
while(true){
if((i__6678__auto___7394 < len__6677__auto___7393)){
args7390.push((arguments[i__6678__auto___7394]));

var G__7395 = (i__6678__auto___7394 + (1));
i__6678__auto___7394 = G__7395;
continue;
} else {
}
break;
}

var G__7392 = args7390.length;
switch (G__7392) {
case 2:
return sevenm_booking_system.components.anchor_tooltip.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));

break;
case 3:
return sevenm_booking_system.components.anchor_tooltip.cljs$core$IFn$_invoke$arity$3((arguments[(0)]),(arguments[(1)]),(arguments[(2)]));

break;
default:
throw (new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args7390.length)].join('')));

}
});

sevenm_booking_system.components.anchor_tooltip.cljs$core$IFn$_invoke$arity$2 = (function (map_options,icon){
return reagent.core.create_class.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"component-did-mount","component-did-mount",-1126910518),(function (p1__7388_SHARP_){
return $(reagent.core.dom_node.call(null,p1__7388_SHARP_)).tooltip();
}),new cljs.core.Keyword(null,"reagent-render","reagent-render",-985383853),(function (){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),map_options,icon], null);
})], null));
});

sevenm_booking_system.components.anchor_tooltip.cljs$core$IFn$_invoke$arity$3 = (function (map_options,icon,string){
return reagent.core.create_class.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"component-did-mount","component-did-mount",-1126910518),(function (p1__7389_SHARP_){
return $(reagent.core.dom_node.call(null,p1__7389_SHARP_)).tooltip();
}),new cljs.core.Keyword(null,"reagent-render","reagent-render",-985383853),(function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),map_options,icon,string], null);
})], null));
});

sevenm_booking_system.components.anchor_tooltip.cljs$lang$maxFixedArity = 3;

sevenm_booking_system.components.error_handler = (function sevenm_booking_system$components$error_handler(res){
var G__7398 = new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(res);
switch (G__7398) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Problem with the server, Please try again");

}
});
sevenm_booking_system.components.get_table_data_search = (function sevenm_booking_system$components$get_table_data_search(src_in,list){
var type = cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"type","type",1174270348));
var text = cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"text","text",-1790561697));
var url = cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"url","url",276297046));
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str(url),cljs.core.str("?index=1&pagesize=10"),cljs.core.str(((cljs.core.seq.call(null,text))?[cljs.core.str("&type="),cljs.core.str(type),cljs.core.str("&text="),cljs.core.str(text)].join(''):null))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),((function (type,text,url){
return (function (p1__7400_SHARP_){
cljs.core.reset_BANG_.call(null,list,p1__7400_SHARP_);

return cljs.core.swap_BANG_.call(null,src_in,cljs.core.assoc,new cljs.core.Keyword(null,"idx","idx",1053688473),(1));
});})(type,text,url))
,new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_table_data = (function sevenm_booking_system$components$get_table_data(src_in,list){
var idx = cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"idx","idx",1053688473));
var type = cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"type","type",1174270348));
var text = cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"text","text",-1790561697));
var url = cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"url","url",276297046));
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str(url),cljs.core.str("?index="),cljs.core.str(idx),cljs.core.str("&pagesize=10"),cljs.core.str(((cljs.core.seq.call(null,text))?[cljs.core.str("&type="),cljs.core.str(type),cljs.core.str("&text="),cljs.core.str(text)].join(''):null))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),((function (idx,type,text,url){
return (function (p1__7401_SHARP_){
return cljs.core.reset_BANG_.call(null,list,p1__7401_SHARP_);
});})(idx,type,text,url))
,new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_table_error_handler = (function sevenm_booking_system$components$delete_table_error_handler(res){
var G__7403 = new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(res);
switch (G__7403) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
$("#removemodal").modal("hide");

return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Problem with the server, Please try again");

}
});
sevenm_booking_system.components.get_table_data_delete = (function sevenm_booking_system$components$get_table_data_delete(src_in,list){
var idx = cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"idx","idx",1053688473));
var type = cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"type","type",1174270348));
var text = cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"text","text",-1790561697));
var url = cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"url","url",276297046));
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str(url),cljs.core.str("?index="),cljs.core.str(idx),cljs.core.str("&pagesize=10"),cljs.core.str(((cljs.core.seq.call(null,text))?[cljs.core.str("&type="),cljs.core.str(type),cljs.core.str("&text="),cljs.core.str(text)].join(''):null))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),((function (idx,type,text,url){
return (function (p1__7405_SHARP_){
cljs.core.reset_BANG_.call(null,list,p1__7405_SHARP_);

return $("#removemodal").modal("hide");
});})(idx,type,text,url))
,new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.delete_table_error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_record_handler = (function sevenm_booking_system$components$delete_record_handler(res,src_in,list){
var G__7407 = new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(res);
switch (G__7407) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
case (200):
return sevenm_booking_system.components.get_table_data_delete.call(null,src_in,list);

break;
default:
return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Problem with the server, Please try again");

}
});
sevenm_booking_system.components.search_select = (function sevenm_booking_system$components$search_select(id,options,val){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"select.form-control","select.form-control",696610397),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),"30%"], null),new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,val),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7409_SHARP_){
return cljs.core.reset_BANG_.call(null,val,p1__7409_SHARP_.target.value);
})], null),(function (){var iter__6382__auto__ = (function sevenm_booking_system$components$search_select_$_iter__7414(s__7415){
return (new cljs.core.LazySeq(null,(function (){
var s__7415__$1 = s__7415;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7415__$1);
if(temp__4657__auto__){
var s__7415__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7415__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7415__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7417 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7416 = (0);
while(true){
if((i__7416 < size__6381__auto__)){
var d = cljs.core._nth.call(null,c__6380__auto__,i__7416);
cljs.core.chunk_append.call(null,b__7417,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(d)], null),new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(d)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(d)], null)));

var G__7418 = (i__7416 + (1));
i__7416 = G__7418;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7417),sevenm_booking_system$components$search_select_$_iter__7414.call(null,cljs.core.chunk_rest.call(null,s__7415__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7417),null);
}
} else {
var d = cljs.core.first.call(null,s__7415__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(d)], null),new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(d)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(d)], null)),sevenm_booking_system$components$search_select_$_iter__7414.call(null,cljs.core.rest.call(null,s__7415__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__6382__auto__.call(null,options);
})()], null);
});
sevenm_booking_system.components.search_input = (function sevenm_booking_system$components$search_input(var_args){
var args7421 = [];
var len__6677__auto___7424 = arguments.length;
var i__6678__auto___7425 = (0);
while(true){
if((i__6678__auto___7425 < len__6677__auto___7424)){
args7421.push((arguments[i__6678__auto___7425]));

var G__7426 = (i__6678__auto___7425 + (1));
i__6678__auto___7425 = G__7426;
continue;
} else {
}
break;
}

var G__7423 = args7421.length;
switch (G__7423) {
case 6:
return sevenm_booking_system.components.search_input.cljs$core$IFn$_invoke$arity$6((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),(arguments[(3)]),(arguments[(4)]),(arguments[(5)]));

break;
case 7:
return sevenm_booking_system.components.search_input.cljs$core$IFn$_invoke$arity$7((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),(arguments[(3)]),(arguments[(4)]),(arguments[(5)]),(arguments[(6)]));

break;
default:
throw (new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args7421.length)].join('')));

}
});

sevenm_booking_system.components.search_input.cljs$core$IFn$_invoke$arity$6 = (function (id,input_type,place,val,src_in,list){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.has-feedback","div.has-feedback",-954057407),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control","input.form-control",-1123419636),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),"70%"], null),new cljs.core.Keyword(null,"type","type",1174270348),input_type,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),place,new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,val),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7419_SHARP_){
cljs.core.reset_BANG_.call(null,val,p1__7419_SHARP_.target.value);

return sevenm_booking_system.components.get_table_data_search.call(null,src_in,list);
})], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-search.form-control-feedback.text-muted","span.glyphicon.glyphicon-search.form-control-feedback.text-muted",-1991900326)], null)], null);
});

sevenm_booking_system.components.search_input.cljs$core$IFn$_invoke$arity$7 = (function (id,input_type,place,val,src_in,list,width){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.has-feedback","div.has-feedback",-954057407),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control","input.form-control",-1123419636),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),width], null),new cljs.core.Keyword(null,"type","type",1174270348),input_type,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),place,new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,val),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7420_SHARP_){
cljs.core.reset_BANG_.call(null,val,p1__7420_SHARP_.target.value);

return sevenm_booking_system.components.get_table_data_search.call(null,src_in,list);
})], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-search.form-control-feedback.text-muted","span.glyphicon.glyphicon-search.form-control-feedback.text-muted",-1991900326)], null)], null);
});

sevenm_booking_system.components.search_input.cljs$lang$maxFixedArity = 7;

sevenm_booking_system.components.get_fitquotations_list = (function sevenm_booking_system$components$get_fitquotations_list(idx,list){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("fit/quotations/"),cljs.core.str(cljs.core.deref.call(null,idx)),cljs.core.str("/10")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7428_SHARP_){
return cljs.core.reset_BANG_.call(null,list,p1__7428_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_quotation_pdf = (function sevenm_booking_system$components$get_quotation_pdf(i){
var quotation_id = i.call(null,new cljs.core.Keyword(null,"quotationid","quotationid",-59560570));
var send_quo_id = clojure.string.replace.call(null,quotation_id,/\//,"");
return window.open([cljs.core.str(sevenm_booking_system.config.server),cljs.core.str(((cljs.core._EQ_.call(null,"T",cljs.core.get.call(null,cljs.core.vec.call(null,cljs.core.seq.call(null,send_quo_id)),(2))))?[cljs.core.str("fit/pdf/"),cljs.core.str(send_quo_id)].join(''):[cljs.core.str("groups/pdf/"),cljs.core.str(send_quo_id)].join('')))].join(''));
});
sevenm_booking_system.components.make_booking_fit_onclick = (function sevenm_booking_system$components$make_booking_fit_onclick(record){
cljs.core.reset_BANG_.call(null,sevenm_booking_system.components.fitbookings_atom,new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),"BK-00",new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),false,new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),"",new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),sevenm_booking_system.components.terms_and_conditions,new cljs.core.Keyword(null,"quotationid","quotationid",-59560570),[cljs.core.str(record.call(null,new cljs.core.Keyword(null,"quotationid","quotationid",-59560570))),cljs.core.str(" "),cljs.core.str(cljs.core.get.call(null,record,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),cljs.core.PersistentArrayMap.EMPTY], null));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-fitbooking","add-fitbooking",1804203067)));
});
sevenm_booking_system.components.fit_quotations_comp = (function sevenm_booking_system$components$fit_quotations_comp(){
var idx = reagent.core.atom.call(null,(1));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totalquotations","totalquotations",1812151438),(0)], null));
var star = reagent.core.atom.call(null,(0));
sevenm_booking_system.components.get_fitquotations_list.call(null,idx,list);

return ((function (idx,list,star){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-list","i.fa.fa-list",731466083)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of FIT Quotations"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.table-responsive","div.table-responsive",-16203823),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Quotation Id"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Date of Quotation"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Agent Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"View Quotation"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Make A Booking"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (idx,list,star){
return (function sevenm_booking_system$components$fit_quotations_comp_$_iter__7434(s__7435){
return (new cljs.core.LazySeq(null,((function (idx,list,star){
return (function (){
var s__7435__$1 = s__7435;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7435__$1);
if(temp__4657__auto__){
var s__7435__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7435__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7435__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7437 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7436 = (0);
while(true){
if((i__7436 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7436);
cljs.core.chunk_append.call(null,b__7437,cljs.core.with_meta(new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"quotationid","quotationid",-59560570).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"date","date",-1463434462).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"agentname","agentname",-1986723156).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info.btn-sm","button.btn.btn-info.btn-sm",440871145),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7436,i,c__6380__auto__,size__6381__auto__,b__7437,s__7435__$2,temp__4657__auto__,idx,list,star){
return (function (){
return sevenm_booking_system.components.get_quotation_pdf.call(null,i);
});})(i__7436,i,c__6380__auto__,size__6381__auto__,b__7437,s__7435__$2,temp__4657__auto__,idx,list,star))
], null),"View Quotation"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info.btn-sm","button.btn.btn-info.btn-sm",440871145),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7436,i,c__6380__auto__,size__6381__auto__,b__7437,s__7435__$2,temp__4657__auto__,idx,list,star){
return (function (){
return sevenm_booking_system.components.make_booking_fit_onclick.call(null,i);
});})(i__7436,i,c__6380__auto__,size__6381__auto__,b__7437,s__7435__$2,temp__4657__auto__,idx,list,star))
], null),"Make A Booking"], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"quotationid","quotationid",-59560570).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7438 = (i__7436 + (1));
i__7436 = G__7438;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7437),sevenm_booking_system$components$fit_quotations_comp_$_iter__7434.call(null,cljs.core.chunk_rest.call(null,s__7435__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7437),null);
}
} else {
var i = cljs.core.first.call(null,s__7435__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"quotationid","quotationid",-59560570).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"date","date",-1463434462).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"agentname","agentname",-1986723156).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info.btn-sm","button.btn.btn-info.btn-sm",440871145),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7435__$2,temp__4657__auto__,idx,list,star){
return (function (){
return sevenm_booking_system.components.get_quotation_pdf.call(null,i);
});})(i,s__7435__$2,temp__4657__auto__,idx,list,star))
], null),"View Quotation"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info.btn-sm","button.btn.btn-info.btn-sm",440871145),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7435__$2,temp__4657__auto__,idx,list,star){
return (function (){
return sevenm_booking_system.components.make_booking_fit_onclick.call(null,i);
});})(i,s__7435__$2,temp__4657__auto__,idx,list,star))
], null),"Make A Booking"], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"quotationid","quotationid",-59560570).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$fit_quotations_comp_$_iter__7434.call(null,cljs.core.rest.call(null,s__7435__$2)));
}
} else {
return null;
}
break;
}
});})(idx,list,star))
,null,null));
});})(idx,list,star))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (idx,list,star){
return (function (p1__7429_SHARP_){
cljs.core.reset_BANG_.call(null,idx,p1__7429_SHARP_);

return sevenm_booking_system.components.get_fitquotations_list.call(null,idx,list);
});})(idx,list,star))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,idx),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totalquotations","totalquotations",1812151438)) / (10))) | (0)),true])], null)], null)], null);
});
;})(idx,list,star))
});
sevenm_booking_system.components.get_groupquotations_list = (function sevenm_booking_system$components$get_groupquotations_list(idx,list){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("groups/quotations/"),cljs.core.str(cljs.core.deref.call(null,idx)),cljs.core.str("/10")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7439_SHARP_){
return cljs.core.reset_BANG_.call(null,list,p1__7439_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.make_booking_group_onclick = (function sevenm_booking_system$components$make_booking_group_onclick(record){
cljs.core.reset_BANG_.call(null,sevenm_booking_system.components.groupbookings_atom,new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),"BK-00",new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),false,new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),"",new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),sevenm_booking_system.components.terms_and_conditions,new cljs.core.Keyword(null,"quotationid","quotationid",-59560570),[cljs.core.str(record.call(null,new cljs.core.Keyword(null,"quotationid","quotationid",-59560570))),cljs.core.str(" "),cljs.core.str(cljs.core.get.call(null,record,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),cljs.core.PersistentArrayMap.EMPTY], null));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-groupbooking","add-groupbooking",-564709166)));
});
sevenm_booking_system.components.group_quotations_comp = (function sevenm_booking_system$components$group_quotations_comp(){
var idx = reagent.core.atom.call(null,(1));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totalquotations","totalquotations",1812151438),(0)], null));
sevenm_booking_system.components.get_groupquotations_list.call(null,idx,list);

return ((function (idx,list){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-list","i.fa.fa-list",731466083)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of Group Quotations"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.table-responsive","div.table-responsive",-16203823),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Quotation Id"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Date of Quotation"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Agent Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"View Quotation"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Make A Booking"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (idx,list){
return (function sevenm_booking_system$components$group_quotations_comp_$_iter__7445(s__7446){
return (new cljs.core.LazySeq(null,((function (idx,list){
return (function (){
var s__7446__$1 = s__7446;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7446__$1);
if(temp__4657__auto__){
var s__7446__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7446__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7446__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7448 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7447 = (0);
while(true){
if((i__7447 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7447);
cljs.core.chunk_append.call(null,b__7448,cljs.core.with_meta(new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"quotationid","quotationid",-59560570).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"date","date",-1463434462).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"agentname","agentname",-1986723156).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info.btn-sm","button.btn.btn-info.btn-sm",440871145),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7447,i,c__6380__auto__,size__6381__auto__,b__7448,s__7446__$2,temp__4657__auto__,idx,list){
return (function (){
return sevenm_booking_system.components.get_quotation_pdf.call(null,i);
});})(i__7447,i,c__6380__auto__,size__6381__auto__,b__7448,s__7446__$2,temp__4657__auto__,idx,list))
], null),"View Quotation"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info.btn-sm","button.btn.btn-info.btn-sm",440871145),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7447,i,c__6380__auto__,size__6381__auto__,b__7448,s__7446__$2,temp__4657__auto__,idx,list){
return (function (){
return sevenm_booking_system.components.make_booking_group_onclick.call(null,i);
});})(i__7447,i,c__6380__auto__,size__6381__auto__,b__7448,s__7446__$2,temp__4657__auto__,idx,list))
], null),"Make A Booking"], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"quotationid","quotationid",-59560570).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7449 = (i__7447 + (1));
i__7447 = G__7449;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7448),sevenm_booking_system$components$group_quotations_comp_$_iter__7445.call(null,cljs.core.chunk_rest.call(null,s__7446__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7448),null);
}
} else {
var i = cljs.core.first.call(null,s__7446__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"quotationid","quotationid",-59560570).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"date","date",-1463434462).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"agentname","agentname",-1986723156).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info.btn-sm","button.btn.btn-info.btn-sm",440871145),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7446__$2,temp__4657__auto__,idx,list){
return (function (){
return sevenm_booking_system.components.get_quotation_pdf.call(null,i);
});})(i,s__7446__$2,temp__4657__auto__,idx,list))
], null),"View Quotation"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info.btn-sm","button.btn.btn-info.btn-sm",440871145),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7446__$2,temp__4657__auto__,idx,list){
return (function (){
return sevenm_booking_system.components.make_booking_group_onclick.call(null,i);
});})(i,s__7446__$2,temp__4657__auto__,idx,list))
], null),"Make A Booking"], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"quotationid","quotationid",-59560570).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$group_quotations_comp_$_iter__7445.call(null,cljs.core.rest.call(null,s__7446__$2)));
}
} else {
return null;
}
break;
}
});})(idx,list))
,null,null));
});})(idx,list))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (idx,list){
return (function (p1__7440_SHARP_){
cljs.core.reset_BANG_.call(null,idx,p1__7440_SHARP_);

return sevenm_booking_system.components.get_groupquotations_list.call(null,idx,list);
});})(idx,list))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,idx),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totalquotations","totalquotations",1812151438)) / (10))) | (0)),true])], null)], null)], null);
});
;})(idx,list))
});
sevenm_booking_system.components.get_all_cities = (function sevenm_booking_system$components$get_all_cities(cities){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("cities")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7450_SHARP_){
return cljs.core.reset_BANG_.call(null,cities,p1__7450_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_all_logos = (function sevenm_booking_system$components$get_all_logos(logos){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("logos")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7451_SHARP_){
return cljs.core.reset_BANG_.call(null,logos,p1__7451_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_all_items = (function sevenm_booking_system$components$get_all_items(items){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("items")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7452_SHARP_){
return cljs.core.reset_BANG_.call(null,items,p1__7452_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_fit_items_by_city = (function sevenm_booking_system$components$get_fit_items_by_city(id,items){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("itemsbyfitcityid/"),cljs.core.str(id)].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7453_SHARP_){
return cljs.core.reset_BANG_.call(null,items,p1__7453_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_group_items_by_city = (function sevenm_booking_system$components$get_group_items_by_city(id,items){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("itemsbygroupcityid/"),cljs.core.str(id)].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7454_SHARP_){
return cljs.core.reset_BANG_.call(null,items,p1__7454_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_all_vendors = (function sevenm_booking_system$components$get_all_vendors(vendors){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("vendors")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7455_SHARP_){
return cljs.core.reset_BANG_.call(null,vendors,p1__7455_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_vendors_by_city = (function sevenm_booking_system$components$get_vendors_by_city(id,vendors){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("vendorsbycityid/"),cljs.core.str(id)].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7456_SHARP_){
return cljs.core.reset_BANG_.call(null,vendors,p1__7456_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_all_hotels = (function sevenm_booking_system$components$get_all_hotels(hotels){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("hotels")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7457_SHARP_){
return cljs.core.reset_BANG_.call(null,hotels,p1__7457_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_hotels_by_city = (function sevenm_booking_system$components$get_hotels_by_city(id,hotels){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("hotelsbycityid/"),cljs.core.str(id)].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7458_SHARP_){
return cljs.core.reset_BANG_.call(null,hotels,p1__7458_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_vendors_by_city_category = (function sevenm_booking_system$components$get_vendors_by_city_category(cityid,category,vendors){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str([cljs.core.str("city/"),cljs.core.str(cityid),cljs.core.str("/category/"),cljs.core.str(category),cljs.core.str("/vendors")].join(''))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7459_SHARP_){
return cljs.core.reset_BANG_.call(null,vendors,p1__7459_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_fitactivities_by_city_category = (function sevenm_booking_system$components$get_fitactivities_by_city_category(cityid,category,activities){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str([cljs.core.str("city/"),cljs.core.str(cityid),cljs.core.str("/category/"),cljs.core.str(category),cljs.core.str("/fitactivities")].join(''))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7460_SHARP_){
return cljs.core.reset_BANG_.call(null,activities,p1__7460_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.get_groupactivities_by_city_category = (function sevenm_booking_system$components$get_groupactivities_by_city_category(cityid,category,activities){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str([cljs.core.str("city/"),cljs.core.str(cityid),cljs.core.str("/category/"),cljs.core.str(category),cljs.core.str("/groupactivities")].join(''))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7461_SHARP_){
return cljs.core.reset_BANG_.call(null,activities,p1__7461_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.check_manual = (function sevenm_booking_system$components$check_manual(data_set){
return (function (des){
if((cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"itemid","itemid",2031188061)) > (0))){
return true;
} else {
if(cljs.core.seq.call(null,des)){
return true;
} else {
return false;
}
}
});
});
sevenm_booking_system.components.add_itinerary_validator = (function sevenm_booking_system$components$add_itinerary_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,cljs.core.deref.call(null,data_set)));
});
sevenm_booking_system.components.error_box = (function sevenm_booking_system$components$error_box(focus,val_fun,key){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),(cljs.core.truth_(cljs.core.deref.call(null,focus))?((cljs.core._EQ_.call(null,null,val_fun))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.first.call(null,val_fun.call(null,key)))].join('')], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null);
});
sevenm_booking_system.components.add_itinerary_on_click = (function sevenm_booking_system$components$add_itinerary_on_click(data_set,kth,add_data,focus){
if((sevenm_booking_system.components.add_itinerary_validator.call(null,add_data) == null)){
cljs.core.reset_BANG_.call(null,focus,false);

if(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112)], null)))){
cljs.core.swap_BANG_.call(null,data_set,cljs.core.update_in,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112)], null),cljs.core.conj,cljs.core.deref.call(null,add_data));
} else {
cljs.core.swap_BANG_.call(null,data_set,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.deref.call(null,add_data)], null));
}

return cljs.core.swap_BANG_.call(null,add_data,cljs.core.assoc,new cljs.core.Keyword(null,"amount","amount",364489504),(0),new cljs.core.Keyword(null,"paymentmode","paymentmode",-662546594),"",new cljs.core.Keyword(null,"itemid","itemid",2031188061),(0),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),"0",new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420),(0),new cljs.core.Keyword(null,"confirmationnumber","confirmationnumber",1601221840),"",new cljs.core.Keyword(null,"numberofpeoples","numberofpeoples",1312253403),(0),new cljs.core.Keyword(null,"manualdescription","manualdescription",-1037471273),"",new cljs.core.Keyword(null,"remarks","remarks",1566599360),"");
} else {
return cljs.core.reset_BANG_.call(null,focus,true);
}
});
sevenm_booking_system.components.categories_atom = reagent.core.atom.call(null,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"meals",new cljs.core.Keyword(null,"name","name",1843675177),"Meals"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"hotel",new cljs.core.Keyword(null,"name","name",1843675177),"Hotel"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"transportation",new cljs.core.Keyword(null,"name","name",1843675177),"Transportation"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"attractions",new cljs.core.Keyword(null,"name","name",1843675177),"Attractions"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"guidedcitytours",new cljs.core.Keyword(null,"name","name",1843675177),"Guided City Tours"], null)], null));
sevenm_booking_system.components.sub_categories = new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Breakfast","Lunch","Hi-Tea","Dinner"], null);
sevenm_booking_system.components.sub_categories_atom = reagent.core.atom.call(null,cljs.core.mapv.call(null,(function (p1__7462_SHARP_){
return cljs.core.assoc.call(null,cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"id","id",-1388402092),p1__7462_SHARP_,new cljs.core.Keyword(null,"name","name",1843675177),p1__7462_SHARP_);
}),sevenm_booking_system.components.sub_categories));
sevenm_booking_system.components.iti_category_onchange = (function sevenm_booking_system$components$iti_category_onchange(var_args){
var args7463 = [];
var len__6677__auto___7468 = arguments.length;
var i__6678__auto___7469 = (0);
while(true){
if((i__6678__auto___7469 < len__6677__auto___7468)){
args7463.push((arguments[i__6678__auto___7469]));

var G__7470 = (i__6678__auto___7469 + (1));
i__6678__auto___7469 = G__7470;
continue;
} else {
}
break;
}

var G__7465 = args7463.length;
switch (G__7465) {
case 4:
return sevenm_booking_system.components.iti_category_onchange.cljs$core$IFn$_invoke$arity$4((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),(arguments[(3)]));

break;
case 6:
return sevenm_booking_system.components.iti_category_onchange.cljs$core$IFn$_invoke$arity$6((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),(arguments[(3)]),(arguments[(4)]),(arguments[(5)]));

break;
default:
throw (new Error([cljs.core.str("Invalid arity: "),cljs.core.str(args7463.length)].join('')));

}
});

sevenm_booking_system.components.iti_category_onchange.cljs$core$IFn$_invoke$arity$4 = (function (type,data,activities,vendors){
return (function (input){
var record = sevenm_booking_system.components.js_clj.call(null,input);
var category = record.call(null,new cljs.core.Keyword(null,"id","id",-1388402092));
var cityid = cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"cityid","cityid",1837642752));
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"category","category",-593092832),category);

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"subcategory","subcategory",-1171802998),"");

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484),"");

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"itemid","itemid",2031188061),(0));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420),(0));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"manualdescription","manualdescription",-1037471273),"");

sevenm_booking_system.components.get_vendors_by_city_category.call(null,cityid,category,vendors);

var G__7466 = type;
switch (G__7466) {
case "fit":
return sevenm_booking_system.components.get_fitactivities_by_city_category.call(null,cityid,category,activities);

break;
default:
return sevenm_booking_system.components.get_fitactivities_by_city_category.call(null,cityid,category,activities);

}
});
});

sevenm_booking_system.components.iti_category_onchange.cljs$core$IFn$_invoke$arity$6 = (function (type,data,kth,i,activities,vendors){
return (function (input){
var record = sevenm_booking_system.components.js_clj.call(null,input);
var category = record.call(null,new cljs.core.Keyword(null,"id","id",-1388402092));
var cityid = cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null));
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"category","category",-593092832)], null),category);

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"subcategory","subcategory",-1171802998)], null),"");

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484)], null),"");

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"itemid","itemid",2031188061)], null),(0));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420)], null),(0));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"manualdescription","manualdescription",-1037471273)], null),"");

sevenm_booking_system.components.get_vendors_by_city_category.call(null,cityid,category,vendors);

var G__7467 = type;
switch (G__7467) {
case "fit":
return sevenm_booking_system.components.get_fitactivities_by_city_category.call(null,cityid,category,activities);

break;
default:
return sevenm_booking_system.components.get_fitactivities_by_city_category.call(null,cityid,category,activities);

}
});
});

sevenm_booking_system.components.iti_category_onchange.cljs$lang$maxFixedArity = 6;

sevenm_booking_system.components.add_itinerary = (function sevenm_booking_system$components$add_itinerary(type,data,kth){
var add_data = reagent.core.atom.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.Keyword(null,"remarks","remarks",1566599360),new cljs.core.Keyword(null,"amount","amount",364489504),new cljs.core.Keyword(null,"date","date",-1463434462),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),new cljs.core.Keyword(null,"confirmationnumber","confirmationnumber",1601221840),new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420),new cljs.core.Keyword(null,"manualdescription","manualdescription",-1037471273),new cljs.core.Keyword(null,"numberofpeoples","numberofpeoples",1312253403),new cljs.core.Keyword(null,"itemid","itemid",2031188061),new cljs.core.Keyword(null,"paymentmode","paymentmode",-662546594)],[cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null)),"",(0),"","0","",(0),"",(0),(0),""]));
var focus = reagent.core.atom.call(null,false);
var vendors = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var activities = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
return ((function (add_data,focus,vendors,activities){
return (function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4.col-sm-4","div.col-md-4.col-sm-4",-279060494),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6.col-sm-6","div.col-md-6.col-sm-6",-1642823194),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12","div.col-md-12.col-sm-12",-1679483977),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Date"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.datepicker,"datepicker","dd-MMM-yyyy",reagent.core.cursor.call(null,add_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"date","date",-1463434462)], null))], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.error_box,focus,sevenm_booking_system.components.add_itinerary_validator.call(null,add_data),new cljs.core.Keyword(null,"date","date",-1463434462)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Time"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.div_timepicker,"timepicker","hh:mm",reagent.core.cursor.call(null,add_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"time","time",1385887882)], null))], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.error_box,focus,sevenm_booking_system.components.add_itinerary_validator.call(null,add_data),new cljs.core.Keyword(null,"time","time",1385887882)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6.col-sm-6","div.col-md-6.col-sm-6",-1642823194),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12","div.col-md-12.col-sm-12",-1679483977),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Category"], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select_onchange,"Category","Select Category",sevenm_booking_system.components.categories_atom,cljs.core.get.call(null,cljs.core.deref.call(null,add_data),new cljs.core.Keyword(null,"category","category",-593092832)),sevenm_booking_system.components.iti_category_onchange.call(null,type,add_data,activities,vendors)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.error_box,focus,sevenm_booking_system.components.add_itinerary_validator.call(null,add_data),new cljs.core.Keyword(null,"category","category",-593092832)], null)], null),((cljs.core._EQ_.call(null,"meals",cljs.core.deref.call(null,add_data).call(null,new cljs.core.Keyword(null,"category","category",-593092832))))?new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Sub-category"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select,"Sub-category","Please Sub-category",sevenm_booking_system.components.sub_categories_atom,reagent.core.cursor.call(null,add_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"subcategory","subcategory",-1171802998)], null))], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.error_box,focus,sevenm_booking_system.components.add_itinerary_validator.call(null,add_data),new cljs.core.Keyword(null,"subcategory","subcategory",-1171802998)], null)], null):null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8.col-sm-8","div.col-md-8.col-sm-8",748934732),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3.col-sm-3","div.col-md-3.col-sm-3",-348861795),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12","div.col-md-12.col-sm-12",-1679483977),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Activity Name"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.select_with_manual,"Activityid",activities,add_data], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.error_box,focus,sevenm_booking_system.components.add_itinerary_validator.call(null,add_data),new cljs.core.Keyword(null,"itemid","itemid",2031188061)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Activity Title"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"actitvitytitle","text","Activity Title",reagent.core.cursor.call(null,add_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484)], null))], null)], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6.col-sm-6","div.col-md-6.col-sm-6",-1642823194),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Activity Description"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.text_area,"manualDescription",(4),"Manual Description",reagent.core.cursor.call(null,add_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"manualdescription","manualdescription",-1037471273)], null))], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.error_box,focus,sevenm_booking_system.components.add_itinerary_validator.call(null,add_data),new cljs.core.Keyword(null,"manualdescription","manualdescription",-1037471273)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3.col-sm-3","div.col-md-3.col-sm-3",-348861795),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12","div.col-md-12.col-sm-12",-1679483977),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Vendor Name"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select,"vendor-name","Select vendor",vendors,reagent.core.cursor.call(null,add_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420)], null))], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.error_box,focus,sevenm_booking_system.components.add_itinerary_validator.call(null,add_data),new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",934104792)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default.btn-block","button.btn.btn-default.btn-block",1801877001),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (add_data,focus,vendors,activities){
return (function (){
return sevenm_booking_system.components.add_itinerary_on_click.call(null,data,kth,add_data,focus);
});})(add_data,focus,vendors,activities))
], null),"Add Itinerary"], null)], null)], null)], null)], null)], null)], null)], null);
});
;})(add_data,focus,vendors,activities))
});
sevenm_booking_system.components.delete_itineraries_error_handler = (function sevenm_booking_system$components$delete_itineraries_error_handler(res){
$("#itineraryremovemodal").modal("hide");

var G__7475 = new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(res);
switch (G__7475) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Problem with the server, Please try again");

}
});
sevenm_booking_system.components.delete_itineraries_success_handler = (function sevenm_booking_system$components$delete_itineraries_success_handler(data_set,kth,index){
var itineraries = cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112)], null),cljs.core.PersistentVector.EMPTY);
var indexes = cljs.core.range.call(null,cljs.core.count.call(null,itineraries));
cljs.core.swap_BANG_.call(null,data_set,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112)], null),cljs.core.vec.call(null,cljs.core.vals.call(null,cljs.core.dissoc.call(null,cljs.core.zipmap.call(null,indexes,itineraries),cljs.core.deref.call(null,index)))));

return $("#itineraryremovemodal").modal("hide");
});
sevenm_booking_system.components.delete_itineraries_model_onclick = (function sevenm_booking_system$components$delete_itineraries_model_onclick(data_set,kth,index,id){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookingdetails/"),cljs.core.str(id)].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (){
return sevenm_booking_system.components.delete_itineraries_success_handler.call(null,data_set,kth,index);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7477_SHARP_){
return sevenm_booking_system.components.delete_itineraries_error_handler.call(null,p1__7477_SHARP_);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.remove_itineraries_on_click = (function sevenm_booking_system$components$remove_itineraries_on_click(data_set,kth,index){
var id = cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),cljs.core.deref.call(null,index),new cljs.core.Keyword(null,"id","id",-1388402092)], null));
if(cljs.core.truth_(id)){
return sevenm_booking_system.components.delete_itineraries_model_onclick.call(null,data_set,kth,index,id);
} else {
return sevenm_booking_system.components.delete_itineraries_success_handler.call(null,data_set,kth,index);
}
});
sevenm_booking_system.components.delete_itineraries_modal = (function sevenm_booking_system$components$delete_itineraries_modal(data,kth,index){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"itineraryremovemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this Itinerary ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,index)),cljs.core.str("Itinerary")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.remove_itineraries_on_click.call(null,data,kth,index);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.show_itineraries_items_comp = (function sevenm_booking_system$components$show_itineraries_items_comp(type,data,kth,i,index){
var cityid = cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null));
var category = cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"category","category",-593092832)], null));
var vendors = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var activities = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
if(cljs.core.seq.call(null,category)){
sevenm_booking_system.components.get_vendors_by_city_category.call(null,cityid,category,vendors);

var G__7480_7481 = type;
switch (G__7480_7481) {
case "fit":
sevenm_booking_system.components.get_fitactivities_by_city_category.call(null,cityid,category,activities);

break;
default:
sevenm_booking_system.components.get_fitactivities_by_city_category.call(null,cityid,category,activities);

}
} else {
}

return ((function (cityid,category,vendors,activities){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.activitylog.paymentlog_model_comp,"Itinerary Payment log",data,kth,i,[cljs.core.str("paymentlog?paymentid="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null))),cljs.core.str("&bookingid="),cljs.core.str(cljs.core.get.call(null,cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"id","id",-1388402092))),cljs.core.str("&")].join(''),"itinerary",vendors], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4.col-sm-4","div.col-md-4.col-sm-4",-279060494),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6.col-sm-6","div.col-md-6.col-sm-6",-1642823194),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12","div.col-md-12.col-sm-12",-1679483977),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Date"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.datepicker,"datepicker","dd-MMM-yyyy",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"date","date",-1463434462)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Time"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.div_timepicker,"timepicker","hh:mm",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"time","time",1385887882)], null))], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6.col-sm-6","div.col-md-6.col-sm-6",-1642823194),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12","div.col-md-12.col-sm-12",-1679483977),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Category"], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select_onchange,"Category","Select Category",sevenm_booking_system.components.categories_atom,cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"category","category",-593092832)], null)),sevenm_booking_system.components.iti_category_onchange.call(null,type,data,kth,i,activities,vendors)], null)], null),((cljs.core._EQ_.call(null,"meals",cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"category","category",-593092832)], null))))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Sub-category"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select,"Sub-category","Select Sub-category",sevenm_booking_system.components.sub_categories_atom,reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"subcategory","subcategory",-1171802998)], null))], null)], null):null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8.col-sm-8","div.col-md-8.col-sm-8",748934732),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3.col-sm-3","div.col-md-3.col-sm-3",-348861795),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12","div.col-md-12.col-sm-12",-1679483977),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Activity Name"], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.select_with_manual,"Activities",activities,data,kth,i], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Activity Title"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"activitytitle","text","Activity Title",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484)], null))], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6.col-sm-6","div.col-md-6.col-sm-6",-1642823194),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Activity Description"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.text_area,"ActivityDescription",(4),"Activity Description",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"manualdescription","manualdescription",-1037471273)], null))], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3.col-sm-3","div.col-md-3.col-sm-3",-348861795),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12","div.col-md-12.col-sm-12",-1679483977),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Vendor Name"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select,"vendor-name","Select Vendor",vendors,reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",934104792)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.btn-group","div.btn-group",1563487258),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (cityid,category,vendors,activities){
return (function (){
return $([cljs.core.str("#itineraryActivitylog"),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))].join('')).modal("show");
});})(cityid,category,vendors,activities))
,new cljs.core.Keyword(null,"title","title",636505583),"Actitvity Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-book","i.fa.fa-book",906440351)], null)], null):null),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (cityid,category,vendors,activities){
return (function (){
return $([cljs.core.str("#itineraryPaymentlog"),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))].join('')).modal("show");
});})(cityid,category,vendors,activities))
,new cljs.core.Keyword(null,"title","title",636505583),"Payment Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-credit-card","i.fa.fa-credit-card",289994433)], null)], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn  btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (cityid,category,vendors,activities){
return (function (){
var vendor_id = cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420)], null),(0));
var vendor_details = cljs.core.first.call(null,cljs.core.filter.call(null,((function (vendor_id,cityid,category,vendors,activities){
return (function (p1__7478_SHARP_){
return cljs.core._EQ_.call(null,vendor_id,p1__7478_SHARP_.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)));
});})(vendor_id,cityid,category,vendors,activities))
,cljs.core.deref.call(null,vendors)));
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"vendor-info","vendor-info",-395189210),vendor_details);

return $("#vendorinfo").modal("show");
});})(cityid,category,vendors,activities))
,new cljs.core.Keyword(null,"title","title",636505583),"Vendor Info"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-address-card","i.fa.fa-address-card",-967298794)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (cityid,category,vendors,activities){
return (function (){
cljs.core.reset_BANG_.call(null,index,i);

return $("#itineraryremovemodal").modal("show");
});})(cityid,category,vendors,activities))
,new cljs.core.Keyword(null,"title","title",636505583),"Remove Itinerary"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-trash","i.fa.fa-trash",1038677936)], null)], null)], null)], null)], null)], null)], null)], null)], null);
});
;})(cityid,category,vendors,activities))
});
sevenm_booking_system.components.show_itineraries = (function sevenm_booking_system$components$show_itineraries(type,data,kth,index){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.todo-list.ui-sortable","ul.todo-list.ui-sortable",-1922562164),cljs.core.doall.call(null,(function (){var iter__6382__auto__ = (function sevenm_booking_system$components$show_itineraries_$_iter__7487(s__7488){
return (new cljs.core.LazySeq(null,(function (){
var s__7488__$1 = s__7488;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7488__$1);
if(temp__4657__auto__){
var s__7488__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7488__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7488__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7490 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7489 = (0);
while(true){
if((i__7489 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7489);
cljs.core.chunk_append.call(null,b__7490,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.activitylog.activity_model_comp,"Itinerary Actitvity log",data,kth,i,[cljs.core.str("activitylog?activityid="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null))),cljs.core.str("&bookingid="),cljs.core.str(cljs.core.get.call(null,cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"id","id",-1388402092))),cljs.core.str("&")].join(''),"itinerary"], null):null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.show_itineraries_items_comp,type,data,kth,i,index], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),i], null)));

var G__7491 = (i__7489 + (1));
i__7489 = G__7491;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7490),sevenm_booking_system$components$show_itineraries_$_iter__7487.call(null,cljs.core.chunk_rest.call(null,s__7488__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7490),null);
}
} else {
var i = cljs.core.first.call(null,s__7488__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.activitylog.activity_model_comp,"Itinerary Actitvity log",data,kth,i,[cljs.core.str("activitylog?activityid="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null))),cljs.core.str("&bookingid="),cljs.core.str(cljs.core.get.call(null,cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"id","id",-1388402092))),cljs.core.str("&")].join(''),"itinerary"], null):null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.show_itineraries_items_comp,type,data,kth,i,index], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),i], null)),sevenm_booking_system$components$show_itineraries_$_iter__7487.call(null,cljs.core.rest.call(null,s__7488__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__6382__auto__.call(null,cljs.core.range.call(null,cljs.core.count.call(null,cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112)], null),cljs.core.PersistentVector.EMPTY))));
})())], null);
});
sevenm_booking_system.components.itinerary_comp = (function sevenm_booking_system$components$itinerary_comp(type,data_set,kth){
var index = reagent.core.atom.call(null,(0));
return ((function (index){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-default.box-solid","div.box.box-default.box-solid",523481139),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-calendar-check-o","i.fa.fa-calendar-check-o",208613728)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"Day & Time Wise Itinerary"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-box-tool","button.btn.btn-box-tool",-1111665765),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data-widget","data-widget",-1177295198),"collapse",new cljs.core.Keyword(null,"type","type",1174270348),"button"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-minus","i.fa.fa-minus",-2118708238)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_itineraries_modal,data_set,kth,index], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.show_itineraries,type,data_set,kth,index], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.add_itinerary,type,data_set,kth], null)], null)], null);
});
;})(index))
});
sevenm_booking_system.components.delete_flights_error_handler = (function sevenm_booking_system$components$delete_flights_error_handler(res){
$("#flightsdeletemodal").modal("hide");

var G__7493 = new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(res);
switch (G__7493) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Problem with the server, Please try again");

}
});
sevenm_booking_system.components.delete_flights_success_handler = (function sevenm_booking_system$components$delete_flights_success_handler(data_set,kth,index){
var flights = cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952)], null),cljs.core.PersistentVector.EMPTY);
var indexes = cljs.core.range.call(null,cljs.core.count.call(null,flights));
cljs.core.swap_BANG_.call(null,data_set,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952)], null),cljs.core.vec.call(null,cljs.core.vals.call(null,cljs.core.dissoc.call(null,cljs.core.zipmap.call(null,indexes,flights),cljs.core.deref.call(null,index)))));

return $("#flightsdeletemodal").modal("hide");
});
sevenm_booking_system.components.delete_flights_model_onclick = (function sevenm_booking_system$components$delete_flights_model_onclick(data_set,kth,index,id){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("flightinformation/"),cljs.core.str(id)].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (){
return sevenm_booking_system.components.delete_flights_success_handler.call(null,data_set,kth,index);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7495_SHARP_){
return sevenm_booking_system.components.delete_flights_error_handler.call(null,p1__7495_SHARP_);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.remove_flights_on_click = (function sevenm_booking_system$components$remove_flights_on_click(data_set,kth,index){
var id = cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),cljs.core.deref.call(null,index),new cljs.core.Keyword(null,"id","id",-1388402092)], null));
if(cljs.core.truth_(id)){
return sevenm_booking_system.components.delete_flights_model_onclick.call(null,data_set,kth,index,id);
} else {
return sevenm_booking_system.components.delete_flights_success_handler.call(null,data_set,kth,index);
}
});
sevenm_booking_system.components.delete_Transport_modal = (function sevenm_booking_system$components$delete_Transport_modal(data,kth,index){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"flightsdeletemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this Transport ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,index)),cljs.core.str("transport")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.remove_flights_on_click.call(null,data,kth,index);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.show_flight_information_comp = (function sevenm_booking_system$components$show_flight_information_comp(data,kth,index){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.todo-list.ui-sortable","ul.todo-list.ui-sortable",-1922562164),cljs.core.doall.call(null,(function (){var iter__6382__auto__ = (function sevenm_booking_system$components$show_flight_information_comp_$_iter__7500(s__7501){
return (new cljs.core.LazySeq(null,(function (){
var s__7501__$1 = s__7501;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7501__$1);
if(temp__4657__auto__){
var s__7501__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7501__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7501__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7503 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7502 = (0);
while(true){
if((i__7502 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7502);
cljs.core.chunk_append.call(null,b__7503,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Journey Type"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_select,"journeytype",new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Arrive Flight","Depart Flight","Arrive Cruise","Depart Cruise","Arrive Surface","Depart Surface"], null),reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"journeytype","journeytype",1413971042)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Transportation Number"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"FlightNo","text","TP Number",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"flightnumber","flightnumber",-1523127721)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Transportation Name"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"transportationmname","text","Transportation Name",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"flightname","flightname",848203410)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Date"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.datepicker,"date","dd-MMM-yyyy",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"date","date",-1463434462)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Depart Time"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.div_timepicker,"time","hh:mm",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"departtime","departtime",-1004641360)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Arrival Time"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.div_timepicker,"time","hh:mm",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"arrivetime","arrivetime",1243295876)], null))], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4.col-sm-3","div.col-md-4.col-sm-3",-259128362),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Depart"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"Depart","text","Depart",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"depart","depart",-100007287)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4.col-sm-3","div.col-md-4.col-sm-3",-259128362),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Arrival"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"Arrival","text","Arrival",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"arrive","arrive",-284644322)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"# of PAX"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"# of PAX","text","# of PAX",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"noofpax","noofpax",1006695916)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",934104792)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info","button.btn.btn-info",-749622712),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7502,i,c__6380__auto__,size__6381__auto__,b__7503,s__7501__$2,temp__4657__auto__){
return (function (){
cljs.core.reset_BANG_.call(null,index,i);

return $("#flightsdeletemodal").modal("show");
});})(i__7502,i,c__6380__auto__,size__6381__auto__,b__7503,s__7501__$2,temp__4657__auto__))
], null),"Remove Transport"], null)], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),i], null)));

var G__7504 = (i__7502 + (1));
i__7502 = G__7504;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7503),sevenm_booking_system$components$show_flight_information_comp_$_iter__7500.call(null,cljs.core.chunk_rest.call(null,s__7501__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7503),null);
}
} else {
var i = cljs.core.first.call(null,s__7501__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Journey Type"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_select,"journeytype",new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Arrive Flight","Depart Flight","Arrive Cruise","Depart Cruise","Arrive Surface","Depart Surface"], null),reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"journeytype","journeytype",1413971042)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Transportation Number"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"FlightNo","text","TP Number",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"flightnumber","flightnumber",-1523127721)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Transportation Name"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"transportationmname","text","Transportation Name",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"flightname","flightname",848203410)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Date"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.datepicker,"date","dd-MMM-yyyy",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"date","date",-1463434462)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Depart Time"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.div_timepicker,"time","hh:mm",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"departtime","departtime",-1004641360)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Arrival Time"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.div_timepicker,"time","hh:mm",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"arrivetime","arrivetime",1243295876)], null))], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4.col-sm-3","div.col-md-4.col-sm-3",-259128362),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Depart"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"Depart","text","Depart",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"depart","depart",-100007287)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4.col-sm-3","div.col-md-4.col-sm-3",-259128362),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Arrival"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"Arrival","text","Arrival",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"arrive","arrive",-284644322)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"# of PAX"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"# of PAX","text","# of PAX",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),i,new cljs.core.Keyword(null,"noofpax","noofpax",1006695916)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",934104792)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info","button.btn.btn-info",-749622712),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7501__$2,temp__4657__auto__){
return (function (){
cljs.core.reset_BANG_.call(null,index,i);

return $("#flightsdeletemodal").modal("show");
});})(i,s__7501__$2,temp__4657__auto__))
], null),"Remove Transport"], null)], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),i], null)),sevenm_booking_system$components$show_flight_information_comp_$_iter__7500.call(null,cljs.core.rest.call(null,s__7501__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__6382__auto__.call(null,cljs.core.range.call(null,cljs.core.count.call(null,cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952)], null),cljs.core.PersistentVector.EMPTY))));
})())], null);
});
sevenm_booking_system.components.add_flights_on_click = (function sevenm_booking_system$components$add_flights_on_click(data_set,kth,data){
if(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952)], null)))){
cljs.core.swap_BANG_.call(null,data_set,cljs.core.update_in,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952)], null),cljs.core.conj,cljs.core.deref.call(null,data));
} else {
cljs.core.swap_BANG_.call(null,data_set,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.deref.call(null,data)], null));
}

return cljs.core.reset_BANG_.call(null,data,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.Keyword(null,"journeytype","journeytype",1413971042),new cljs.core.Keyword(null,"date","date",-1463434462),new cljs.core.Keyword(null,"arrivetime","arrivetime",1243295876),new cljs.core.Keyword(null,"depart","depart",-100007287),new cljs.core.Keyword(null,"noofpax","noofpax",1006695916),new cljs.core.Keyword(null,"departtime","departtime",-1004641360),new cljs.core.Keyword(null,"flightnumber","flightnumber",-1523127721),new cljs.core.Keyword(null,"arrive","arrive",-284644322)],[cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null)),"Arrive Flight","","","","","","",""]));
});
sevenm_booking_system.components.add_flight_information_comp = (function sevenm_booking_system$components$add_flight_information_comp(data_set,kth){
var data = reagent.core.atom.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.Keyword(null,"journeytype","journeytype",1413971042),new cljs.core.Keyword(null,"date","date",-1463434462),new cljs.core.Keyword(null,"arrivetime","arrivetime",1243295876),new cljs.core.Keyword(null,"depart","depart",-100007287),new cljs.core.Keyword(null,"noofpax","noofpax",1006695916),new cljs.core.Keyword(null,"departtime","departtime",-1004641360),new cljs.core.Keyword(null,"flightnumber","flightnumber",-1523127721),new cljs.core.Keyword(null,"arrive","arrive",-284644322)],[cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null)),"Arrive Flight","","","","","","",""]));
return ((function (data){
return (function (){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Journey Type"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_select,"journeytype",new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Arrive Flight","Depart Flight","Arrive Cruise","Depart Cruise","Arrive Surface","Depart Surface"], null),reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"journeytype","journeytype",1413971042)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Transportation Number"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"transportationNo","text","TP Number",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"flightnumber","flightnumber",-1523127721)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Transportation Name"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"transportationmname","text","Transportation Name",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"flightname","flightname",848203410)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Date"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.datepicker,"date","dd-MMM-yyyy",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"date","date",-1463434462)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Depart Time"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.div_timepicker,"time","hh:mm",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"departtime","departtime",-1004641360)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Arrival Time"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.div_timepicker,"time","hh:mm",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"arrivetime","arrivetime",1243295876)], null))], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4.col-sm-3","div.col-md-4.col-sm-3",-259128362),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Depart"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"Depart","text","Depart",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"depart","depart",-100007287)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4.col-sm-3","div.col-md-4.col-sm-3",-259128362),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Arrival"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"Arrival","text","Arrival",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"arrive","arrive",-284644322)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"# of PAX"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"# of PAX","text","# of PAX",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"noofpax","noofpax",1006695916)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-3","div.col-md-2.col-sm-3",1988228692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",934104792)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default.btn-block","button.btn.btn-default.btn-block",1801877001),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data){
return (function (){
return sevenm_booking_system.components.add_flights_on_click.call(null,data_set,kth,data);
});})(data))
], null),"Add Transport"], null)], null)], null)], null);
});
;})(data))
});
sevenm_booking_system.components.flight_information_comp = (function sevenm_booking_system$components$flight_information_comp(data_set,kth){
var index = reagent.core.atom.call(null,(0));
return ((function (index){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-default.box-solid","div.box.box-default.box-solid",523481139),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-plane","i.fa.fa-plane",-471003459)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"Transport Information"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),(0),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-box-tool",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (index){
return (function (){
return $([cljs.core.str("#transportActivitylog"),cljs.core.str(cljs.core.get.call(null,cljs.core.deref.call(null,data_set),new cljs.core.Keyword(null,"id","id",-1388402092))),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null),(0)))].join('')).modal("show");
});})(index))
,new cljs.core.Keyword(null,"title","title",636505583),"Actitvity Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-book","i.fa.fa-book",906440351)], null)], null):null)," ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-box-tool","button.btn.btn-box-tool",-1111665765),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data-widget","data-widget",-1177295198),"collapse",new cljs.core.Keyword(null,"type","type",1174270348),"button"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-minus","i.fa.fa-minus",-2118708238)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),(0),new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.activitylog.activity_model_comp,"Transportation Actitvity log",data_set,kth,(0),[cljs.core.str("activitylog?activityid="),cljs.core.str([cljs.core.str(cljs.core.get.call(null,cljs.core.deref.call(null,data_set),new cljs.core.Keyword(null,"id","id",-1388402092))),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null),(0)))].join('')),cljs.core.str("&bookingid="),cljs.core.str(cljs.core.get.call(null,cljs.core.deref.call(null,data_set),new cljs.core.Keyword(null,"id","id",-1388402092))),cljs.core.str("&")].join(''),"transport"], null):null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_Transport_modal,data_set,kth,index], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.show_flight_information_comp,data_set,kth,index], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.add_flight_information_comp,data_set,kth], null)], null)], null);
});
;})(index))
});
sevenm_booking_system.components.delete_hotels_error_handler = (function sevenm_booking_system$components$delete_hotels_error_handler(res){
$("#hotelsremovemodal").modal("hide");

var G__7506 = new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(res);
switch (G__7506) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Problem with the server, Please try again");

}
});
sevenm_booking_system.components.delete_hotels_success_handler = (function sevenm_booking_system$components$delete_hotels_success_handler(data_set,kth,index){
var hotels = cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743)], null),cljs.core.PersistentVector.EMPTY);
var indexes = cljs.core.range.call(null,cljs.core.count.call(null,hotels));
cljs.core.swap_BANG_.call(null,data_set,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743)], null),cljs.core.vec.call(null,cljs.core.vals.call(null,cljs.core.dissoc.call(null,cljs.core.zipmap.call(null,indexes,hotels),cljs.core.deref.call(null,index)))));

return $("#hotelsremovemodal").modal("hide");
});
sevenm_booking_system.components.delete_hotels_model_onclick = (function sevenm_booking_system$components$delete_hotels_model_onclick(data_set,kth,index,id){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("hotelinformation/"),cljs.core.str(id)].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (){
return sevenm_booking_system.components.delete_hotels_success_handler.call(null,data_set,kth,index);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7508_SHARP_){
return sevenm_booking_system.components.delete_hotels_error_handler.call(null,p1__7508_SHARP_);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.remove_hotels_on_click = (function sevenm_booking_system$components$remove_hotels_on_click(data_set,kth,index){
var id = cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),cljs.core.deref.call(null,index),new cljs.core.Keyword(null,"id","id",-1388402092)], null));
if(cljs.core.truth_(id)){
return sevenm_booking_system.components.delete_hotels_model_onclick.call(null,data_set,kth,index,id);
} else {
return sevenm_booking_system.components.delete_hotels_success_handler.call(null,data_set,kth,index);
}
});
sevenm_booking_system.components.delete_hotels_modal = (function sevenm_booking_system$components$delete_hotels_modal(data,kth,index){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"hotelsremovemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this Hotel ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,index)),cljs.core.str("Modal")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.remove_hotels_on_click.call(null,data,kth,index);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.edit_hotel_selecttag_onchnage = (function sevenm_booking_system$components$edit_hotel_selecttag_onchnage(data,kth,i){
return (function (input){
var record = sevenm_booking_system.components.js_clj.call(null,input);
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null),record.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"address","address",559499426)], null),record.call(null,new cljs.core.Keyword(null,"address","address",559499426)));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"telephonenumber","telephonenumber",1430353029)], null),record.call(null,new cljs.core.Keyword(null,"telephonenumber","telephonenumber",1430353029)));

return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311)], null),cljs.core.get.call(null,record,new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),""));
});
});
sevenm_booking_system.components.show_hotel_information_comp = (function sevenm_booking_system$components$show_hotel_information_comp(data,kth,hotels,index,vendors){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.todo-list.ui-sortable","ul.todo-list.ui-sortable",-1922562164),cljs.core.doall.call(null,(function (){var iter__6382__auto__ = (function sevenm_booking_system$components$show_hotel_information_comp_$_iter__7514(s__7515){
return (new cljs.core.LazySeq(null,(function (){
var s__7515__$1 = s__7515;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7515__$1);
if(temp__4657__auto__){
var s__7515__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7515__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7515__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7517 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7516 = (0);
while(true){
if((i__7516 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7516);
cljs.core.chunk_append.call(null,b__7517,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.activitylog.activity_model_comp,"Hotel Information Actitvity log",data,kth,i,[cljs.core.str("activitylog?activityid="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null))),cljs.core.str("&bookingid="),cljs.core.str(cljs.core.get.call(null,cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"id","id",-1388402092))),cljs.core.str("&")].join(''),"hotel"], null):null),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.activitylog.paymentlog_model_comp,"Hotel Information Payment log",data,kth,i,[cljs.core.str("paymentlog?paymentid="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null))),cljs.core.str("&bookingid="),cljs.core.str(cljs.core.get.call(null,cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"id","id",-1388402092))),cljs.core.str("&")].join(''),"hotel",vendors], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Hotel Name"], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select_onchange,"Hotel name","Select hotel name",hotels,cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"hotelid","hotelid",841605710)], null)),sevenm_booking_system.components.edit_hotel_selecttag_onchnage.call(null,data,kth,i)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Address"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"Address","text","Address",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"address","address",559499426)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Tel No"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"TelNo","text","Tel No",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"telephonenumber","telephonenumber",1430353029)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Fax No"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"fax","text","Fax No",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Booked Under Name"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"bookedundername","text","Booked Under Name",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"bookedundername","bookedundername",-1791106550)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Confirmation Number"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"Confirmation#","text","Conformation #",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"confirmationnumber","confirmationnumber",1601221840)], null))], null)], null)], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Check-In"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.datepicker,"Check-In","dd-MMM-yyyy",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"checkin","checkin",867389418)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Check-Out"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.datepicker,"Check-Out","dd-MMM-yyyy",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"checkout","checkout",-1071220121)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"No of Rooms & People"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.input-group","div.input-group",-2073660476),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_num,"NoOfRooms","text","No of Rooms",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"numerofrooms","numerofrooms",-1814020468)], null)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),"50%"], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_num,"numberofpeople","text","No of People",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"numberofpeoples","numberofpeoples",1312253403)], null)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),"50%"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Vendor Name"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select,"vendor-name","Select Vendor",vendors,reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",934104792)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_checkbox,"isbreakfastincluded",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"isbreakfastincluded","isbreakfastincluded",1427527512)], null)),"Is Breakfast Included"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",934104792)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.btn-group","div.btn-group",1563487258),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7516,i,c__6380__auto__,size__6381__auto__,b__7517,s__7515__$2,temp__4657__auto__){
return (function (){
return $([cljs.core.str("#hotelActivitylog"),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))].join('')).modal("show");
});})(i__7516,i,c__6380__auto__,size__6381__auto__,b__7517,s__7515__$2,temp__4657__auto__))
,new cljs.core.Keyword(null,"title","title",636505583),"Actitvity Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-book","i.fa.fa-book",906440351)], null)], null):null),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7516,i,c__6380__auto__,size__6381__auto__,b__7517,s__7515__$2,temp__4657__auto__){
return (function (){
return $([cljs.core.str("#hotelPaymentlog"),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))].join('')).modal("show");
});})(i__7516,i,c__6380__auto__,size__6381__auto__,b__7517,s__7515__$2,temp__4657__auto__))
,new cljs.core.Keyword(null,"title","title",636505583),"Payment Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-credit-card","i.fa.fa-credit-card",289994433)], null)], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn  btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7516,i,c__6380__auto__,size__6381__auto__,b__7517,s__7515__$2,temp__4657__auto__){
return (function (){
var vendor_id = cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420)], null));
var vendor_details = cljs.core.first.call(null,cljs.core.filter.call(null,((function (i__7516,vendor_id,i,c__6380__auto__,size__6381__auto__,b__7517,s__7515__$2,temp__4657__auto__){
return (function (p1__7509_SHARP_){
return cljs.core._EQ_.call(null,vendor_id,p1__7509_SHARP_.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)));
});})(i__7516,vendor_id,i,c__6380__auto__,size__6381__auto__,b__7517,s__7515__$2,temp__4657__auto__))
,cljs.core.deref.call(null,vendors)));
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"vendor-info","vendor-info",-395189210),vendor_details);

return $("#vendorinfo").modal("show");
});})(i__7516,i,c__6380__auto__,size__6381__auto__,b__7517,s__7515__$2,temp__4657__auto__))
,new cljs.core.Keyword(null,"title","title",636505583),"Vendor Info"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-address-card","i.fa.fa-address-card",-967298794)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7516,i,c__6380__auto__,size__6381__auto__,b__7517,s__7515__$2,temp__4657__auto__){
return (function (){
cljs.core.reset_BANG_.call(null,index,i);

return $("#hotelsremovemodal").modal("show");
});})(i__7516,i,c__6380__auto__,size__6381__auto__,b__7517,s__7515__$2,temp__4657__auto__))
,new cljs.core.Keyword(null,"title","title",636505583),"Remove Hotel"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-trash","i.fa.fa-trash",1038677936)], null)], null)], null)], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),i], null)));

var G__7518 = (i__7516 + (1));
i__7516 = G__7518;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7517),sevenm_booking_system$components$show_hotel_information_comp_$_iter__7514.call(null,cljs.core.chunk_rest.call(null,s__7515__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7517),null);
}
} else {
var i = cljs.core.first.call(null,s__7515__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.activitylog.activity_model_comp,"Hotel Information Actitvity log",data,kth,i,[cljs.core.str("activitylog?activityid="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null))),cljs.core.str("&bookingid="),cljs.core.str(cljs.core.get.call(null,cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"id","id",-1388402092))),cljs.core.str("&")].join(''),"hotel"], null):null),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.activitylog.paymentlog_model_comp,"Hotel Information Payment log",data,kth,i,[cljs.core.str("paymentlog?paymentid="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null))),cljs.core.str("&bookingid="),cljs.core.str(cljs.core.get.call(null,cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"id","id",-1388402092))),cljs.core.str("&")].join(''),"hotel",vendors], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Hotel Name"], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select_onchange,"Hotel name","Select hotel name",hotels,cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"hotelid","hotelid",841605710)], null)),sevenm_booking_system.components.edit_hotel_selecttag_onchnage.call(null,data,kth,i)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Address"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"Address","text","Address",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"address","address",559499426)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Tel No"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"TelNo","text","Tel No",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"telephonenumber","telephonenumber",1430353029)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Fax No"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"fax","text","Fax No",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Booked Under Name"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"bookedundername","text","Booked Under Name",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"bookedundername","bookedundername",-1791106550)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Confirmation Number"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"Confirmation#","text","Conformation #",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"confirmationnumber","confirmationnumber",1601221840)], null))], null)], null)], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Check-In"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.datepicker,"Check-In","dd-MMM-yyyy",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"checkin","checkin",867389418)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Check-Out"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.datepicker,"Check-Out","dd-MMM-yyyy",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"checkout","checkout",-1071220121)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"No of Rooms & People"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.input-group","div.input-group",-2073660476),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_num,"NoOfRooms","text","No of Rooms",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"numerofrooms","numerofrooms",-1814020468)], null)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),"50%"], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_num,"numberofpeople","text","No of People",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"numberofpeoples","numberofpeoples",1312253403)], null)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),"50%"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Vendor Name"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select,"vendor-name","Select Vendor",vendors,reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",934104792)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_checkbox,"isbreakfastincluded",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"isbreakfastincluded","isbreakfastincluded",1427527512)], null)),"Is Breakfast Included"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",934104792)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.btn-group","div.btn-group",1563487258),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7515__$2,temp__4657__auto__){
return (function (){
return $([cljs.core.str("#hotelActivitylog"),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))].join('')).modal("show");
});})(i,s__7515__$2,temp__4657__auto__))
,new cljs.core.Keyword(null,"title","title",636505583),"Actitvity Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-book","i.fa.fa-book",906440351)], null)], null):null),(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7515__$2,temp__4657__auto__){
return (function (){
return $([cljs.core.str("#hotelPaymentlog"),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"id","id",-1388402092)], null)))].join('')).modal("show");
});})(i,s__7515__$2,temp__4657__auto__))
,new cljs.core.Keyword(null,"title","title",636505583),"Payment Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-credit-card","i.fa.fa-credit-card",289994433)], null)], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn  btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7515__$2,temp__4657__auto__){
return (function (){
var vendor_id = cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),i,new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420)], null));
var vendor_details = cljs.core.first.call(null,cljs.core.filter.call(null,((function (vendor_id,i,s__7515__$2,temp__4657__auto__){
return (function (p1__7509_SHARP_){
return cljs.core._EQ_.call(null,vendor_id,p1__7509_SHARP_.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)));
});})(vendor_id,i,s__7515__$2,temp__4657__auto__))
,cljs.core.deref.call(null,vendors)));
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"vendor-info","vendor-info",-395189210),vendor_details);

return $("#vendorinfo").modal("show");
});})(i,s__7515__$2,temp__4657__auto__))
,new cljs.core.Keyword(null,"title","title",636505583),"Vendor Info"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-address-card","i.fa.fa-address-card",-967298794)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7515__$2,temp__4657__auto__){
return (function (){
cljs.core.reset_BANG_.call(null,index,i);

return $("#hotelsremovemodal").modal("show");
});})(i,s__7515__$2,temp__4657__auto__))
,new cljs.core.Keyword(null,"title","title",636505583),"Remove Hotel"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-trash","i.fa.fa-trash",1038677936)], null)], null)], null)], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),i], null)),sevenm_booking_system$components$show_hotel_information_comp_$_iter__7514.call(null,cljs.core.rest.call(null,s__7515__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__6382__auto__.call(null,cljs.core.range.call(null,cljs.core.count.call(null,cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743)], null),cljs.core.PersistentVector.EMPTY))));
})())], null);
});
sevenm_booking_system.components.add_hotel_onclick = (function sevenm_booking_system$components$add_hotel_onclick(data_set,kth,data){
if(cljs.core.truth_(cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743)], null)))){
cljs.core.swap_BANG_.call(null,data_set,cljs.core.update_in,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743)], null),cljs.core.conj,cljs.core.deref.call(null,data));
} else {
cljs.core.swap_BANG_.call(null,data_set,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.deref.call(null,data)], null));
}

return cljs.core.reset_BANG_.call(null,data,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.Keyword(null,"amount","amount",364489504),new cljs.core.Keyword(null,"address","address",559499426),new cljs.core.Keyword(null,"telephonenumber","telephonenumber",1430353029),new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),new cljs.core.Keyword(null,"checkout","checkout",-1071220121),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),new cljs.core.Keyword(null,"bookedundername","bookedundername",-1791106550),new cljs.core.Keyword(null,"checkin","checkin",867389418),new cljs.core.Keyword(null,"numerofrooms","numerofrooms",-1814020468),new cljs.core.Keyword(null,"hotelid","hotelid",841605710),new cljs.core.Keyword(null,"confirmationnumber","confirmationnumber",1601221840),new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420),new cljs.core.Keyword(null,"isbreakfastincluded","isbreakfastincluded",1427527512),new cljs.core.Keyword(null,"numberofpeoples","numberofpeoples",1312253403),new cljs.core.Keyword(null,"paymentmode","paymentmode",-662546594)],[cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null)),(0),"","","","","","","",(0),(0),"",(0),false,(0),""]));
});
sevenm_booking_system.components.add_hotel_selecttag_onchnage = (function sevenm_booking_system$components$add_hotel_selecttag_onchnage(data){
return (function (input){
var record = sevenm_booking_system.components.js_clj.call(null,input);
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"hotelid","hotelid",841605710),record.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"address","address",559499426),record.call(null,new cljs.core.Keyword(null,"address","address",559499426)));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"telephonenumber","telephonenumber",1430353029),record.call(null,new cljs.core.Keyword(null,"telephonenumber","telephonenumber",1430353029)));

return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),record.call(null,new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311)));
});
});
sevenm_booking_system.components.add_hotel_information_comp = (function sevenm_booking_system$components$add_hotel_information_comp(data_set,kth,hotels,vendors){
var data = reagent.core.atom.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.Keyword(null,"amount","amount",364489504),new cljs.core.Keyword(null,"address","address",559499426),new cljs.core.Keyword(null,"telephonenumber","telephonenumber",1430353029),new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),new cljs.core.Keyword(null,"checkout","checkout",-1071220121),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),new cljs.core.Keyword(null,"bookedundername","bookedundername",-1791106550),new cljs.core.Keyword(null,"checkin","checkin",867389418),new cljs.core.Keyword(null,"numerofrooms","numerofrooms",-1814020468),new cljs.core.Keyword(null,"hotelid","hotelid",841605710),new cljs.core.Keyword(null,"confirmationnumber","confirmationnumber",1601221840),new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420),new cljs.core.Keyword(null,"isbreakfastincluded","isbreakfastincluded",1427527512),new cljs.core.Keyword(null,"numberofpeoples","numberofpeoples",1312253403),new cljs.core.Keyword(null,"paymentmode","paymentmode",-662546594)],[cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null)),(0),"","","","","","","",(0),(0),"",(0),false,(0),""]));
return ((function (data){
return (function (){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Hotel Name"], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select_onchange,"Hotel name","Select Hotel Name",hotels,cljs.core.get.call(null,cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"hotelid","hotelid",841605710)),sevenm_booking_system.components.add_hotel_selecttag_onchnage.call(null,data)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Address"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"Address","text","Address",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"address","address",559499426)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Tel No"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"TelNo","text","Tel No",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"telephonenumber","telephonenumber",1430353029)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Fax No"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"fax","text","Fax No",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Booked Under Name"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"bookedundername","text","Booked Under Name",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"bookedundername","bookedundername",-1791106550)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Confirmation Number"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,"Confirmation#","text","Conformation #",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"confirmationnumber","confirmationnumber",1601221840)], null))], null)], null)], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Check-In"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.datepicker,"Check-In","dd-MMM-yyyy",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"checkin","checkin",867389418)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Check-Out"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.datepicker,"Check-Out","dd-MMM-yyyy",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"checkout","checkout",-1071220121)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"No of Rooms & Peoples"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.input-group","div.input-group",-2073660476),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_num,"NoOfRooms","text","No of Rooms",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"numerofrooms","numerofrooms",-1814020468)], null)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),"50%"], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_num,"numberofpeople","text","No of People",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"numberofpeoples","numberofpeoples",1312253403)], null)),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),"50%"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"small","small",2133478704),"Vendor Name"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select,"vendor-name","Select Vendor",vendors,reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"vendorid1","vendorid1",-407497420)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",934104792)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_checkbox,"isbreakfastincluded",reagent.core.cursor.call(null,data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"isbreakfastincluded","isbreakfastincluded",1427527512)], null)),"Is Breakfast Included"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2.col-sm-4.col-xs-6","div.col-md-2.col-sm-4.col-xs-6",-362806620),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"br","br",934104792)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default.btn-block","button.btn.btn-default.btn-block",1801877001),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data){
return (function (){
return sevenm_booking_system.components.add_hotel_onclick.call(null,data_set,kth,data);
});})(data))
], null)," Add Hotel"], null)], null)], null)], null);
});
;})(data))
});
sevenm_booking_system.components.hotel_information_comp = (function sevenm_booking_system$components$hotel_information_comp(data_set,kth){
var cityid = cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null));
var index = reagent.core.atom.call(null,(0));
var hotels = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var vendors = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
sevenm_booking_system.components.get_hotels_by_city.call(null,cityid,hotels);

sevenm_booking_system.components.get_vendors_by_city_category.call(null,cityid,"hotel",vendors);

return ((function (cityid,index,hotels,vendors){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-default.box-solid","div.box.box-default.box-solid",523481139),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-hotel","i.fa.fa-hotel",-945095793)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"Hotel Information"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-box-tool","button.btn.btn-box-tool",-1111665765),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data-widget","data-widget",-1177295198),"collapse",new cljs.core.Keyword(null,"type","type",1174270348),"button"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-minus","i.fa.fa-minus",-2118708238)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_hotels_modal,data_set,kth,index], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.show_hotel_information_comp,data_set,kth,hotels,index,vendors], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.add_hotel_information_comp,data_set,kth,hotels,vendors], null)], null)], null);
});
;})(cityid,index,hotels,vendors))
});
sevenm_booking_system.components.delete_cities_error_handler = (function sevenm_booking_system$components$delete_cities_error_handler(res){
$("#cityremovemodal").modal("hide");

var G__7520 = new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(res);
switch (G__7520) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Problem with the server, Please try again");

}
});
sevenm_booking_system.components.delete_cities_success_handler = (function sevenm_booking_system$components$delete_cities_success_handler(data_set,index){
var cities_7522 = cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.PersistentVector.EMPTY);
var indexes_7523 = cljs.core.range.call(null,cljs.core.count.call(null,cities_7522));
cljs.core.swap_BANG_.call(null,data_set,cljs.core.assoc,new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.vec.call(null,cljs.core.vals.call(null,cljs.core.dissoc.call(null,cljs.core.zipmap.call(null,indexes_7523,cities_7522),cljs.core.deref.call(null,index)))));

return $("#cityremovemodal").modal("hide");
});
sevenm_booking_system.components.remove_city_on_click = (function sevenm_booking_system$components$remove_city_on_click(data_set,index){
var bookingid = cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"id","id",-1388402092));
var id = cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.deref.call(null,index),new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null));
if(cljs.core.truth_(bookingid)){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookings/"),cljs.core.str(bookingid),cljs.core.str("/"),cljs.core.str(id)].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),((function (bookingid,id){
return (function (){
return sevenm_booking_system.components.delete_cities_success_handler.call(null,data_set,index);
});})(bookingid,id))
,new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),((function (bookingid,id){
return (function (p1__7524_SHARP_){
return sevenm_booking_system.components.delete_cities_error_handler.call(null,p1__7524_SHARP_);
});})(bookingid,id))
,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
return sevenm_booking_system.components.delete_cities_success_handler.call(null,data_set,index);
}
});
sevenm_booking_system.components.delete_city_modal = (function sevenm_booking_system$components$delete_city_modal(data,index){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"cityremovemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this City ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,index)),cljs.core.str("Cityremove")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.remove_city_on_click.call(null,data,index);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.filter_city = (function sevenm_booking_system$components$filter_city(id,cities){
return cljs.core.filter.call(null,(function (p1__7525_SHARP_){
return cljs.core._EQ_.call(null,id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(p1__7525_SHARP_));
}),cities);
});
sevenm_booking_system.components.add_city_on_click = (function sevenm_booking_system$components$add_city_on_click(data_set,selected_city,focus){
var add_citydate = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"cityid","cityid",1837642752),cljs.core.deref.call(null,selected_city),new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),cljs.core.PersistentVector.EMPTY], null);
if((cljs.core.deref.call(null,selected_city) === (0))){
return cljs.core.reset_BANG_.call(null,focus,true);
} else {
cljs.core.swap_BANG_.call(null,data_set,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824)], null),cljs.core.conj,add_citydate);

cljs.core.reset_BANG_.call(null,selected_city,(0));

return cljs.core.reset_BANG_.call(null,focus,false);
}
});
sevenm_booking_system.components.add_city = (function sevenm_booking_system$components$add_city(data_set,cities){
var selected_city = reagent.core.atom.call(null,(0));
var focus = reagent.core.atom.call(null,false);
return ((function (selected_city,focus){
return (function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-info","div.box.box-info",1371404954),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header","div.box-header",1023045464),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-horizontal","div.form-horizontal",-2097357544),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),"Booking City"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4","div.col-md-4",864652098),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.react_select,"City name","Please select city name",cities,selected_city], null),(cljs.core.truth_(cljs.core.deref.call(null,focus))?(((cljs.core.deref.call(null,selected_city) === (0)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),"Please Select City"], null):null):null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4","div.col-md-4",864652098),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (selected_city,focus){
return (function (){
return sevenm_booking_system.components.add_city_on_click.call(null,data_set,selected_city,focus);
});})(selected_city,focus))
], null),"Add City"], null)], null)], null)], null)], null);
});
;})(selected_city,focus))
});
sevenm_booking_system.components.fit_group_topfields_comp = (function sevenm_booking_system$components$fit_group_topfields_comp(data_set,state,logos,quotations){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_chosen_select,"Select Logo","SelectLogo",new cljs.core.Keyword(null,"logoid","logoid",-47037443),logos,reagent.core.cursor.call(null,data_set,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"logoid","logoid",-47037443)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Booking Number","Booking Number",new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),"text","Enter Booking Number",reagent.core.cursor.call(null,data_set,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_select_quotation,"Quotation Id","quotationid",new cljs.core.Keyword(null,"quotationid","quotationid",-59560570),quotations,data_set,cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),"7m Booking Agent"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"padding-top","padding-top",1929675955),"7px"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"strong","strong",269529000),cljs.core.get.call(null,cljs.core.first.call(null,cljs.core.filter.call(null,(function (p1__7526_SHARP_){
return cljs.core._EQ_.call(null,cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"quotationid","quotationid",-59560570)),[cljs.core.str(new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(p1__7526_SHARP_)),cljs.core.str(" "),cljs.core.str(new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(p1__7526_SHARP_))].join(''));
}),cljs.core.deref.call(null,quotations))),new cljs.core.Keyword(null,"agentname","agentname",-1986723156),"")], null)], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Emergency Name/No.","emergencynumbers",new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),"text","Enter Emergency Name/Numbers",reagent.core.cursor.call(null,data_set,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4","div.col-md-4",864652098)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_checkbox,new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),reagent.core.cursor.call(null,data_set,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831)], null)),"Is Final Booking"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Travel Agent Name","agentname",new cljs.core.Keyword(null,"agentname","agentname",-1986723156),"text","Agent Name",reagent.core.cursor.call(null,data_set,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"agentname","agentname",-1986723156)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Guest Name","guestname",new cljs.core.Keyword(null,"guestname","guestname",-999508387),"text","Guest Name",reagent.core.cursor.call(null,data_set,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"guestname","guestname",-999508387)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Email","email",new cljs.core.Keyword(null,"email","email",1415816706),"text","Email id",reagent.core.cursor.call(null,data_set,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"email","email",1415816706)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"No. of PAX","noofpax",new cljs.core.Keyword(null,"noofpax","noofpax",1006695916),"text","No. of PAX (child/Adult/Tour Managers)",reagent.core.cursor.call(null,data_set,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"noofpax","noofpax",1006695916)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Tour Manager(s)","tourmanagers",new cljs.core.Keyword(null,"nameoftourmanager","nameoftourmanager",-1019605943),"text","Tour Manager(s)",reagent.core.cursor.call(null,data_set,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"nameoftourmanager","nameoftourmanager",-1019605943)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area,"Remarks","Remarks",new cljs.core.Keyword(null,"remarks","remarks",1566599360),(3),"Enter Remarks",reagent.core.cursor.call(null,data_set,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"remarks","remarks",1566599360)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set))], null)], null)], null);
});
sevenm_booking_system.components.fit_group_show_city = (function sevenm_booking_system$components$fit_group_show_city(type,data_set,kth,cities,cityindex){
var cityid = cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),kth,new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null));
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-info","div.box.box-info",1371404954),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.label.label-warning","span.label.label-warning",-681742177),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"font-size","font-size",-1847940346),(20)], null)], null),[cljs.core.str(cljs.core.get.call(null,cljs.core.first.call(null,sevenm_booking_system.components.filter_city.call(null,cityid,cljs.core.deref.call(null,cities))),new cljs.core.Keyword(null,"name","name",1843675177),""))].join('')], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-danger.btn-xs","button.btn.btn-danger.btn-xs",860646975),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (cityid){
return (function (){
cljs.core.reset_BANG_.call(null,cityindex,kth);

return $("#cityremovemodal").modal("show");
});})(cityid))
], null)," Remove City"], null)," ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-box-tool","button.btn.btn-box-tool",-1111665765),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data-widget","data-widget",-1177295198),"collapse",new cljs.core.Keyword(null,"type","type",1174270348),"button"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-minus","i.fa.fa-minus",-2118708238)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.activitylog.vendor_info,"vendorinfo",data_set], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.flight_information_comp,data_set,kth], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.hotel_information_comp,data_set,kth], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.itinerary_comp,type,data_set,kth], null)], null)], null);
});
sevenm_booking_system.components.bookings_validator = (function sevenm_booking_system$components$bookings_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"quotationid","quotationid",-59560570),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"email","email",1415816706),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.email,new cljs.core.Keyword(null,"message","message",-406056002),"Plese enter valid email"], null)], null),new cljs.core.Keyword(null,"agentname","agentname",-1986723156),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"guestname","guestname",-999508387),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"logoid","logoid",-47037443),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Plese select logo"], null)], null),new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),(0),new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cities","cities",-1295356824),(0),new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),(0),new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null)));
});
sevenm_booking_system.components.destruct_data_create_send = (function sevenm_booking_system$components$destruct_data_create_send(data_set){
var quotation_info = clojure.string.split.call(null,cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"quotationid","quotationid",-59560570)),/ /);
var itineraries = cljs.core.PersistentVector.EMPTY;
var flights = cljs.core.PersistentVector.EMPTY;
var hotels = cljs.core.PersistentVector.EMPTY;
var coll = cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"cities","cities",-1295356824));
while(true){
if(cljs.core.empty_QMARK_.call(null,coll)){
return cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"remarks","remarks",1566599360),new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),new cljs.core.Keyword(null,"email","email",1415816706),new cljs.core.Keyword(null,"quotationid","quotationid",-59560570),new cljs.core.Keyword(null,"nameoftourmanager","nameoftourmanager",-1019605943),new cljs.core.Keyword(null,"noofpax","noofpax",1006695916),new cljs.core.Keyword(null,"agentname","agentname",-1986723156),new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),new cljs.core.Keyword(null,"itinerarydetails","itinerarydetails",170148752),new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),new cljs.core.Keyword(null,"flightinformation","flightinformation",1093261816),new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),new cljs.core.Keyword(null,"qrnumber","qrnumber",567965756),new cljs.core.Keyword(null,"guestname","guestname",-999508387),new cljs.core.Keyword(null,"logoid","logoid",-47037443)],[cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"remarks","remarks",1566599360),""),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831)),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"email","email",1415816706)),parseInt(cljs.core.second.call(null,quotation_info)),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"nameoftourmanager","nameoftourmanager",-1019605943),""),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"noofpax","noofpax",1006695916),""),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"agentname","agentname",-1986723156)),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951)),itineraries,cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960)),flights,cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736)),hotels,cljs.core.first.call(null,quotation_info),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"guestname","guestname",-999508387)),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"logoid","logoid",-47037443))]);
} else {
var G__7527 = cljs.core.into.call(null,itineraries,cljs.core.first.call(null,coll).call(null,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112)));
var G__7528 = cljs.core.into.call(null,flights,cljs.core.first.call(null,coll).call(null,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952)));
var G__7529 = cljs.core.into.call(null,hotels,cljs.core.first.call(null,coll).call(null,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743)));
var G__7530 = cljs.core.rest.call(null,coll);
itineraries = G__7527;
flights = G__7528;
hotels = G__7529;
coll = G__7530;
continue;
}
break;
}
});
sevenm_booking_system.components.destruct_data_edit_send = (function sevenm_booking_system$components$destruct_data_edit_send(data_set){
var quotation_info = clojure.string.split.call(null,cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"quotationid","quotationid",-59560570)),/ /);
var itineraries = cljs.core.PersistentVector.EMPTY;
var flights = cljs.core.PersistentVector.EMPTY;
var hotels = cljs.core.PersistentVector.EMPTY;
var coll = cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"cities","cities",-1295356824));
while(true){
if(cljs.core.empty_QMARK_.call(null,coll)){
return cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"remarks","remarks",1566599360),new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),new cljs.core.Keyword(null,"email","email",1415816706),new cljs.core.Keyword(null,"quotationid","quotationid",-59560570),new cljs.core.Keyword(null,"nameoftourmanager","nameoftourmanager",-1019605943),new cljs.core.Keyword(null,"noofpax","noofpax",1006695916),new cljs.core.Keyword(null,"agentname","agentname",-1986723156),new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),new cljs.core.Keyword(null,"itinerarydetails","itinerarydetails",170148752),new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"flightinformation","flightinformation",1093261816),new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),new cljs.core.Keyword(null,"qrnumber","qrnumber",567965756),new cljs.core.Keyword(null,"guestname","guestname",-999508387),new cljs.core.Keyword(null,"logoid","logoid",-47037443)],[cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"remarks","remarks",1566599360),""),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831)),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"email","email",1415816706)),parseInt(cljs.core.second.call(null,quotation_info)),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"nameoftourmanager","nameoftourmanager",-1019605943),""),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"noofpax","noofpax",1006695916),""),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"agentname","agentname",-1986723156)),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951)),itineraries,cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960)),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)),flights,cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736)),hotels,cljs.core.first.call(null,quotation_info),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"guestname","guestname",-999508387)),cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"logoid","logoid",-47037443))]);
} else {
var G__7531 = cljs.core.into.call(null,itineraries,cljs.core.first.call(null,coll).call(null,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112)));
var G__7532 = cljs.core.into.call(null,flights,cljs.core.first.call(null,coll).call(null,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952)));
var G__7533 = cljs.core.into.call(null,hotels,cljs.core.first.call(null,coll).call(null,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743)));
var G__7534 = cljs.core.rest.call(null,coll);
itineraries = G__7531;
flights = G__7532;
hotels = G__7533;
coll = G__7534;
continue;
}
break;
}
});
sevenm_booking_system.components.combine_type = (function sevenm_booking_system$components$combine_type(type1,type2,data){
return cljs.core.mapv.call(null,(function (p1__7535_SHARP_){
return cljs.core.assoc.call(null,p1__7535_SHARP_,new cljs.core.Keyword(null,"type","type",1174270348),type1);
}),cljs.core.get.call(null,data,type2));
});
sevenm_booking_system.components.de_struct_cities = (function sevenm_booking_system$components$de_struct_cities(data){
return cljs.core.mapv.call(null,(function (p1__7536_SHARP_){
return cljs.core.assoc.call(null,cljs.core.group_by.call(null,new cljs.core.Keyword(null,"type","type",1174270348),cljs.core.second.call(null,p1__7536_SHARP_)),new cljs.core.Keyword(null,"cityid","cityid",1837642752),cljs.core.first.call(null,p1__7536_SHARP_));
}),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.group_by.call(null,new cljs.core.Keyword(null,"cityid","cityid",1837642752),cljs.core.reduce.call(null,cljs.core.into,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.combine_type.call(null,new cljs.core.Keyword(null,"itineraries","itineraries",1613916112),new cljs.core.Keyword(null,"itinerarydetails","itinerarydetails",170148752),data),sevenm_booking_system.components.combine_type.call(null,new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),new cljs.core.Keyword(null,"hotelinformation","hotelinformation",-977080743),data),sevenm_booking_system.components.combine_type.call(null,new cljs.core.Keyword(null,"flightsinformation","flightsinformation",281113952),new cljs.core.Keyword(null,"flightinformation","flightinformation",1093261816),data)], null)))));
});
sevenm_booking_system.components.bookings_get_data_destruct_for_edit = (function sevenm_booking_system$components$bookings_get_data_destruct_for_edit(data){
var booking = cljs.core.get_in.call(null,data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"booking","booking",-1944315008),(0)], null));
var cities = sevenm_booking_system.components.de_struct_cities.call(null,data);
return cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"remarks","remarks",1566599360),new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),new cljs.core.Keyword(null,"email","email",1415816706),new cljs.core.Keyword(null,"quotationid","quotationid",-59560570),new cljs.core.Keyword(null,"cities","cities",-1295356824),new cljs.core.Keyword(null,"nameoftourmanager","nameoftourmanager",-1019605943),new cljs.core.Keyword(null,"noofpax","noofpax",1006695916),new cljs.core.Keyword(null,"agentname","agentname",-1986723156),new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),new cljs.core.Keyword(null,"guestname","guestname",-999508387),new cljs.core.Keyword(null,"logoid","logoid",-47037443)],[booking.call(null,new cljs.core.Keyword(null,"remarks","remarks",1566599360),""),booking.call(null,new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),""),booking.call(null,new cljs.core.Keyword(null,"email","email",1415816706),""),[cljs.core.str(booking.call(null,new cljs.core.Keyword(null,"qrnumber","qrnumber",567965756))),cljs.core.str(" "),cljs.core.str(booking.call(null,new cljs.core.Keyword(null,"quotationid","quotationid",-59560570)))].join(''),cities,booking.call(null,new cljs.core.Keyword(null,"nameoftourmanager","nameoftourmanager",-1019605943),""),booking.call(null,new cljs.core.Keyword(null,"noofpax","noofpax",1006695916),""),booking.call(null,new cljs.core.Keyword(null,"agentname","agentname",-1986723156),""),booking.call(null,new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),""),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),booking.call(null,new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),""),new cljs.core.Keyword(null,"agentname","agentname",-1986723156),booking.call(null,new cljs.core.Keyword(null,"agentname","agentname",-1986723156),""),new cljs.core.Keyword(null,"emailid","emailid",-1357711430),booking.call(null,new cljs.core.Keyword(null,"email","email",1415816706),"")], null),booking.call(null,new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),""),booking.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)),booking.call(null,new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),""),booking.call(null,new cljs.core.Keyword(null,"guestname","guestname",-999508387),""),booking.call(null,new cljs.core.Keyword(null,"logoid","logoid",-47037443))]);
});
sevenm_booking_system.components.booking_generate_onclick_error = (function sevenm_booking_system$components$booking_generate_onclick_error(res,state,data_set){
var G__7538 = new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(res);
switch (G__7538) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"busy","busy",-328286801),false);

return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Problem with the sever, Please try again");

}
});
sevenm_booking_system.components.get_saved_booking_data_success = (function sevenm_booking_system$components$get_saved_booking_data_success(response,data_set,state){
var destructed_data = sevenm_booking_system.components.bookings_get_data_destruct_for_edit.call(null,response);
var pdf_data = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),destructed_data.call(null,new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),""),new cljs.core.Keyword(null,"agentname","agentname",-1986723156),destructed_data.call(null,new cljs.core.Keyword(null,"agentname","agentname",-1986723156)),new cljs.core.Keyword(null,"emailid","emailid",-1357711430),destructed_data.call(null,new cljs.core.Keyword(null,"email","email",1415816706)),new cljs.core.Keyword(null,"id","id",-1388402092),destructed_data.call(null,new cljs.core.Keyword(null,"id","id",-1388402092))], null);
var saved_data = cljs.core.assoc.call(null,destructed_data,new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),pdf_data);
cljs.core.reset_BANG_.call(null,data_set,saved_data);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"busy","busy",-328286801),false);

return sevenm_booking_system.components.boot_notify.call(null,"success","Success :","Itinerary Booking is successfully saved");
});
sevenm_booking_system.components.get_saved_booking_data = (function sevenm_booking_system$components$get_saved_booking_data(res,data_set,state){
var id = cljs.core.get.call(null,res,new cljs.core.Keyword(null,"id","id",-1388402092),"");
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookings/"),cljs.core.str(id)].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),((function (id){
return (function (p1__7540_SHARP_){
return sevenm_booking_system.components.get_saved_booking_data_success.call(null,p1__7540_SHARP_,data_set,state);
});})(id))
,new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),((function (id){
return (function (p1__7541_SHARP_){
return sevenm_booking_system.components.booking_generate_onclick_error.call(null,p1__7541_SHARP_,state,data_set);
});})(id))
,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.booking_generate_onclick = (function sevenm_booking_system$components$booking_generate_onclick(data_set,state){
if((sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set)) == null)){
if(cljs.core.truth_(cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))){
cljs.core.swap_BANG_.call(null,data_set,cljs.core.assoc,new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),cljs.core.PersistentArrayMap.EMPTY);

return ajax.core.PUT.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookings/"),cljs.core.str(cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),sevenm_booking_system.components.destruct_data_edit_send.call(null,data_set),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7542_SHARP_){
return sevenm_booking_system.components.get_saved_booking_data.call(null,p1__7542_SHARP_,data_set,state);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7543_SHARP_){
return sevenm_booking_system.components.booking_generate_onclick_error.call(null,p1__7543_SHARP_,state,data_set);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
cljs.core.swap_BANG_.call(null,data_set,cljs.core.assoc,new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),cljs.core.PersistentArrayMap.EMPTY);

return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookings")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),sevenm_booking_system.components.destruct_data_create_send.call(null,data_set),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7544_SHARP_){
return sevenm_booking_system.components.get_saved_booking_data.call(null,p1__7544_SHARP_,data_set,state);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7545_SHARP_){
return sevenm_booking_system.components.booking_generate_onclick_error.call(null,p1__7545_SHARP_,state,data_set);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
}
} else {
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),true);

return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Please choose atleast one city with one\n                    itinerary and enter valid fields");
}
});
sevenm_booking_system.components.show_pdf = (function sevenm_booking_system$components$show_pdf(data){
return window.open([cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookings/pdf/"),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,data),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736)], null)))].join(''));
});
sevenm_booking_system.components.bookings_sendmail_success = (function sevenm_booking_system$components$bookings_sendmail_success(res,state){
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"busy","busy",-328286801),false);

return sevenm_booking_system.components.boot_notify.call(null,"success","Success :","Mail successfully sent");
});
sevenm_booking_system.components.bookings_sendmail_error = (function sevenm_booking_system$components$bookings_sendmail_error(res,state){
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"busy","busy",-328286801),false);

return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Error in sending mail, please try again");
});
sevenm_booking_system.components.bookings_sendmail_onclick = (function sevenm_booking_system$components$bookings_sendmail_onclick(data_set,state){
var send_data = cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600));
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"busy","busy",-328286801),true);

return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookings/pdf/email")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),send_data,new cljs.core.Keyword(null,"handler","handler",-195596612),((function (send_data){
return (function (p1__7546_SHARP_){
return sevenm_booking_system.components.bookings_sendmail_success.call(null,p1__7546_SHARP_,state);
});})(send_data))
,new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),((function (send_data){
return (function (p1__7547_SHARP_){
return sevenm_booking_system.components.bookings_sendmail_error.call(null,p1__7547_SHARP_,state);
});})(send_data))
,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.fit_search_options = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"agentname",new cljs.core.Keyword(null,"name","name",1843675177),"Agent Name"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"quotationnumber",new cljs.core.Keyword(null,"name","name",1843675177),"Quotation Number"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"bookingnumber",new cljs.core.Keyword(null,"name","name",1843675177),"Booking Number"], null)], null);
sevenm_booking_system.components.delete_fit_bookings_on_click = (function sevenm_booking_system$components$delete_fit_bookings_on_click(id,src_in,list){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookings/"),cljs.core.str(cljs.core.deref.call(null,id))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7548_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7548_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7549_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7549_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_fit_bookings_modal = (function sevenm_booking_system$components$delete_fit_bookings_modal(id,src_in,list){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"removemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this Booking ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,id)),cljs.core.str("remove")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.delete_fit_bookings_on_click.call(null,id,src_in,list);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.fitbookings_table_comp = (function sevenm_booking_system$components$fitbookings_table_comp(){
var src_in = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"url","url",276297046),"fit/bookings/search",new cljs.core.Keyword(null,"idx","idx",1053688473),(1),new cljs.core.Keyword(null,"type","type",1174270348),"agentname",new cljs.core.Keyword(null,"text","text",-1790561697),""], null));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totalbookings","totalbookings",-736580339),(0)], null));
var remove_id = reagent.core.atom.call(null,(0));
sevenm_booking_system.components.get_table_data.call(null,src_in,list);

return ((function (src_in,list,remove_id){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-list","i.fa.fa-list",731466083)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of FIT Bookings"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary.btn-sm","button.btn.btn-primary.btn-sm",1064005617),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,sevenm_booking_system.components.fitbookings_atom,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),"BK-00",new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),false,new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),"",new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),sevenm_booking_system.components.terms_and_conditions,new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),cljs.core.PersistentArrayMap.EMPTY], null));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-fitbooking","add-fitbooking",1804203067)));
});})(src_in,list,remove_id))
], null),"Add New FIT Booking"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_fit_bookings_modal,remove_id,src_in,list], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6.col-md-offset-6","div.col-md-6.col-md-offset-6",-1469069354),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12.col-xs-12.input-group.form-group","div.col-md-12.col-sm-12.col-xs-12.input-group.form-group",1851270823),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_select,"fitsearchselect",sevenm_booking_system.components.fit_search_options,reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348)], null))], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_input,"fitsearchsrctext","text","Enter something to search",reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"text","text",-1790561697)], null)),src_in,list], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.table-responsive","div.table-responsive",-16203823),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Booking Number"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Quotation Number"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Agent Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Date"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (src_in,list,remove_id){
return (function sevenm_booking_system$components$fitbookings_table_comp_$_iter__7555(s__7556){
return (new cljs.core.LazySeq(null,((function (src_in,list,remove_id){
return (function (){
var s__7556__$1 = s__7556;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7556__$1);
if(temp__4657__auto__){
var s__7556__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7556__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7556__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7558 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7557 = (0);
while(true){
if((i__7557 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7557);
cljs.core.chunk_append.call(null,b__7558,cljs.core.with_meta(new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8.col-md-offset-2.btn-group","div.col-md-8.col-md-offset-2.btn-group",-929270947),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7557,i,c__6380__auto__,size__6381__auto__,b__7558,s__7556__$2,temp__4657__auto__,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i__7557,i,c__6380__auto__,size__6381__auto__,b__7558,s__7556__$2,temp__4657__auto__,src_in,list,remove_id))
,new cljs.core.Keyword(null,"title","title",636505583),"Delete Booking"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-trash","i.fa.fa-trash",1038677936)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-fitbooking","edit-fitbooking",-1607666750),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Edit Booking"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-edit","i.fa.fa-edit",-1125488672)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fit-activitylog","fit-activitylog",-725463727),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Activity Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-book","i.fa.fa-book",906440351)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fit-paymentlog","fit-paymentlog",1182127213),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Payment Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-credit-card","i.fa.fa-credit-card",289994433)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"qrnumber","qrnumber",567965756).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"agentname","agentname",-1986723156).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"createdatetime","createdatetime",1419123161).cljs$core$IFn$_invoke$arity$1(i)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7559 = (i__7557 + (1));
i__7557 = G__7559;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7558),sevenm_booking_system$components$fitbookings_table_comp_$_iter__7555.call(null,cljs.core.chunk_rest.call(null,s__7556__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7558),null);
}
} else {
var i = cljs.core.first.call(null,s__7556__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8.col-md-offset-2.btn-group","div.col-md-8.col-md-offset-2.btn-group",-929270947),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7556__$2,temp__4657__auto__,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i,s__7556__$2,temp__4657__auto__,src_in,list,remove_id))
,new cljs.core.Keyword(null,"title","title",636505583),"Delete Booking"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-trash","i.fa.fa-trash",1038677936)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-fitbooking","edit-fitbooking",-1607666750),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Edit Booking"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-edit","i.fa.fa-edit",-1125488672)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fit-activitylog","fit-activitylog",-725463727),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Activity Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-book","i.fa.fa-book",906440351)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fit-paymentlog","fit-paymentlog",1182127213),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Payment Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-credit-card","i.fa.fa-credit-card",289994433)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"qrnumber","qrnumber",567965756).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"agentname","agentname",-1986723156).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"createdatetime","createdatetime",1419123161).cljs$core$IFn$_invoke$arity$1(i)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$fitbookings_table_comp_$_iter__7555.call(null,cljs.core.rest.call(null,s__7556__$2)));
}
} else {
return null;
}
break;
}
});})(src_in,list,remove_id))
,null,null));
});})(src_in,list,remove_id))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (src_in,list,remove_id){
return (function (p1__7550_SHARP_){
cljs.core.swap_BANG_.call(null,src_in,cljs.core.assoc,new cljs.core.Keyword(null,"idx","idx",1053688473),p1__7550_SHARP_);

return sevenm_booking_system.components.get_table_data.call(null,src_in,list);
});})(src_in,list,remove_id))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"idx","idx",1053688473)),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totalbookings","totalbookings",-736580339)) / (10))) | (0)),true])], null)], null)], null);
});
;})(src_in,list,remove_id))
});
sevenm_booking_system.components.fitbookings_atom = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),"BK-00",new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),false,new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),"",new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),sevenm_booking_system.components.terms_and_conditions,new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),cljs.core.PersistentArrayMap.EMPTY], null));
sevenm_booking_system.components.get_all_fitquotations = (function sevenm_booking_system$components$get_all_fitquotations(quotations){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("fit/quotations")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7560_SHARP_){
return cljs.core.reset_BANG_.call(null,quotations,p1__7560_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.add_or_edit_fitbooking = (function sevenm_booking_system$components$add_or_edit_fitbooking(data_set){
var quotations = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var cities = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var logos = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false], null));
var cityindex = reagent.core.atom.call(null,(0));
sevenm_booking_system.components.get_all_fitquotations.call(null,quotations);

sevenm_booking_system.components.get_all_cities.call(null,cities);

sevenm_booking_system.components.get_all_logos.call(null,logos);

return ((function (quotations,cities,logos,state,cityindex){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.label.label-default","span.label.label-default",-277664003),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"font-size","font-size",-1847940346),(20)], null)], null),[cljs.core.str((cljs.core.truth_(cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"EDIT ":"ADD ")),cljs.core.str("FIT BOOKING")].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.btn-group","div.btn-group",1563487258),(cljs.core.truth_(cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary.btn-sm","button.btn.btn-primary.btn-sm",1064005617),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (quotations,cities,logos,state,cityindex){
return (function (){
return cljs.core.reset_BANG_.call(null,sevenm_booking_system.components.fitbookings_atom,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),"BK-00",new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),false,new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),"",new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),sevenm_booking_system.components.terms_and_conditions,new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),cljs.core.PersistentArrayMap.EMPTY], null));
});})(quotations,cities,logos,state,cityindex))
], null),"Add New Booking"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default.btn-sm.pull-right","a.btn.btn-default.btn-sm.pull-right",1480932280),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fitbookings","fitbookings",227762754))], null),"Back to Bookings"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-horizontal","div.form-horizontal",-2097357544),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.fit_group_topfields_comp,data_set,state,logos,quotations], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_city_modal,data_set,cityindex], null)], null),cljs.core.doall.call(null,(function (){var iter__6382__auto__ = ((function (quotations,cities,logos,state,cityindex){
return (function sevenm_booking_system$components$add_or_edit_fitbooking_$_iter__7565(s__7566){
return (new cljs.core.LazySeq(null,((function (quotations,cities,logos,state,cityindex){
return (function (){
var s__7566__$1 = s__7566;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7566__$1);
if(temp__4657__auto__){
var s__7566__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7566__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7566__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7568 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7567 = (0);
while(true){
if((i__7567 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7567);
cljs.core.chunk_append.call(null,b__7568,cljs.core.with_meta(new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.fit_group_show_city,"fit",data_set,i,cities,cityindex], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),i], null)));

var G__7569 = (i__7567 + (1));
i__7567 = G__7569;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7568),sevenm_booking_system$components$add_or_edit_fitbooking_$_iter__7565.call(null,cljs.core.chunk_rest.call(null,s__7566__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7568),null);
}
} else {
var i = cljs.core.first.call(null,s__7566__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.fit_group_show_city,"fit",data_set,i,cities,cityindex], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),i], null)),sevenm_booking_system$components$add_or_edit_fitbooking_$_iter__7565.call(null,cljs.core.rest.call(null,s__7566__$2)));
}
} else {
return null;
}
break;
}
});})(quotations,cities,logos,state,cityindex))
,null,null));
});})(quotations,cities,logos,state,cityindex))
;
return iter__6382__auto__.call(null,cljs.core.range.call(null,cljs.core.count.call(null,cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.PersistentVector.EMPTY))));
})()),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.add_city,data_set,cities], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area_terms_AMPERSAND_cond,"Terms and conditions","Terms and conditions",new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),(5),"Enter Terms and conditions",reagent.core.cursor.call(null,data_set,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set))], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"center","center",-748944368),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (quotations,cities,logos,state,cityindex){
return (function (){
return sevenm_booking_system.components.booking_generate_onclick.call(null,data_set,state);
});})(quotations,cities,logos,state,cityindex))
], null),[cljs.core.str((cljs.core.truth_(cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"Save ":"Generate ")),cljs.core.str("Booking")].join('')], null)," ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default","a.btn.btn-default",1697165854),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fitbookings","fitbookings",227762754))], null),"Back"], null)," ",((cljs.core.seq.call(null,cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736)], null),"")))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-success","button.btn.btn-success",574341715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (quotations,cities,logos,state,cityindex){
return (function (){
return sevenm_booking_system.components.show_pdf.call(null,data_set);
});})(quotations,cities,logos,state,cityindex))
], null)," View PDF"], null):null)," ",((cljs.core.seq.call(null,cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),new cljs.core.Keyword(null,"emailid","emailid",-1357711430)], null),"")))?new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info","button.btn.btn-info",-749622712),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (quotations,cities,logos,state,cityindex){
return (function (){
return sevenm_booking_system.components.bookings_sendmail_onclick.call(null,data_set,state);
});})(quotations,cities,logos,state,cityindex))
], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-envelope","i.fa.fa-envelope",1614781253)], null)," Send Mail ",(cljs.core.truth_(cljs.core.get.call(null,cljs.core.deref.call(null,state),new cljs.core.Keyword(null,"busy","busy",-328286801)))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-spin.fa-refresh","i.fa.fa-spin.fa-refresh",-644634109)], null):null)], null):null)], null)], null)], null);
});
;})(quotations,cities,logos,state,cityindex))
});
sevenm_booking_system.components.delete_group_bookings_on_click = (function sevenm_booking_system$components$delete_group_bookings_on_click(id,src_in,list){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookings/"),cljs.core.str(cljs.core.deref.call(null,id))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7570_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7570_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7571_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7571_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_group_bookings_modal = (function sevenm_booking_system$components$delete_group_bookings_modal(id,src_in,list){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"removemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this Booking ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,id)),cljs.core.str("remove")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.delete_group_bookings_on_click.call(null,id,src_in,list);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.groupbookings_table_comp = (function sevenm_booking_system$components$groupbookings_table_comp(){
var src_in = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"url","url",276297046),"groups/bookings/search",new cljs.core.Keyword(null,"idx","idx",1053688473),(1),new cljs.core.Keyword(null,"type","type",1174270348),"agentname",new cljs.core.Keyword(null,"text","text",-1790561697),""], null));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totalbookings","totalbookings",-736580339),(0)], null));
var remove_id = reagent.core.atom.call(null,(0));
sevenm_booking_system.components.get_table_data.call(null,src_in,list);

return ((function (src_in,list,remove_id){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-list","i.fa.fa-list",731466083)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of Group Bookings"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary.btn-sm","button.btn.btn-primary.btn-sm",1064005617),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Addnewgroup",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,sevenm_booking_system.components.groupbookings_atom,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),"BK-00",new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),false,new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),"",new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),sevenm_booking_system.components.terms_and_conditions,new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),cljs.core.PersistentArrayMap.EMPTY], null));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-groupbooking","add-groupbooking",-564709166)));
});})(src_in,list,remove_id))
], null),"Add New Group Booking"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_group_bookings_modal,remove_id,src_in,list], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6.col-md-offset-6","div.col-md-6.col-md-offset-6",-1469069354),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12.col-xs-12.input-group.form-group","div.col-md-12.col-sm-12.col-xs-12.input-group.form-group",1851270823),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_select,"groupsearchselect",sevenm_booking_system.components.fit_search_options,reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348)], null))], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_input,"groupsearchsrctext","text","Enter something to search",reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"text","text",-1790561697)], null)),src_in,list], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.table-responsive","div.table-responsive",-16203823),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Booking Number"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Quotation Number"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Agent Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Date"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (src_in,list,remove_id){
return (function sevenm_booking_system$components$groupbookings_table_comp_$_iter__7577(s__7578){
return (new cljs.core.LazySeq(null,((function (src_in,list,remove_id){
return (function (){
var s__7578__$1 = s__7578;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7578__$1);
if(temp__4657__auto__){
var s__7578__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7578__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7578__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7580 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7579 = (0);
while(true){
if((i__7579 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7579);
cljs.core.chunk_append.call(null,b__7580,cljs.core.with_meta(new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8.col-md-offset-2.btn-group","div.col-md-8.col-md-offset-2.btn-group",-929270947),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7579,i,c__6380__auto__,size__6381__auto__,b__7580,s__7578__$2,temp__4657__auto__,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i__7579,i,c__6380__auto__,size__6381__auto__,b__7580,s__7578__$2,temp__4657__auto__,src_in,list,remove_id))
,new cljs.core.Keyword(null,"title","title",636505583),"Delete Booking"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-trash","i.fa.fa-trash",1038677936)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-groupbooking","edit-groupbooking",2069309826),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Edit Booking"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-edit","i.fa.fa-edit",-1125488672)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"group-activitylog","group-activitylog",-1486409568),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Activity Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-book","i.fa.fa-book",906440351)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"group-activitylog","group-activitylog",-1486409568),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Payment Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-credit-card","i.fa.fa-credit-card",289994433)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"qrnumber","qrnumber",567965756).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"agentname","agentname",-1986723156).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"createdatetime","createdatetime",1419123161).cljs$core$IFn$_invoke$arity$1(i)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7581 = (i__7579 + (1));
i__7579 = G__7581;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7580),sevenm_booking_system$components$groupbookings_table_comp_$_iter__7577.call(null,cljs.core.chunk_rest.call(null,s__7578__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7580),null);
}
} else {
var i = cljs.core.first.call(null,s__7578__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8.col-md-offset-2.btn-group","div.col-md-8.col-md-offset-2.btn-group",-929270947),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7578__$2,temp__4657__auto__,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i,s__7578__$2,temp__4657__auto__,src_in,list,remove_id))
,new cljs.core.Keyword(null,"title","title",636505583),"Delete Booking"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-trash","i.fa.fa-trash",1038677936)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-groupbooking","edit-groupbooking",2069309826),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Edit Booking"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-edit","i.fa.fa-edit",-1125488672)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"group-activitylog","group-activitylog",-1486409568),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Activity Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-book","i.fa.fa-book",906440351)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-info",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"group-activitylog","group-activitylog",-1486409568),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Payment Log"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-credit-card","i.fa.fa-credit-card",289994433)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"qrnumber","qrnumber",567965756).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"agentname","agentname",-1986723156).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"createdatetime","createdatetime",1419123161).cljs$core$IFn$_invoke$arity$1(i)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$groupbookings_table_comp_$_iter__7577.call(null,cljs.core.rest.call(null,s__7578__$2)));
}
} else {
return null;
}
break;
}
});})(src_in,list,remove_id))
,null,null));
});})(src_in,list,remove_id))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (src_in,list,remove_id){
return (function (p1__7572_SHARP_){
cljs.core.swap_BANG_.call(null,src_in,cljs.core.assoc,new cljs.core.Keyword(null,"idx","idx",1053688473),p1__7572_SHARP_);

return sevenm_booking_system.components.get_table_data.call(null,src_in,list);
});})(src_in,list,remove_id))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"idx","idx",1053688473)),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totalbookings","totalbookings",-736580339)) / (10))) | (0)),true])], null)], null)], null);
});
;})(src_in,list,remove_id))
});
sevenm_booking_system.components.groupbookings_atom = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),"BK-00",new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),false,new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),"",new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),sevenm_booking_system.components.terms_and_conditions,new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),cljs.core.PersistentArrayMap.EMPTY], null));
sevenm_booking_system.components.get_all_groupquotations = (function sevenm_booking_system$components$get_all_groupquotations(quotations){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("groups/quotations")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7582_SHARP_){
return cljs.core.reset_BANG_.call(null,quotations,p1__7582_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.add_or_edit_groupbooking = (function sevenm_booking_system$components$add_or_edit_groupbooking(data_set){
var quotations = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var cities = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var logos = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false], null));
var cityindex = reagent.core.atom.call(null,(0));
sevenm_booking_system.components.get_all_groupquotations.call(null,quotations);

sevenm_booking_system.components.get_all_cities.call(null,cities);

sevenm_booking_system.components.get_all_logos.call(null,logos);

return ((function (quotations,cities,logos,state,cityindex){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.label.label-default","span.label.label-default",-277664003),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"font-size","font-size",-1847940346),(20)], null)], null),[cljs.core.str((cljs.core.truth_(cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"EDIT ":"ADD ")),cljs.core.str("GROUP  BOOKING")].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.btn-group","div.btn-group",1563487258),(cljs.core.truth_(cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary.btn-sm","button.btn.btn-primary.btn-sm",1064005617),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (quotations,cities,logos,state,cityindex){
return (function (){
return cljs.core.reset_BANG_.call(null,sevenm_booking_system.components.groupbookings_atom,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736),"BK-00",new cljs.core.Keyword(null,"isfinalbooking","isfinalbooking",-688876831),false,new cljs.core.Keyword(null,"emergencynumbers","emergencynumbers",355966960),"",new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),sevenm_booking_system.components.terms_and_conditions,new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),cljs.core.PersistentArrayMap.EMPTY], null));
});})(quotations,cities,logos,state,cityindex))
], null),"Add New Booking"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default.pull-right.btn-sm","a.btn.btn-default.pull-right.btn-sm",1983239653),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"groupbookings","groupbookings",-787083220))], null),"Back to Bookings"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-horizontal","div.form-horizontal",-2097357544),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.fit_group_topfields_comp,data_set,state,logos,quotations], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_city_modal,data_set,cityindex], null)], null),cljs.core.doall.call(null,(function (){var iter__6382__auto__ = ((function (quotations,cities,logos,state,cityindex){
return (function sevenm_booking_system$components$add_or_edit_groupbooking_$_iter__7587(s__7588){
return (new cljs.core.LazySeq(null,((function (quotations,cities,logos,state,cityindex){
return (function (){
var s__7588__$1 = s__7588;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7588__$1);
if(temp__4657__auto__){
var s__7588__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7588__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7588__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7590 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7589 = (0);
while(true){
if((i__7589 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7589);
cljs.core.chunk_append.call(null,b__7590,cljs.core.with_meta(new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.fit_group_show_city,"group",data_set,i,cities,cityindex], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),i], null)));

var G__7591 = (i__7589 + (1));
i__7589 = G__7591;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7590),sevenm_booking_system$components$add_or_edit_groupbooking_$_iter__7587.call(null,cljs.core.chunk_rest.call(null,s__7588__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7590),null);
}
} else {
var i = cljs.core.first.call(null,s__7588__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.fit_group_show_city,"group",data_set,i,cities,cityindex], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),i], null)),sevenm_booking_system$components$add_or_edit_groupbooking_$_iter__7587.call(null,cljs.core.rest.call(null,s__7588__$2)));
}
} else {
return null;
}
break;
}
});})(quotations,cities,logos,state,cityindex))
,null,null));
});})(quotations,cities,logos,state,cityindex))
;
return iter__6382__auto__.call(null,cljs.core.range.call(null,cljs.core.count.call(null,cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"cities","cities",-1295356824),cljs.core.PersistentVector.EMPTY))));
})()),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.add_city,data_set,cities], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area_terms_AMPERSAND_cond,"Terms and conditions","Terms and conditions",new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951),(5),"Enter Terms and conditions",reagent.core.cursor.call(null,data_set,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"termsandconditions","termsandconditions",1621503951)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookings_validator.call(null,cljs.core.deref.call(null,data_set))], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"center","center",-748944368),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (quotations,cities,logos,state,cityindex){
return (function (){
return sevenm_booking_system.components.booking_generate_onclick.call(null,data_set,state);
});})(quotations,cities,logos,state,cityindex))
], null),[cljs.core.str((cljs.core.truth_(cljs.core.deref.call(null,data_set).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"Save ":"Generate ")),cljs.core.str("Booking")].join('')], null)," ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default","a.btn.btn-default",1697165854),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"groupbookings","groupbookings",-787083220))], null),"Back"], null)," ",((cljs.core.seq.call(null,cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),new cljs.core.Keyword(null,"bookingnumber","bookingnumber",469507736)], null),"")))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-success","button.btn.btn-success",574341715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (quotations,cities,logos,state,cityindex){
return (function (){
return sevenm_booking_system.components.show_pdf.call(null,data_set);
});})(quotations,cities,logos,state,cityindex))
], null)," View PDF"], null):null)," ",((cljs.core.seq.call(null,cljs.core.get_in.call(null,cljs.core.deref.call(null,data_set),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pdf-mail-data","pdf-mail-data",169507600),new cljs.core.Keyword(null,"emailid","emailid",-1357711430)], null),"")))?new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info","button.btn.btn-info",-749622712),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (quotations,cities,logos,state,cityindex){
return (function (){
return sevenm_booking_system.components.bookings_sendmail_onclick.call(null,data_set,state);
});})(quotations,cities,logos,state,cityindex))
], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-envelope","i.fa.fa-envelope",1614781253)], null)," Send Mail ",(cljs.core.truth_(cljs.core.get.call(null,cljs.core.deref.call(null,state),new cljs.core.Keyword(null,"busy","busy",-328286801)))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-spin.fa-refresh","i.fa.fa-spin.fa-refresh",-644634109)], null):null)], null):null)], null)], null)], null);
});
;})(quotations,cities,logos,state,cityindex))
});
sevenm_booking_system.components.city_validator = (function sevenm_booking_system$components$city_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"cityname","cityname",1823665065),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null)));
});
sevenm_booking_system.components.get_cities_list = (function sevenm_booking_system$components$get_cities_list(idx,list){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("cities/"),cljs.core.str(cljs.core.deref.call(null,idx)),cljs.core.str("/10")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7592_SHARP_){
cljs.core.reset_BANG_.call(null,list,p1__7592_SHARP_);

return $("#removemodal").modal("hide");
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.delete_table_error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_cities_handler = (function sevenm_booking_system$components$delete_cities_handler(res,idx,list){
var G__7594 = new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(res);
switch (G__7594) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
case (200):
return sevenm_booking_system.components.get_cities_list.call(null,idx,list);

break;
default:
return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Problem with the server, Please try again");

}
});
sevenm_booking_system.components.delete_cities_on_click = (function sevenm_booking_system$components$delete_cities_on_click(id,idx,list){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("cities/"),cljs.core.str(cljs.core.deref.call(null,id))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7596_SHARP_){
return sevenm_booking_system.components.delete_cities_handler.call(null,p1__7596_SHARP_,idx,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7597_SHARP_){
return sevenm_booking_system.components.delete_cities_handler.call(null,p1__7597_SHARP_,idx,list);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.city_save_onclick_success = (function sevenm_booking_system$components$city_save_onclick_success(res,data,idx,list){
cljs.core.reset_BANG_.call(null,data,cljs.core.PersistentArrayMap.EMPTY);

sevenm_booking_system.components.get_cities_list.call(null,idx,list);

return sevenm_booking_system.components.boot_notify.call(null,"success","Success :","City is successfully saved");
});
sevenm_booking_system.components.city_save_onclick_error = (function sevenm_booking_system$components$city_save_onclick_error(res){
var G__7599 = res.call(null,new cljs.core.Keyword(null,"status","status",-1997798413));
switch (G__7599) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
return sevenm_booking_system.components.boot_notify.call(null,"success","Success :","Please try again");

}
});
sevenm_booking_system.components.city_save_onclick = (function sevenm_booking_system$components$city_save_onclick(data,idx,list){
if(cljs.core.seq.call(null,cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"cityname","cityname",1823665065)))){
if(cljs.core.truth_(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))){
return ajax.core.PUT.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("cities/"),cljs.core.str(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7601_SHARP_){
return sevenm_booking_system.components.city_save_onclick_success.call(null,p1__7601_SHARP_,data,idx,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7602_SHARP_){
return sevenm_booking_system.components.city_save_onclick_error.call(null,p1__7602_SHARP_);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("cities")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7603_SHARP_){
return sevenm_booking_system.components.city_save_onclick_success.call(null,p1__7603_SHARP_,data,idx,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7604_SHARP_){
return sevenm_booking_system.components.city_save_onclick_error.call(null,p1__7604_SHARP_);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
}
} else {
return null;
}
});
sevenm_booking_system.components.add_city_comp = (function sevenm_booking_system$components$add_city_comp(idx,list){
var data = reagent.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
return ((function (data){
return (function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6.col-md-offset-6","div.col-md-6.col-md-offset-6",-1469069354),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.input-group","div.input-group",-2073660476),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.input-group-btn","span.input-group-btn",358441272),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data){
return (function (){
return sevenm_booking_system.components.city_save_onclick.call(null,data,idx,list);
});})(data))
], null),"Add New City"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control","input.form-control",-1123419636),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Enter City Name to add",new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"cityname","cityname",1823665065)),new cljs.core.Keyword(null,"on-change","on-change",-732046149),((function (data){
return (function (p1__7605_SHARP_){
return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"cityname","cityname",1823665065),p1__7605_SHARP_.target.value);
});})(data))
,new cljs.core.Keyword(null,"on-key-press","on-key-press",-399563677),((function (data){
return (function (p1__7606_SHARP_){
if(cljs.core._EQ_.call(null,(13),p1__7606_SHARP_.charCode)){
return sevenm_booking_system.components.city_save_onclick.call(null,data,idx,list);
} else {
return null;
}
});})(data))
], null)], null)], null)], null)], null);
});
;})(data))
});
sevenm_booking_system.components.delete_city_table_modal = (function sevenm_booking_system$components$delete_city_table_modal(id,idx,list){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"removemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this City ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,id)),cljs.core.str("remove")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.delete_cities_on_click.call(null,id,idx,list);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.cities_comp = (function sevenm_booking_system$components$cities_comp(){
var role = cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"role","role",-736691072)], null));
var idx = reagent.core.atom.call(null,(1));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totalcities","totalcities",510484391),(0)], null));
var city = reagent.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var remove_id = reagent.core.atom.call(null,(0));
sevenm_booking_system.components.get_cities_list.call(null,idx,list);

return ((function (role,idx,list,city,remove_id){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-list","i.fa.fa-list",731466083)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of Cities"], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_city_table_modal,remove_id,idx,list], null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.add_city_comp,idx,list], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.table-responsive","div.table-responsive",-16203823),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),"100px"], null)], null),""], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"width","width",-384071477),"100px"], null)], null),""], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"City name"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),cljs.core.doall.call(null,(function (){var iter__6382__auto__ = ((function (role,idx,list,city,remove_id){
return (function sevenm_booking_system$components$cities_comp_$_iter__7614(s__7615){
return (new cljs.core.LazySeq(null,((function (role,idx,list,city,remove_id){
return (function (){
var s__7615__$1 = s__7615;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7615__$1);
if(temp__4657__auto__){
var s__7615__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7615__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7615__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7617 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7616 = (0);
while(true){
if((i__7616 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7616);
cljs.core.chunk_append.call(null,b__7617,cljs.core.with_meta(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7616,i,c__6380__auto__,size__6381__auto__,b__7617,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i__7616,i,c__6380__auto__,size__6381__auto__,b__7617,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id))
,new cljs.core.Keyword(null,"title","title",636505583),"Delete City"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),((cljs.core._EQ_.call(null,i.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)),cljs.core.get.call(null,cljs.core.deref.call(null,city),new cljs.core.Keyword(null,"id","id",-1388402092))))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-success.btn-sm","button.btn.btn-success.btn-sm",1712124729),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7616,i,c__6380__auto__,size__6381__auto__,b__7617,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id){
return (function (){
return sevenm_booking_system.components.city_save_onclick.call(null,city,idx,list);
});})(i__7616,i,c__6380__auto__,size__6381__auto__,b__7617,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id))
,new cljs.core.Keyword(null,"title","title",636505583),"Edit City"], null),"Save"], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default.btn-sm","button.btn.btn-default.btn-sm",-768282372),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7616,i,c__6380__auto__,size__6381__auto__,b__7617,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id){
return (function (){
return cljs.core.reset_BANG_.call(null,city,i);
});})(i__7616,i,c__6380__auto__,size__6381__auto__,b__7617,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id))
,new cljs.core.Keyword(null,"title","title",636505583),"Edit City"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null))], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),((cljs.core._EQ_.call(null,i.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)),cljs.core.get.call(null,cljs.core.deref.call(null,city),new cljs.core.Keyword(null,"id","id",-1388402092))))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control","input.form-control",-1123419636),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,city).call(null,new cljs.core.Keyword(null,"cityname","cityname",1823665065)),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Enter City Name",new cljs.core.Keyword(null,"on-change","on-change",-732046149),((function (i__7616,i,c__6380__auto__,size__6381__auto__,b__7617,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id){
return (function (p1__7607_SHARP_){
return cljs.core.swap_BANG_.call(null,city,cljs.core.assoc,new cljs.core.Keyword(null,"cityname","cityname",1823665065),p1__7607_SHARP_.target.value);
});})(i__7616,i,c__6380__auto__,size__6381__auto__,b__7617,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id))
,new cljs.core.Keyword(null,"on-key-press","on-key-press",-399563677),((function (i__7616,i,c__6380__auto__,size__6381__auto__,b__7617,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id){
return (function (p1__7608_SHARP_){
if(cljs.core._EQ_.call(null,(13),p1__7608_SHARP_.charCode)){
return sevenm_booking_system.components.city_save_onclick.call(null,city,idx,list);
} else {
return null;
}
});})(i__7616,i,c__6380__auto__,size__6381__auto__,b__7617,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id))
], null)], null):new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.Keyword(null,"cityname","cityname",1823665065).cljs$core$IFn$_invoke$arity$1(i)], null))], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7618 = (i__7616 + (1));
i__7616 = G__7618;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7617),sevenm_booking_system$components$cities_comp_$_iter__7614.call(null,cljs.core.chunk_rest.call(null,s__7615__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7617),null);
}
} else {
var i = cljs.core.first.call(null,s__7615__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id))
,new cljs.core.Keyword(null,"title","title",636505583),"Delete City"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),((cljs.core._EQ_.call(null,i.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)),cljs.core.get.call(null,cljs.core.deref.call(null,city),new cljs.core.Keyword(null,"id","id",-1388402092))))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-success.btn-sm","button.btn.btn-success.btn-sm",1712124729),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id){
return (function (){
return sevenm_booking_system.components.city_save_onclick.call(null,city,idx,list);
});})(i,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id))
,new cljs.core.Keyword(null,"title","title",636505583),"Edit City"], null),"Save"], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default.btn-sm","button.btn.btn-default.btn-sm",-768282372),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id){
return (function (){
return cljs.core.reset_BANG_.call(null,city,i);
});})(i,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id))
,new cljs.core.Keyword(null,"title","title",636505583),"Edit City"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null))], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),((cljs.core._EQ_.call(null,i.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)),cljs.core.get.call(null,cljs.core.deref.call(null,city),new cljs.core.Keyword(null,"id","id",-1388402092))))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input.form-control","input.form-control",-1123419636),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref.call(null,city).call(null,new cljs.core.Keyword(null,"cityname","cityname",1823665065)),new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Enter City Name",new cljs.core.Keyword(null,"on-change","on-change",-732046149),((function (i,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id){
return (function (p1__7607_SHARP_){
return cljs.core.swap_BANG_.call(null,city,cljs.core.assoc,new cljs.core.Keyword(null,"cityname","cityname",1823665065),p1__7607_SHARP_.target.value);
});})(i,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id))
,new cljs.core.Keyword(null,"on-key-press","on-key-press",-399563677),((function (i,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id){
return (function (p1__7608_SHARP_){
if(cljs.core._EQ_.call(null,(13),p1__7608_SHARP_.charCode)){
return sevenm_booking_system.components.city_save_onclick.call(null,city,idx,list);
} else {
return null;
}
});})(i,s__7615__$2,temp__4657__auto__,role,idx,list,city,remove_id))
], null)], null):new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.Keyword(null,"cityname","cityname",1823665065).cljs$core$IFn$_invoke$arity$1(i)], null))], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$cities_comp_$_iter__7614.call(null,cljs.core.rest.call(null,s__7615__$2)));
}
} else {
return null;
}
break;
}
});})(role,idx,list,city,remove_id))
,null,null));
});})(role,idx,list,city,remove_id))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})())], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (role,idx,list,city,remove_id){
return (function (p1__7609_SHARP_){
cljs.core.reset_BANG_.call(null,idx,p1__7609_SHARP_);

return sevenm_booking_system.components.get_cities_list.call(null,idx,list);
});})(role,idx,list,city,remove_id))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,idx),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totalcities","totalcities",510484391)) / (10))) | (0)),true])], null)], null)], null);
});
;})(role,idx,list,city,remove_id))
});
sevenm_booking_system.components.add_or_edit_city_comp = (function sevenm_booking_system$components$add_or_edit_city_comp(data){
var data__$1 = reagent.core.atom.call(null,data);
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false], null));
return ((function (data__$1,state){
return (function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-building","i.fa.fa-building",2134455384)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),(cljs.core.truth_(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"Edit ":"Add ")," City"], null)], null)], null);
});
;})(data__$1,state))
});
sevenm_booking_system.components.select_valid = (function sevenm_booking_system$components$select_valid(value){
return !((parseInt(value) === (0)));
});
sevenm_booking_system.components.items_validator = (function sevenm_booking_system$components$items_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.select_valid,new cljs.core.Keyword(null,"message","message",-406056002),"Please select city"], null)], null),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"category","category",-593092832),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"itemname","itemname",-1088411364),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null)));
});
sevenm_booking_system.components.items_search_options = new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"city",new cljs.core.Keyword(null,"name","name",1843675177),"City"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"itemname",new cljs.core.Keyword(null,"name","name",1843675177),"Item Name"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"vendorname",new cljs.core.Keyword(null,"name","name",1843675177),"Vendors"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"category",new cljs.core.Keyword(null,"name","name",1843675177),"Category"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"description",new cljs.core.Keyword(null,"name","name",1843675177),"Item Description"], null)], null);
sevenm_booking_system.components.delete_item_on_click = (function sevenm_booking_system$components$delete_item_on_click(id,src_in,list){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("items/"),cljs.core.str(cljs.core.deref.call(null,id))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7619_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7619_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7620_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7620_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_activity_table_modal = (function sevenm_booking_system$components$delete_activity_table_modal(id,src_in,list){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"removemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this Activity ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,id)),cljs.core.str("remove")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.delete_item_on_click.call(null,id,src_in,list);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.items_comp = (function sevenm_booking_system$components$items_comp(){
var role = cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"role","role",-736691072)], null));
var src_in = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"url","url",276297046),"items/search",new cljs.core.Keyword(null,"idx","idx",1053688473),(1),new cljs.core.Keyword(null,"type","type",1174270348),"city",new cljs.core.Keyword(null,"text","text",-1790561697),""], null));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totalitems","totalitems",1867809611),(0)], null));
var remove_id = reagent.core.atom.call(null,(0));
sevenm_booking_system.components.get_table_data.call(null,src_in,list);

return ((function (role,src_in,list,remove_id){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-list","i.fa.fa-list",731466083)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of Activities"], null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-primary.btn-sm","a.btn.btn-primary.btn-sm",1918205192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-item","add-item",715813891))], null),"Add New Activity"], null)], null):null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_activity_table_modal,remove_id,src_in,list], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Downloadcsv",new cljs.core.Keyword(null,"href","href",-793805698),[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("excel/activities.xlsx?token="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null),"Export Complete Activities into Excel File"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12.col-xs-12.input-group.form-group","div.col-md-12.col-sm-12.col-xs-12.input-group.form-group",1851270823),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_select,"itemsselect",sevenm_booking_system.components.items_search_options,reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348)], null))], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_input,"itemssrctext","text","Enter something to search",reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"text","text",-1790561697)], null)),src_in,list], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.table-responsive","div.table-responsive",-16203823),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"City"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Vendors"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Activity Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Catagory"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Activity Description"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (role,src_in,list,remove_id){
return (function sevenm_booking_system$components$items_comp_$_iter__7626(s__7627){
return (new cljs.core.LazySeq(null,((function (role,src_in,list,remove_id){
return (function (){
var s__7627__$1 = s__7627;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7627__$1);
if(temp__4657__auto__){
var s__7627__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7627__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7627__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7629 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7628 = (0);
while(true){
if((i__7628 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7628);
cljs.core.chunk_append.call(null,b__7629,cljs.core.with_meta(new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7628,i,c__6380__auto__,size__6381__auto__,b__7629,s__7627__$2,temp__4657__auto__,role,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i__7628,i,c__6380__auto__,size__6381__auto__,b__7629,s__7627__$2,temp__4657__auto__,role,src_in,list,remove_id))
,new cljs.core.Keyword(null,"title","title",636505583),"Delete Actitvity"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-item","edit-item",1026303883),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Edit Actitvity"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-info.btn-sm","a.btn.btn-info.btn-sm",1522428770),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-item","view-item",241055094),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"itemname","itemname",-1088411364).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"category","category",-593092832).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"description","description",-1428560544).cljs$core$IFn$_invoke$arity$1(i)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7630 = (i__7628 + (1));
i__7628 = G__7630;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7629),sevenm_booking_system$components$items_comp_$_iter__7626.call(null,cljs.core.chunk_rest.call(null,s__7627__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7629),null);
}
} else {
var i = cljs.core.first.call(null,s__7627__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7627__$2,temp__4657__auto__,role,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i,s__7627__$2,temp__4657__auto__,role,src_in,list,remove_id))
,new cljs.core.Keyword(null,"title","title",636505583),"Delete Actitvity"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-item","edit-item",1026303883),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)),new cljs.core.Keyword(null,"title","title",636505583),"Edit Actitvity"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-info.btn-sm","a.btn.btn-info.btn-sm",1522428770),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-item","view-item",241055094),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"itemname","itemname",-1088411364).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"category","category",-593092832).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"description","description",-1428560544).cljs$core$IFn$_invoke$arity$1(i)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$items_comp_$_iter__7626.call(null,cljs.core.rest.call(null,s__7627__$2)));
}
} else {
return null;
}
break;
}
});})(role,src_in,list,remove_id))
,null,null));
});})(role,src_in,list,remove_id))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (role,src_in,list,remove_id){
return (function (p1__7621_SHARP_){
cljs.core.swap_BANG_.call(null,src_in,cljs.core.assoc,new cljs.core.Keyword(null,"idx","idx",1053688473),p1__7621_SHARP_);

return sevenm_booking_system.components.get_table_data.call(null,src_in,list);
});})(role,src_in,list,remove_id))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"idx","idx",1053688473)),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totalitems","totalitems",1867809611)) / (10))) | (0)),true])], null)], null)], null);
});
;})(role,src_in,list,remove_id))
});
sevenm_booking_system.components.item_save_onclick_success = (function sevenm_booking_system$components$item_save_onclick_success(res,data,state){
cljs.core.reset_BANG_.call(null,data,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"adultcost","adultcost",161039586),(0),new cljs.core.Keyword(null,"childcost","childcost",1864240071),(0),new cljs.core.Keyword(null,"description","description",-1428560544),"",new cljs.core.Keyword(null,"type","type",1174270348),"Both",new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484),"",new cljs.core.Keyword(null,"subcategory","subcategory",-1171802998),""], null));

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

return sevenm_booking_system.components.boot_notify.call(null,"success","Success :","Activity is successfully saved");
});
sevenm_booking_system.components.item_save_onclick_error = (function sevenm_booking_system$components$item_save_onclick_error(res,state){
var G__7632 = new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(res);
switch (G__7632) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

return sevenm_booking_system.components.boot_notify.call(null,"warning","warning :","Please try again");

}
});
sevenm_booking_system.components.item_save_onclick = (function sevenm_booking_system$components$item_save_onclick(data,state){
if((sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data)) == null)){
if(cljs.core.truth_(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))){
return ajax.core.PUT.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("items/"),cljs.core.str(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (){
return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"items","items",1031954938)));
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7634_SHARP_){
return sevenm_booking_system.components.item_save_onclick_error.call(null,p1__7634_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("items")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7635_SHARP_){
return sevenm_booking_system.components.item_save_onclick_success.call(null,p1__7635_SHARP_,data,state);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7636_SHARP_){
return sevenm_booking_system.components.item_save_onclick_error.call(null,p1__7636_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
}
} else {
return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),true);
}
});
sevenm_booking_system.components.city_onchange = (function sevenm_booking_system$components$city_onchange(data,vendors){
return (function (input){
var record = sevenm_booking_system.components.js_clj.call(null,input);
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"cityid","cityid",1837642752),record.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"category","category",-593092832),"");

return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),"");
});
});
sevenm_booking_system.components.vendor_onchange = (function sevenm_booking_system$components$vendor_onchange(data){
return (function (input){
var record = sevenm_booking_system.components.js_clj.call(null,input);
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),record.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)));

cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"description","description",-1428560544),record.call(null,new cljs.core.Keyword(null,"description","description",-1428560544)));

return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"itemname","itemname",-1088411364),record.call(null,new cljs.core.Keyword(null,"name","name",1843675177)));
});
});
sevenm_booking_system.components.category_onchange = (function sevenm_booking_system$components$category_onchange(data,vendors){
return (function (input){
var cityid = cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"cityid","cityid",1837642752));
var record = sevenm_booking_system.components.js_clj.call(null,input);
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"category","category",-593092832),record.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)));

sevenm_booking_system.components.get_vendors_by_city_category.call(null,cityid,record.call(null,new cljs.core.Keyword(null,"id","id",-1388402092)),vendors);

var G__7638 = record.call(null,new cljs.core.Keyword(null,"id","id",-1388402092));
switch (G__7638) {
case "meals":
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"description","description",-1428560544),"%%");

return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484),"%%");

break;
default:
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"description","description",-1428560544),"");

return cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484),"");

}
});
});
sevenm_booking_system.components.add_or_edit_item_comp = (function sevenm_booking_system$components$add_or_edit_item_comp(data){
var data__$1 = reagent.core.atom.call(null,data);
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false], null));
var cities = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var vendors = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
sevenm_booking_system.components.get_all_cities.call(null,cities);

if(cljs.core.truth_(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"cityid","cityid",1837642752)))){
sevenm_booking_system.components.get_vendors_by_city_category.call(null,cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"cityid","cityid",1837642752)),cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"category","category",-593092832)),vendors);
} else {
}

return ((function (data__$1,state,cities,vendors){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-book","i.fa.fa-book",906440351)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),(cljs.core.truth_(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"Edit ":"Add ")," Activity"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-horizontal","div.form-horizontal",-2097357544),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.callout.callout-default","div.callout.callout-default",-237809994),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4","h4",2004862993)," Note : Activity Title and Description for Sub-category"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),"In Order to differentiate Title and Description for Sub-category\n               in Category, Write title and Description with %% instead of sub-category.\n               We will replace this %% with subcategory in bookings"], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_react_select_onchange,"City","City",new cljs.core.Keyword(null,"cityid","cityid",1837642752),cities,cljs.core.get.call(null,cljs.core.deref.call(null,data__$1),new cljs.core.Keyword(null,"cityid","cityid",1837642752),null),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1)),sevenm_booking_system.components.city_onchange.call(null,data__$1,vendors)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_react_select_onchange,"Category","Select Category",new cljs.core.Keyword(null,"category","category",-593092832),sevenm_booking_system.components.categories_atom,cljs.core.get.call(null,cljs.core.deref.call(null,data__$1),new cljs.core.Keyword(null,"category","category",-593092832),""),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1)),sevenm_booking_system.components.category_onchange.call(null,data__$1,vendors)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_react_select_onchange,"Vendor","Vendor",new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),vendors,cljs.core.get.call(null,cljs.core.deref.call(null,data__$1),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),""),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1)),sevenm_booking_system.components.vendor_onchange.call(null,data__$1)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_select,"Type","Type",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["FIT","Group","Both"], null),reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Activity Name","Activity Name",new cljs.core.Keyword(null,"itemname","itemname",-1088411364),"text","Enter Activity Name",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"itemname","itemname",-1088411364)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Activity Title","Activity Title",new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484),"text","Enter Activity Title",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"activitytitle","activitytitle",-1847406484)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area,"Activity Description","Activity Description",new cljs.core.Keyword(null,"description","description",-1428560544),(5),"Enter Activity Description",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"description","description",-1428560544)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1))], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3","div.col-md-3",1386112129)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"center","center",-748944368),((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-item","view-item",241055094),new cljs.core.Keyword(null,"id","id",-1388402092),cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092),(0))),pushy.core.get_token.call(null,sevenm_booking_system.routes.history)))?null:new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,state,cities,vendors){
return (function (){
return sevenm_booking_system.components.item_save_onclick.call(null,data__$1,state);
});})(data__$1,state,cities,vendors))
], null),"Save"], null)),"  ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default","a.btn.btn-default",1697165854),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"items","items",1031954938))], null),"Back"], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3","div.col-md-3",1386112129)], null)], null)], null);
});
;})(data__$1,state,cities,vendors))
});
sevenm_booking_system.components.hotel_validator = (function sevenm_booking_system$components$hotel_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"category","category",-593092832),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"hotelname","hotelname",1287837777),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null)));
});
sevenm_booking_system.components.hotel_search_options = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"city",new cljs.core.Keyword(null,"name","name",1843675177),"City"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"hotelname",new cljs.core.Keyword(null,"name","name",1843675177),"Hotel Name"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"category",new cljs.core.Keyword(null,"name","name",1843675177),"Category"], null)], null);
sevenm_booking_system.components.delete_hotel_on_click = (function sevenm_booking_system$components$delete_hotel_on_click(id,src_in,list){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("hotels/"),cljs.core.str(cljs.core.deref.call(null,id))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7640_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7640_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7641_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7641_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_hotel_table_modal = (function sevenm_booking_system$components$delete_hotel_table_modal(id,src_in,list){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"removemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this Hotel ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,id)),cljs.core.str("remove")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.delete_hotel_on_click.call(null,id,src_in,list);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.hotels_comp = (function sevenm_booking_system$components$hotels_comp(){
var role = cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"role","role",-736691072)], null));
var src_in = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"url","url",276297046),"hotels/search",new cljs.core.Keyword(null,"idx","idx",1053688473),(1),new cljs.core.Keyword(null,"type","type",1174270348),"city",new cljs.core.Keyword(null,"text","text",-1790561697),""], null));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totalhotels","totalhotels",-710642033),(0)], null));
var remove_id = reagent.core.atom.call(null,(0));
sevenm_booking_system.components.get_table_data.call(null,src_in,list);

return ((function (role,src_in,list,remove_id){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-hotel","i.fa.fa-hotel",-945095793)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of Hotels"], null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-primary.btn-sm","a.btn.btn-primary.btn-sm",1918205192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-hotel","add-hotel",710530814))], null),"Add New Hotel"], null)], null):null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_hotel_table_modal,remove_id,src_in,list], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Downloadcsv",new cljs.core.Keyword(null,"href","href",-793805698),[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("excel/hotels.xlsx?token="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null),"Export Complete Hotels into Excel File"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12.col-xs-12.input-group.form-group","div.col-md-12.col-sm-12.col-xs-12.input-group.form-group",1851270823),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_select,"hotelselect",sevenm_booking_system.components.hotel_search_options,reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348)], null))], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_input,"hotelsrctext","text","Enter something to search",reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"text","text",-1790561697)], null)),src_in,list], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.table-responsive","div.table-responsive",-16203823),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 12, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"City"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Category"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Hotel Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Hotel Phone #"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Contact Person Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"C P Phone #"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"C P Email"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"7M Rating"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (role,src_in,list,remove_id){
return (function sevenm_booking_system$components$hotels_comp_$_iter__7647(s__7648){
return (new cljs.core.LazySeq(null,((function (role,src_in,list,remove_id){
return (function (){
var s__7648__$1 = s__7648;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7648__$1);
if(temp__4657__auto__){
var s__7648__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7648__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7648__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7650 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7649 = (0);
while(true){
if((i__7649 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7649);
cljs.core.chunk_append.call(null,b__7650,cljs.core.with_meta(new cljs.core.PersistentVector(null, 12, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Delete Hotel",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7649,i,c__6380__auto__,size__6381__auto__,b__7650,s__7648__$2,temp__4657__auto__,role,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i__7649,i,c__6380__auto__,size__6381__auto__,b__7650,s__7648__$2,temp__4657__auto__,role,src_in,list,remove_id))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Edit Hotel",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-hotel","edit-hotel",376112162),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-info.btn-sm","a.btn.btn-info.btn-sm",1522428770),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-hotel","view-hotel",-686388496),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"category","category",-593092832).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"hotelname","hotelname",1287837777).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactpersonname","contactpersonname",-1748859861).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactpersonphonenumber","contactpersonphonenumber",241524887).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactpersonemail","contactpersonemail",-1420968074).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"hotelrating",reagent.core.atom.call(null,new cljs.core.Keyword(null,"rating","rating",144173662).cljs$core$IFn$_invoke$arity$1(i)),"exs",true], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7651 = (i__7649 + (1));
i__7649 = G__7651;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7650),sevenm_booking_system$components$hotels_comp_$_iter__7647.call(null,cljs.core.chunk_rest.call(null,s__7648__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7650),null);
}
} else {
var i = cljs.core.first.call(null,s__7648__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 12, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Delete Hotel",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7648__$2,temp__4657__auto__,role,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i,s__7648__$2,temp__4657__auto__,role,src_in,list,remove_id))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Edit Hotel",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-hotel","edit-hotel",376112162),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-info.btn-sm","a.btn.btn-info.btn-sm",1522428770),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-hotel","view-hotel",-686388496),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"category","category",-593092832).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"hotelname","hotelname",1287837777).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactpersonname","contactpersonname",-1748859861).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactpersonphonenumber","contactpersonphonenumber",241524887).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactpersonemail","contactpersonemail",-1420968074).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"hotelrating",reagent.core.atom.call(null,new cljs.core.Keyword(null,"rating","rating",144173662).cljs$core$IFn$_invoke$arity$1(i)),"exs",true], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$hotels_comp_$_iter__7647.call(null,cljs.core.rest.call(null,s__7648__$2)));
}
} else {
return null;
}
break;
}
});})(role,src_in,list,remove_id))
,null,null));
});})(role,src_in,list,remove_id))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (role,src_in,list,remove_id){
return (function (p1__7642_SHARP_){
cljs.core.swap_BANG_.call(null,src_in,cljs.core.assoc,new cljs.core.Keyword(null,"idx","idx",1053688473),p1__7642_SHARP_);

return sevenm_booking_system.components.get_table_data.call(null,src_in,list);
});})(role,src_in,list,remove_id))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"idx","idx",1053688473)),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totalhotels","totalhotels",-710642033)) / (10))) | (0)),true])], null)], null)], null);
});
;})(role,src_in,list,remove_id))
});
sevenm_booking_system.components.hotel_save_onclick_success = (function sevenm_booking_system$components$hotel_save_onclick_success(res,data,state,filename){
cljs.core.reset_BANG_.call(null,data,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"remarks","remarks",1566599360),new cljs.core.Keyword(null,"description","description",-1428560544),new cljs.core.Keyword(null,"category","category",-593092832),new cljs.core.Keyword(null,"address","address",559499426),new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),new cljs.core.Keyword(null,"cancellationpolicy","cancellationpolicy",1403968968),new cljs.core.Keyword(null,"contactpersonname","contactpersonname",-1748859861),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"filename","filename",-1428840783),new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283),new cljs.core.Keyword(null,"contactpersonemail","contactpersonemail",-1420968074),new cljs.core.Keyword(null,"contactpersonphonenumber","contactpersonphonenumber",241524887),new cljs.core.Keyword(null,"cost","cost",-1094861735),new cljs.core.Keyword(null,"rating","rating",144173662)],["","","0 Star","","","","","Not Contract","","","","",(0),(0)]));

cljs.core.reset_BANG_.call(null,filename,"");

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"busy","busy",-328286801),false);

return sevenm_booking_system.components.boot_notify.call(null,"success","Success :","Hotel is successfully saved");
});
sevenm_booking_system.components.hotel_save_onclick_error = (function sevenm_booking_system$components$hotel_save_onclick_error(res,state,filename){
var G__7653 = res.call(null,new cljs.core.Keyword(null,"status","status",-1997798413));
switch (G__7653) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
cljs.core.reset_BANG_.call(null,filename,"");

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"busy","busy",-328286801),false);

return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Please try again");

}
});
sevenm_booking_system.components.hotels_put = (function sevenm_booking_system$components$hotels_put(data,state,filename){
return ajax.core.PUT.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("hotels/"),cljs.core.str(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (){
return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"hotels","hotels",1552357142)));
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7655_SHARP_){
return sevenm_booking_system.components.hotel_save_onclick_error.call(null,p1__7655_SHARP_,state,filename);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.hotels_post = (function sevenm_booking_system$components$hotels_post(data,state,filename){
return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("hotels")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7656_SHARP_){
return sevenm_booking_system.components.hotel_save_onclick_success.call(null,p1__7656_SHARP_,data,state,filename);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7657_SHARP_){
return sevenm_booking_system.components.hotel_save_onclick_error.call(null,p1__7657_SHARP_,state,filename);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.hotels_post_or_put = (function sevenm_booking_system$components$hotels_post_or_put(data,state,filename){
if(cljs.core.truth_(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))){
return sevenm_booking_system.components.hotels_put.call(null,data,state,filename);
} else {
return sevenm_booking_system.components.hotels_post.call(null,data,state,filename);
}
});
sevenm_booking_system.components.upload_hotel_contactfile = (function sevenm_booking_system$components$upload_hotel_contactfile(data,state,filename){
if((sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data)) == null)){
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"busy","busy",-328286801),true);

if(cljs.core.truth_(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"contractfile","contractfile",-1525630174)))){
return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("hotels/upload")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"body","body",-2049205669),cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"contractfile","contractfile",-1525630174)),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7658_SHARP_){
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"filename","filename",-1428840783),new cljs.core.Keyword(null,"filename","filename",-1428840783).cljs$core$IFn$_invoke$arity$1(p1__7658_SHARP_));

return sevenm_booking_system.components.hotels_post_or_put.call(null,data,state,filename);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7659_SHARP_){
return sevenm_booking_system.components.hotel_save_onclick_error.call(null,p1__7659_SHARP_,state,filename);
}),new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
return sevenm_booking_system.components.hotels_post_or_put.call(null,data,state,filename);
}
} else {
return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),true);
}
});
sevenm_booking_system.components.add_or_edit_hotel_comp = (function sevenm_booking_system$components$add_or_edit_hotel_comp(data){
var data__$1 = reagent.core.atom.call(null,data);
var filename = reagent.core.atom.call(null,"");
var cities = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false], null));
sevenm_booking_system.components.get_all_cities.call(null,cities);

return ((function (data__$1,filename,cities,state){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-hotel","i.fa.fa-hotel",-945095793)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),(cljs.core.truth_(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"Edit ":"Add ")," Hotel"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div..form-horizontal","div..form-horizontal",1979485273),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 10, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_chosen_select,"City Name","Cityname",new cljs.core.Keyword(null,"cityid","cityid",1837642752),cities,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Hotel Name","Hotel Name",new cljs.core.Keyword(null,"hotelname","hotelname",1287837777),"text","Enter Hotel Name",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"hotelname","hotelname",1287837777)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),"7M Rating"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"HotelRating",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"rating","rating",144173662)], null)),"xs",false], null)], null)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_select,"Contract Type","Type",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Not Contract","Contract","Mutual Agreement"], null),reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),(((cljs.core._EQ_.call(null,"Not Contract",cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"type","type",1174270348)))) || (cljs.core._EQ_.call(null,"",cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"type","type",1174270348),""))))?null:new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_number,"Cost","Cost",new cljs.core.Keyword(null,"cost","cost",-1094861735),"Enter Cost for Hotel",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cost","cost",-1094861735)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null)),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_select,"Hotel Star Grading","Category",new cljs.core.Keyword(null,"category","category",-593092832),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, ["0 Star","1 Star","2 Star","3 Star","4 Star","5 Star"], null),reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"category","category",-593092832)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area,"Address","Address",new cljs.core.Keyword(null,"address","address",559499426),(5),"Enter Hotel Address",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"address","address",559499426)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Phone Number","Phone Number",new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283),"text","Enter Hotel Phone Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Fax Number","Fax Number",new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),"text","Enter Fax Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Contact Person Name","Contact Person Name",new cljs.core.Keyword(null,"contactpersonname","contactpersonname",-1748859861),"text","Enter Contact Person Name",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contactpersonname","contactpersonname",-1748859861)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Contact Person Phone #","Contact Person Phone #",new cljs.core.Keyword(null,"contactpersonphonenumber","contactpersonphonenumber",241524887),"text","Enter  Contact Person Phone #",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contactpersonphonenumber","contactpersonphonenumber",241524887)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Contact Person Email","Contact Person Email",new cljs.core.Keyword(null,"contactpersonemail","contactpersonemail",-1420968074),"email","Enter Contact Person Email",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contactpersonemail","contactpersonemail",-1420968074)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Estimated Room Rates","Estimated Room Rates",new cljs.core.Keyword(null,"estimatedroomrate","estimatedroomrate",678665337),"text","Enter Estimated Room Rate",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"estimatedroomrate","estimatedroomrate",678665337)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Remarks","remarks",new cljs.core.Keyword(null,"remarks","remarks",1566599360),"text","Enter Remarks",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"remarks","remarks",1566599360)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Cancellation Policy","Cancellation Policy",new cljs.core.Keyword(null,"cancellationpolicy","cancellationpolicy",1403968968),"text","Enter Cancellation Policy",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cancellationpolicy","cancellationpolicy",1403968968)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area,"Description","Description",new cljs.core.Keyword(null,"description","description",-1428560544),(5),"Enter Description",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"description","description",-1428560544)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.hotel_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),"Upload Contract PDF"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.file_upload_button,"contractfile","Contract PDF",sevenm_booking_system.components.accept_types_hotel_contractfile,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contractfile","contractfile",-1525630174)], null)),filename], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2","div.col-md-2",-138798418),((cljs.core.seq.call(null,cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"filename","filename",-1428840783))))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,filename,cities,state){
return (function (){
return window.open([cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("hotelcontractfiles/"),cljs.core.str(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"filename","filename",-1428840783)))].join(''));
});})(data__$1,filename,cities,state))
], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-download-alt","span.glyphicon.glyphicon-download-alt",-800552590)], null)], null):null)], null)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"center","center",-748944368),((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-hotel","view-hotel",-686388496),new cljs.core.Keyword(null,"id","id",-1388402092),cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092),(0))),pushy.core.get_token.call(null,sevenm_booking_system.routes.history)))?null:new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,filename,cities,state){
return (function (){
return sevenm_booking_system.components.upload_hotel_contactfile.call(null,data__$1,state,filename);
});})(data__$1,filename,cities,state))
], null),"Save ",(cljs.core.truth_(cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"busy","busy",-328286801)))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-spin.fa-refresh","i.fa.fa-spin.fa-refresh",-644634109)], null):null)], null)),"  ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default","a.btn.btn-default",1697165854),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"hotels","hotels",1552357142))], null),"Back"], null)], null)], null)], null);
});
;})(data__$1,filename,cities,state))
});
sevenm_booking_system.components.restaurant_validator = (function sevenm_booking_system$components$restaurant_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"restaurantname","restaurantname",-1527469226),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null)));
});
sevenm_booking_system.components.restaurant_search_options = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"city",new cljs.core.Keyword(null,"name","name",1843675177),"City"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"restaurantname",new cljs.core.Keyword(null,"name","name",1843675177),"Restaurants Name"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"area",new cljs.core.Keyword(null,"name","name",1843675177),"Area"], null)], null);
sevenm_booking_system.components.delete_restaurants_on_click = (function sevenm_booking_system$components$delete_restaurants_on_click(id,src_in,list){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("restaurants/"),cljs.core.str(cljs.core.deref.call(null,id))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7660_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7660_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7661_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7661_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_restaurants_table_modal = (function sevenm_booking_system$components$delete_restaurants_table_modal(id,src_in,list){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"removemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this Restaurant ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,id)),cljs.core.str("remove")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.delete_restaurants_on_click.call(null,id,src_in,list);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.restaurants_comp = (function sevenm_booking_system$components$restaurants_comp(){
var role = cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"role","role",-736691072)], null));
var src_in = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"url","url",276297046),"restaurants/search",new cljs.core.Keyword(null,"idx","idx",1053688473),(1),new cljs.core.Keyword(null,"type","type",1174270348),"city",new cljs.core.Keyword(null,"text","text",-1790561697),""], null));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totalrestaurants","totalrestaurants",-423206730),(0)], null));
var remove_id = reagent.core.atom.call(null,(0));
sevenm_booking_system.components.get_table_data.call(null,src_in,list);

return ((function (role,src_in,list,remove_id){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-cutlery","i.fa.fa-cutlery",1091824196)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of Restaurants"], null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-primary.btn-sm","a.btn.btn-primary.btn-sm",1918205192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-restaurant","add-restaurant",862180421))], null),"Add New Restaurant"], null)], null):null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_restaurants_table_modal,remove_id,src_in,list], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Downloadcsv",new cljs.core.Keyword(null,"href","href",-793805698),[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("excel/restaurents.xlsx?token="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null),"Export Complete Restaurants into Excel File"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12.col-xs-12.input-group.form-group","div.col-md-12.col-sm-12.col-xs-12.input-group.form-group",1851270823),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_select,"restaurantselect",sevenm_booking_system.components.restaurant_search_options,reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348)], null))], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_input,"restaurantsrctext","text","Enter something to search",reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"text","text",-1790561697)], null)),src_in,list], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.table-responsive","div.table-responsive",-16203823),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 12, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"City"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Area"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Restaurant Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Cuisine"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Contact Person Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Contact Number"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Cell Number"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"7M Rating"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (role,src_in,list,remove_id){
return (function sevenm_booking_system$components$restaurants_comp_$_iter__7667(s__7668){
return (new cljs.core.LazySeq(null,((function (role,src_in,list,remove_id){
return (function (){
var s__7668__$1 = s__7668;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7668__$1);
if(temp__4657__auto__){
var s__7668__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7668__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7668__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7670 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7669 = (0);
while(true){
if((i__7669 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7669);
cljs.core.chunk_append.call(null,b__7670,cljs.core.with_meta(new cljs.core.PersistentVector(null, 12, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Delete Restaurant",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7669,i,c__6380__auto__,size__6381__auto__,b__7670,s__7668__$2,temp__4657__auto__,role,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i__7669,i,c__6380__auto__,size__6381__auto__,b__7670,s__7668__$2,temp__4657__auto__,role,src_in,list,remove_id))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Edit Restaurant",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-restaurant","edit-restaurant",-709382400),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-info.btn-sm","a.btn.btn-info.btn-sm",1522428770),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-restaurant","view-restaurant",1556565268),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"area","area",472007256).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"restaurantname","restaurantname",-1527469226).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cuisine","cuisine",1109584060).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactperson","contactperson",-190367504).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cellnumber","cellnumber",-1608391155).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"Tourguide",reagent.core.atom.call(null,new cljs.core.Keyword(null,"rating","rating",144173662).cljs$core$IFn$_invoke$arity$1(i)),"exs",true], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7671 = (i__7669 + (1));
i__7669 = G__7671;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7670),sevenm_booking_system$components$restaurants_comp_$_iter__7667.call(null,cljs.core.chunk_rest.call(null,s__7668__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7670),null);
}
} else {
var i = cljs.core.first.call(null,s__7668__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 12, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Delete Restaurant",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7668__$2,temp__4657__auto__,role,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i,s__7668__$2,temp__4657__auto__,role,src_in,list,remove_id))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Edit Restaurant",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-restaurant","edit-restaurant",-709382400),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-info.btn-sm","a.btn.btn-info.btn-sm",1522428770),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-restaurant","view-restaurant",1556565268),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"area","area",472007256).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"restaurantname","restaurantname",-1527469226).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cuisine","cuisine",1109584060).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactperson","contactperson",-190367504).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cellnumber","cellnumber",-1608391155).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"Tourguide",reagent.core.atom.call(null,new cljs.core.Keyword(null,"rating","rating",144173662).cljs$core$IFn$_invoke$arity$1(i)),"exs",true], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$restaurants_comp_$_iter__7667.call(null,cljs.core.rest.call(null,s__7668__$2)));
}
} else {
return null;
}
break;
}
});})(role,src_in,list,remove_id))
,null,null));
});})(role,src_in,list,remove_id))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (role,src_in,list,remove_id){
return (function (p1__7662_SHARP_){
cljs.core.swap_BANG_.call(null,src_in,cljs.core.assoc,new cljs.core.Keyword(null,"idx","idx",1053688473),p1__7662_SHARP_);

return sevenm_booking_system.components.get_table_data.call(null,src_in,list);
});})(role,src_in,list,remove_id))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"idx","idx",1053688473)),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totalrestaurants","totalrestaurants",-423206730)) / (10))) | (0)),true])], null)], null)], null);
});
;})(role,src_in,list,remove_id))
});
sevenm_booking_system.components.restaurant_save_onclick_success = (function sevenm_booking_system$components$restaurant_save_onclick_success(res,data,state){
cljs.core.reset_BANG_.call(null,data,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"remarks","remarks",1566599360),new cljs.core.Keyword(null,"description","description",-1428560544),new cljs.core.Keyword(null,"lunch","lunch",-875508703),new cljs.core.Keyword(null,"waytoconfirm","waytoconfirm",-2049126719),new cljs.core.Keyword(null,"address","address",559499426),new cljs.core.Keyword(null,"email","email",1415816706),new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),new cljs.core.Keyword(null,"cellnumber","cellnumber",-1608391155),new cljs.core.Keyword(null,"contactperson","contactperson",-190367504),new cljs.core.Keyword(null,"dinner","dinner",-446811662),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546),new cljs.core.Keyword(null,"kids","kids",1156670771),new cljs.core.Keyword(null,"area","area",472007256),new cljs.core.Keyword(null,"cuisine","cuisine",1109584060),new cljs.core.Keyword(null,"rating","rating",144173662)],["","",(0),"","","","","","",(0),"",(0),"","",(0)]));

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

return sevenm_booking_system.components.boot_notify.call(null,"success","Success :","Restaurant is successfully saved");
});
sevenm_booking_system.components.restaurant_save_onclick_error = (function sevenm_booking_system$components$restaurant_save_onclick_error(res,state){
var G__7673 = res.call(null,new cljs.core.Keyword(null,"status","status",-1997798413));
switch (G__7673) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Please try again");

}
});
sevenm_booking_system.components.restaurant_save_onclick = (function sevenm_booking_system$components$restaurant_save_onclick(data,state){
if((sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data)) == null)){
if(cljs.core.truth_(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))){
return ajax.core.PUT.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("restaurants/"),cljs.core.str(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (){
return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"restaurants","restaurants",1693363505)));
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7675_SHARP_){
return sevenm_booking_system.components.restaurant_save_onclick_error.call(null,p1__7675_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("restaurants")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7676_SHARP_){
return sevenm_booking_system.components.restaurant_save_onclick_success.call(null,p1__7676_SHARP_,data,state);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7677_SHARP_){
return sevenm_booking_system.components.restaurant_save_onclick_error.call(null,p1__7677_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
}
} else {
return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),true);
}
});
sevenm_booking_system.components.add_or_edit_restaurant_comp = (function sevenm_booking_system$components$add_or_edit_restaurant_comp(data){
var data__$1 = reagent.core.atom.call(null,data);
var cities = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false], null));
sevenm_booking_system.components.get_all_cities.call(null,cities);

return ((function (data__$1,cities,state){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-cutlery","i.fa.fa-cutlery",1091824196)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),(cljs.core.truth_(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"Edit ":"Add ")," Restaurant"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div..form-horizontal","div..form-horizontal",1979485273),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_chosen_select,"City Name","Cityname",new cljs.core.Keyword(null,"cityid","cityid",1837642752),cities,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Restaurant Name","Restaurant Name",new cljs.core.Keyword(null,"restaurantname","restaurantname",-1527469226),"text","Enter Restaurant Name",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"restaurantname","restaurantname",-1527469226)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),"7M Rating"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"RestaurantRating",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"rating","rating",144173662)], null)),"xs",false], null)], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Area","Area",new cljs.core.Keyword(null,"area","area",472007256),"text","Enter Area",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"area","area",472007256)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area,"Address","Address",new cljs.core.Keyword(null,"address","address",559499426),(5),"Enter Restaurant Address",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"address","address",559499426)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Cuisine","Cuisine",new cljs.core.Keyword(null,"Cuisine","Cuisine",-490651093),"text","Enter Cuisine",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cuisine","cuisine",1109584060)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Remarks","Remarks",new cljs.core.Keyword(null,"remarks","remarks",1566599360),"text","Enter Remarks",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"remarks","remarks",1566599360)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Contact Person","Contact Person",new cljs.core.Keyword(null,"contactperson","contactperson",-190367504),"text","Enter Contact Person Name",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contactperson","contactperson",-190367504)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Contact Number","Contact Number",new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546),"text","Enter  Contact Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Cell Number","Cell Number",new cljs.core.Keyword(null,"cellnumber","cellnumber",-1608391155),"text","Enter Cell Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cellnumber","cellnumber",-1608391155)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Fax Number","Fax Number",new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),"text","Enter Fax Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Email","Email",new cljs.core.Keyword(null,"email","email",1415816706),"email","Enter email",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"email","email",1415816706)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_number,"Lunch","lunch",new cljs.core.Keyword(null,"lunch","lunch",-875508703),"Enter Lunch amount",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"lunch","lunch",-875508703)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_number,"Dinner","dinner",new cljs.core.Keyword(null,"dinner","dinner",-446811662),"Enter Dinner amount",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"dinner","dinner",-446811662)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_number,"Child/Student Cost","kids",new cljs.core.Keyword(null,"kids","kids",1156670771),"Enter Kids amount",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"kids","kids",1156670771)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.restaurant_validator.call(null,cljs.core.deref.call(null,data__$1))], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"center","center",-748944368),((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-restaurant","view-restaurant",1556565268),new cljs.core.Keyword(null,"id","id",-1388402092),cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092),(0))),pushy.core.get_token.call(null,sevenm_booking_system.routes.history)))?null:new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,cities,state){
return (function (){
return sevenm_booking_system.components.restaurant_save_onclick.call(null,data__$1,state);
});})(data__$1,cities,state))
], null),"Save"], null)),"  ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default","a.btn.btn-default",1697165854),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"restaurants","restaurants",1693363505))], null),"Back"], null)], null)], null)], null);
});
;})(data__$1,cities,state))
});
sevenm_booking_system.components.tourguide_validator = (function sevenm_booking_system$components$tourguide_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"tourguidename","tourguidename",-532968532),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null)));
});
sevenm_booking_system.components.tourgide_search_options = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"city",new cljs.core.Keyword(null,"name","name",1843675177),"City"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"tourguidename",new cljs.core.Keyword(null,"name","name",1843675177),"Tour Guide Name"], null)], null);
sevenm_booking_system.components.delete_tourguides_on_click = (function sevenm_booking_system$components$delete_tourguides_on_click(id,src_in,list){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("tourguides/"),cljs.core.str(cljs.core.deref.call(null,id))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7678_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7678_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7679_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7679_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_tourguides_table_modal = (function sevenm_booking_system$components$delete_tourguides_table_modal(id,src_in,list){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"removemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this Tourguide ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,id)),cljs.core.str("remove")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.delete_tourguides_on_click.call(null,id,src_in,list);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.tourguides_comp = (function sevenm_booking_system$components$tourguides_comp(){
var role = cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"role","role",-736691072)], null));
var src_in = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"url","url",276297046),"tourguides/search",new cljs.core.Keyword(null,"idx","idx",1053688473),(1),new cljs.core.Keyword(null,"type","type",1174270348),"city",new cljs.core.Keyword(null,"text","text",-1790561697),""], null));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totaltourguides","totaltourguides",1011362970),(0)], null));
var remove_id = reagent.core.atom.call(null,(0));
sevenm_booking_system.components.get_table_data.call(null,src_in,list);

return ((function (role,src_in,list,remove_id){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-users","i.fa.fa-users",-337244888)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of Tour Guides"], null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-primary.btn-sm","a.btn.btn-primary.btn-sm",1918205192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-tourguide","add-tourguide",-595112847))], null),"Add New Tourguide"], null)], null):null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_tourguides_table_modal,remove_id,src_in,list], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Downloadcsv",new cljs.core.Keyword(null,"href","href",-793805698),[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("excel/tourguides.xlsx?token="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null),"Export Complete Tour Guides into Excel File"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12.col-xs-12.input-group.form-group","div.col-md-12.col-sm-12.col-xs-12.input-group.form-group",1851270823),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_select,"tourguideselect",sevenm_booking_system.components.tourgide_search_options,reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348)], null))], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_input,"tourgidesrctext","text","Enter something to search",reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"text","text",-1790561697)], null)),src_in,list], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.table-responsive","div.table-responsive",-16203823),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 11, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"City"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Tour Guide Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Contact #"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Cell #"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Email"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Tour Guide Rate"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"7M Rating"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (role,src_in,list,remove_id){
return (function sevenm_booking_system$components$tourguides_comp_$_iter__7685(s__7686){
return (new cljs.core.LazySeq(null,((function (role,src_in,list,remove_id){
return (function (){
var s__7686__$1 = s__7686;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7686__$1);
if(temp__4657__auto__){
var s__7686__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7686__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7686__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7688 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7687 = (0);
while(true){
if((i__7687 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7687);
cljs.core.chunk_append.call(null,b__7688,cljs.core.with_meta(new cljs.core.PersistentVector(null, 11, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Delete Tour Guide",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7687,i,c__6380__auto__,size__6381__auto__,b__7688,s__7686__$2,temp__4657__auto__,role,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i__7687,i,c__6380__auto__,size__6381__auto__,b__7688,s__7686__$2,temp__4657__auto__,role,src_in,list,remove_id))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Edit Tour Guide",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-tourguide","edit-tourguide",1622319808),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-info.btn-sm","a.btn.btn-info.btn-sm",1522428770),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-tourguide","view-tourguide",-823421758),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"tourguidename","tourguidename",-532968532).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cellnumber","cellnumber",-1608391155).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),[cljs.core.str("$ "),cljs.core.str(new cljs.core.Keyword(null,"amount","amount",364489504).cljs$core$IFn$_invoke$arity$1(i)),cljs.core.str("/hr")].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"Tourguide",reagent.core.atom.call(null,new cljs.core.Keyword(null,"rating","rating",144173662).cljs$core$IFn$_invoke$arity$1(i)),"exs",true], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7689 = (i__7687 + (1));
i__7687 = G__7689;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7688),sevenm_booking_system$components$tourguides_comp_$_iter__7685.call(null,cljs.core.chunk_rest.call(null,s__7686__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7688),null);
}
} else {
var i = cljs.core.first.call(null,s__7686__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 11, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Delete Tour Guide",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7686__$2,temp__4657__auto__,role,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i,s__7686__$2,temp__4657__auto__,role,src_in,list,remove_id))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Edit Tour Guide",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-tourguide","edit-tourguide",1622319808),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-info.btn-sm","a.btn.btn-info.btn-sm",1522428770),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-tourguide","view-tourguide",-823421758),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"tourguidename","tourguidename",-532968532).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cellnumber","cellnumber",-1608391155).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),[cljs.core.str("$ "),cljs.core.str(new cljs.core.Keyword(null,"amount","amount",364489504).cljs$core$IFn$_invoke$arity$1(i)),cljs.core.str("/hr")].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"Tourguide",reagent.core.atom.call(null,new cljs.core.Keyword(null,"rating","rating",144173662).cljs$core$IFn$_invoke$arity$1(i)),"exs",true], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$tourguides_comp_$_iter__7685.call(null,cljs.core.rest.call(null,s__7686__$2)));
}
} else {
return null;
}
break;
}
});})(role,src_in,list,remove_id))
,null,null));
});})(role,src_in,list,remove_id))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (role,src_in,list,remove_id){
return (function (p1__7680_SHARP_){
cljs.core.swap_BANG_.call(null,src_in,cljs.core.assoc,new cljs.core.Keyword(null,"idx","idx",1053688473),p1__7680_SHARP_);

return sevenm_booking_system.components.get_table_data.call(null,src_in,list);
});})(role,src_in,list,remove_id))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"idx","idx",1053688473)),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totaltourguides","totaltourguides",1011362970)) / (10))) | (0)),true])], null)], null)], null);
});
;})(role,src_in,list,remove_id))
});
sevenm_booking_system.components.tourguide_save_onclick_success = (function sevenm_booking_system$components$tourguide_save_onclick_success(res,data,state){
cljs.core.reset_BANG_.call(null,data,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"description","description",-1428560544),new cljs.core.Keyword(null,"amount","amount",364489504),new cljs.core.Keyword(null,"address","address",559499426),new cljs.core.Keyword(null,"email","email",1415816706),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),new cljs.core.Keyword(null,"cellnumber","cellnumber",-1608391155),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546),new cljs.core.Keyword(null,"hours","hours",58380855),new cljs.core.Keyword(null,"rating","rating",144173662)],["",(0),"","",(0),"","",(0),(0)]));

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

return sevenm_booking_system.components.boot_notify.call(null,"success","Success :","Tourguide is successfully saved");
});
sevenm_booking_system.components.tourguide_save_onclick_error = (function sevenm_booking_system$components$tourguide_save_onclick_error(res,state){
var G__7691 = res.call(null,new cljs.core.Keyword(null,"status","status",-1997798413));
switch (G__7691) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Please try again");

}
});
sevenm_booking_system.components.tourguide_save_onclick = (function sevenm_booking_system$components$tourguide_save_onclick(data,state){
if((sevenm_booking_system.components.tourguide_validator.call(null,cljs.core.deref.call(null,data)) == null)){
if(cljs.core.truth_(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))){
return ajax.core.PUT.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("tourguides/"),cljs.core.str(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (){
return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"tourguides","tourguides",604110481)));
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7693_SHARP_){
return sevenm_booking_system.components.tourguide_save_onclick_error.call(null,p1__7693_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("tourguides")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7694_SHARP_){
return sevenm_booking_system.components.tourguide_save_onclick_success.call(null,p1__7694_SHARP_,data,state);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7695_SHARP_){
return sevenm_booking_system.components.tourguide_save_onclick_error.call(null,p1__7695_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
}
} else {
return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),true);
}
});
sevenm_booking_system.components.hours_data = reagent.core.atom.call(null,cljs.core.mapv.call(null,(function (p1__7696_SHARP_){
return cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"name","name",1843675177)],[p1__7696_SHARP_,[cljs.core.str("Per "),cljs.core.str(p1__7696_SHARP_),cljs.core.str(" Hour")].join('')]);
}),cljs.core.range.call(null,(1),(25))));
sevenm_booking_system.components.add_or_edit_tourguide_comp = (function sevenm_booking_system$components$add_or_edit_tourguide_comp(data){
var data__$1 = reagent.core.atom.call(null,data);
var cities = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false], null));
var vendors = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
sevenm_booking_system.components.get_all_cities.call(null,cities);

return ((function (data__$1,cities,state,vendors){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-user-plus","i.fa.fa-user-plus",-949849746)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),(cljs.core.truth_(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"Edit ":"Add ")," Tour Guide"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-horizontal","div.form-horizontal",-2097357544),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_chosen_select,"City Name","Cityname",new cljs.core.Keyword(null,"cityid","cityid",1837642752),cities,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.tourguide_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Tour Guide Name","Tour Guide Name",new cljs.core.Keyword(null,"tourguidename","tourguidename",-532968532),"text","Enter Tour Guide Name",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tourguidename","tourguidename",-532968532)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.tourguide_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),"7M Rating"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"TourGuideRating",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"rating","rating",144173662)], null)),"xs",false], null)], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area,"Address","Address",new cljs.core.Keyword(null,"address","address",559499426),(5),"Enter Tourguide Address",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"address","address",559499426)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.tourguide_validator.call(null,cljs.core.deref.call(null,data__$1))], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Contact Number","Contact Number",new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546),"text","Enter  Contact Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.tourguide_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Cell Number","Cell Number",new cljs.core.Keyword(null,"cellnumber","cellnumber",-1608391155),"text","Enter Cell Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cellnumber","cellnumber",-1608391155)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.tourguide_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Email","Email",new cljs.core.Keyword(null,"email","email",1415816706),"email","Enter email",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"email","email",1415816706)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.tourguide_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area,"Bank/Payment Info","Bank/Payment Info",new cljs.core.Keyword(null,"bankorpaymentinfo","bankorpaymentinfo",2132797869),(3),"Enter Bank/Payment Info",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"bankorpaymentinfo","bankorpaymentinfo",2132797869)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.tourguide_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_number,"Tour Guide Rate per hr","Tourguiderate",new cljs.core.Keyword(null,"amount","amount",364489504),"Enter Tour Guide Rate",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"amount","amount",364489504)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.tourguide_validator.call(null,cljs.core.deref.call(null,data__$1))], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"center","center",-748944368),((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-tourguide","view-tourguide",-823421758),new cljs.core.Keyword(null,"id","id",-1388402092),cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092),(0))),pushy.core.get_token.call(null,sevenm_booking_system.routes.history)))?null:new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,cities,state,vendors){
return (function (){
return sevenm_booking_system.components.tourguide_save_onclick.call(null,data__$1,state);
});})(data__$1,cities,state,vendors))
], null),"Save"], null)),"  ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default","a.btn.btn-default",1697165854),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"tourguides","tourguides",604110481))], null),"Back"], null)], null)], null)], null);
});
;})(data__$1,cities,state,vendors))
});
sevenm_booking_system.components.transportation_validator = (function sevenm_booking_system$components$transportation_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"transportationname","transportationname",-1632168788),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null)));
});
sevenm_booking_system.components.transportations_search_options = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"city",new cljs.core.Keyword(null,"name","name",1843675177),"City"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"transportationname",new cljs.core.Keyword(null,"name","name",1843675177),"Transportation Name"], null)], null);
sevenm_booking_system.components.delete_transportations_on_click = (function sevenm_booking_system$components$delete_transportations_on_click(id,src_in,list){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("transportations/"),cljs.core.str(cljs.core.deref.call(null,id))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7697_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7697_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7698_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7698_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_transportations_table_modal = (function sevenm_booking_system$components$delete_transportations_table_modal(id,src_in,list){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"removemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this Transportation ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,id)),cljs.core.str("remove")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.delete_transportations_on_click.call(null,id,src_in,list);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.transportations_comp = (function sevenm_booking_system$components$transportations_comp(){
var role = cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"role","role",-736691072)], null));
var src_in = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"url","url",276297046),"transportations/search",new cljs.core.Keyword(null,"idx","idx",1053688473),(1),new cljs.core.Keyword(null,"type","type",1174270348),"city",new cljs.core.Keyword(null,"text","text",-1790561697),""], null));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totaltransportations","totaltransportations",-1338640729),(0)], null));
var remove_id = reagent.core.atom.call(null,(0));
sevenm_booking_system.components.get_table_data.call(null,src_in,list);

return ((function (role,src_in,list,remove_id){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-plane","i.fa.fa-plane",-471003459)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of Transportations"], null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-primary.btn-sm","a.btn.btn-primary.btn-sm",1918205192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-transportation","add-transportation",-769051174))], null),"Add New Transportation"], null)], null):null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_transportations_table_modal,remove_id,src_in,list], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Downloadcsv",new cljs.core.Keyword(null,"href","href",-793805698),[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("excel/transportation.xlsx?token="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null),"Export Complete Transportations into Excel File"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12.col-xs-12.input-group.form-group","div.col-md-12.col-sm-12.col-xs-12.input-group.form-group",1851270823),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_select,"transportationsselect",sevenm_booking_system.components.transportations_search_options,reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348)], null))], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_input,"transportationssrctext","text","Enter something to search",reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"text","text",-1790561697)], null)),src_in,list], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.table-responsive","div.table-responsive",-16203823),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 12, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"City"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Type"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Transportation Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Contact Person"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Contact Number"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Fax Number"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Email"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"7M Rating"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (role,src_in,list,remove_id){
return (function sevenm_booking_system$components$transportations_comp_$_iter__7704(s__7705){
return (new cljs.core.LazySeq(null,((function (role,src_in,list,remove_id){
return (function (){
var s__7705__$1 = s__7705;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7705__$1);
if(temp__4657__auto__){
var s__7705__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7705__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7705__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7707 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7706 = (0);
while(true){
if((i__7706 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7706);
cljs.core.chunk_append.call(null,b__7707,cljs.core.with_meta(new cljs.core.PersistentVector(null, 12, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Delete Transportation",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7706,i,c__6380__auto__,size__6381__auto__,b__7707,s__7705__$2,temp__4657__auto__,role,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i__7706,i,c__6380__auto__,size__6381__auto__,b__7707,s__7705__$2,temp__4657__auto__,role,src_in,list,remove_id))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Edit Transportation",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-transportation","edit-transportation",-580535752),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-info.btn-sm","a.btn.btn-info.btn-sm",1522428770),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-transportation","view-transportation",-2143737615),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"transportationname","transportationname",-1632168788).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactperson","contactperson",-190367504).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"TransportRating",reagent.core.atom.call(null,new cljs.core.Keyword(null,"rating","rating",144173662).cljs$core$IFn$_invoke$arity$1(i)),"exs",true], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7708 = (i__7706 + (1));
i__7706 = G__7708;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7707),sevenm_booking_system$components$transportations_comp_$_iter__7704.call(null,cljs.core.chunk_rest.call(null,s__7705__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7707),null);
}
} else {
var i = cljs.core.first.call(null,s__7705__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 12, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Delete Transportation",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7705__$2,temp__4657__auto__,role,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i,s__7705__$2,temp__4657__auto__,role,src_in,list,remove_id))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Edit Transportation",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-transportation","edit-transportation",-580535752),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-info.btn-sm","a.btn.btn-info.btn-sm",1522428770),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-transportation","view-transportation",-2143737615),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"transportationname","transportationname",-1632168788).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactperson","contactperson",-190367504).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"TransportRating",reagent.core.atom.call(null,new cljs.core.Keyword(null,"rating","rating",144173662).cljs$core$IFn$_invoke$arity$1(i)),"exs",true], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$transportations_comp_$_iter__7704.call(null,cljs.core.rest.call(null,s__7705__$2)));
}
} else {
return null;
}
break;
}
});})(role,src_in,list,remove_id))
,null,null));
});})(role,src_in,list,remove_id))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (role,src_in,list,remove_id){
return (function (p1__7699_SHARP_){
cljs.core.swap_BANG_.call(null,src_in,cljs.core.assoc,new cljs.core.Keyword(null,"idx","idx",1053688473),p1__7699_SHARP_);

return sevenm_booking_system.components.get_table_data.call(null,src_in,list);
});})(role,src_in,list,remove_id))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"idx","idx",1053688473)),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totaltransportations","totaltransportations",-1338640729)) / (10))) | (0)),true])], null)], null)], null);
});
;})(role,src_in,list,remove_id))
});
sevenm_booking_system.components.transportation_save_onclick_success = (function sevenm_booking_system$components$transportation_save_onclick_success(res,data,state){
cljs.core.reset_BANG_.call(null,data,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"description","description",-1428560544),new cljs.core.Keyword(null,"address","address",559499426),new cljs.core.Keyword(null,"email","email",1415816706),new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"contactperson","contactperson",-190367504),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546),new cljs.core.Keyword(null,"bankinformation","bankinformation",-618140582),new cljs.core.Keyword(null,"rating","rating",144173662)],["","","","",(0),"None","","","",(0)]));

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

return sevenm_booking_system.components.boot_notify.call(null,"success","Success :","Transportation is successfully saved");
});
sevenm_booking_system.components.transportation_save_onclick_error = (function sevenm_booking_system$components$transportation_save_onclick_error(res,state){
var G__7710 = res.call(null,new cljs.core.Keyword(null,"status","status",-1997798413));
switch (G__7710) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Please try again");

}
});
sevenm_booking_system.components.transportation_save_onclick = (function sevenm_booking_system$components$transportation_save_onclick(data,state){
if((sevenm_booking_system.components.transportation_validator.call(null,cljs.core.deref.call(null,data)) == null)){
if(cljs.core.truth_(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))){
return ajax.core.PUT.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("transportations/"),cljs.core.str(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (){
return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"transportations","transportations",949329735)));
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7712_SHARP_){
return sevenm_booking_system.components.transportation_save_onclick_error.call(null,p1__7712_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("transportations")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7713_SHARP_){
return sevenm_booking_system.components.transportation_save_onclick_success.call(null,p1__7713_SHARP_,data,state);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7714_SHARP_){
return sevenm_booking_system.components.transportation_save_onclick_error.call(null,p1__7714_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
}
} else {
return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),true);
}
});
sevenm_booking_system.components.add_or_edit_transportation_comp = (function sevenm_booking_system$components$add_or_edit_transportation_comp(data){
var data__$1 = reagent.core.atom.call(null,data);
var cities = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false], null));
var vendors = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
sevenm_booking_system.components.get_all_cities.call(null,cities);

return ((function (data__$1,cities,state,vendors){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-plane","i.fa.fa-plane",-471003459)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),(cljs.core.truth_(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"Edit ":"Add ")," Transportation"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div..form-horizontal","div..form-horizontal",1979485273),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_chosen_select,"City Name","Cityname",new cljs.core.Keyword(null,"cityid","cityid",1837642752),cities,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.transportation_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Transportation Name","Transportation Name",new cljs.core.Keyword(null,"transportationname","transportationname",-1632168788),"text","Enter Transportation Name",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"transportationname","transportationname",-1632168788)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.transportation_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),"7M Rating"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"TransportRating",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"rating","rating",144173662)], null)),"xs",false], null)], null)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_select,"Type","Type",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["SIC","PVT","Both"], null),reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area,"Address","Address",new cljs.core.Keyword(null,"address","address",559499426),(5),"Enter Address",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"address","address",559499426)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.transportation_validator.call(null,cljs.core.deref.call(null,data__$1))], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Contact Person","Contact Person",new cljs.core.Keyword(null,"contactperson","contactperson",-190367504),"text","Enter  Contact Person",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contactperson","contactperson",-190367504)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.transportation_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Contact Number","Contact Number",new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546),"text","Enter Contact Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.transportation_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Fax Number","Fax Number",new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),"text","Enter Fax Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.transportation_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Email","Email",new cljs.core.Keyword(null,"email","email",1415816706),"text","Enter Email",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"email","email",1415816706)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.transportation_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area,"Bank/Payment Info","BankPaymentInfo",new cljs.core.Keyword(null,"bankinformation","bankinformation",-618140582),(3),"Enter Bank Info",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"bankinformation","bankinformation",-618140582)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.transportation_validator.call(null,cljs.core.deref.call(null,data__$1))], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"center","center",-748944368),((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-transportation","view-transportation",-2143737615),new cljs.core.Keyword(null,"id","id",-1388402092),cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092),(0))),pushy.core.get_token.call(null,sevenm_booking_system.routes.history)))?null:new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,cities,state,vendors){
return (function (){
return sevenm_booking_system.components.transportation_save_onclick.call(null,data__$1,state);
});})(data__$1,cities,state,vendors))
], null),"Save"], null)),"  ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default","a.btn.btn-default",1697165854),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"transportations","transportations",949329735))], null),"Back"], null)], null)], null)], null);
});
;})(data__$1,cities,state,vendors))
});
sevenm_booking_system.components.event_validator = (function sevenm_booking_system$components$event_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"eventname","eventname",691119610),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null)));
});
sevenm_booking_system.components.events_search_options = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"city",new cljs.core.Keyword(null,"name","name",1843675177),"City"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"eventname",new cljs.core.Keyword(null,"name","name",1843675177),"Event Name"], null)], null);
sevenm_booking_system.components.delete_events_on_click = (function sevenm_booking_system$components$delete_events_on_click(id,src_in,list){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("events/"),cljs.core.str(cljs.core.deref.call(null,id))].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7715_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7715_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7716_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7716_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_events_table_modal = (function sevenm_booking_system$components$delete_events_table_modal(id,src_in,list){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal.fade","div.modal.fade",-327881909),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"dialog",new cljs.core.Keyword(null,"id","id",-1388402092),"removemodal"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-dialog","div.modal-dialog",-237012986),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-content","div.modal-content",-83470844),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-header","div.modal-header",-799180845),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.close","button.close",-1545560743),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4.modal-title","h4.modal-title",-572415885),"Conformation Message"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-body","div.modal-body",-2141892968),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-center","div.text-center",921869624),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p.lead","p.lead",-1826375077),"Are you sure you want to remove this Event ?"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.modal-footer","div.modal-footer",1309572241),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),[cljs.core.str(cljs.core.deref.call(null,id)),cljs.core.str("remove")].join(''),new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return sevenm_booking_system.components.delete_events_on_click.call(null,id,src_in,list);
})], null),"Yes"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-default","button.btn.btn-default",-991846011),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"data-dismiss","data-dismiss",-2004576016),"modal"], null),"No"], null)], null)], null)], null)], null);
});
sevenm_booking_system.components.events_comp = (function sevenm_booking_system$components$events_comp(){
var role = cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"role","role",-736691072)], null));
var src_in = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"url","url",276297046),"events/search",new cljs.core.Keyword(null,"idx","idx",1053688473),(1),new cljs.core.Keyword(null,"type","type",1174270348),"city",new cljs.core.Keyword(null,"text","text",-1790561697),""], null));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totalevents","totalevents",1434703373),(0)], null));
var remove_id = reagent.core.atom.call(null,(0));
sevenm_booking_system.components.get_table_data.call(null,src_in,list);

return ((function (role,src_in,list,remove_id){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-calendar-check-o","i.fa.fa-calendar-check-o",208613728)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of Events"], null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-primary.btn-sm","a.btn.btn-primary.btn-sm",1918205192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-event","add-event",938429088))], null),"Add New Events"], null)], null):null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.delete_events_table_modal,remove_id,src_in,list], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"Downloadcsv",new cljs.core.Keyword(null,"href","href",-793805698),[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("excel/events.xlsx?token="),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null),"Export Complete Events into Excel File"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12.col-xs-12.input-group.form-group","div.col-md-12.col-sm-12.col-xs-12.input-group.form-group",1851270823),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_select,"eventselect",sevenm_booking_system.components.events_search_options,reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"type","type",1174270348)], null))], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_input,"eventsrctext","text","Enter something to search",reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"text","text",-1790561697)], null)),src_in,list], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.table-responsive","div.table-responsive",-16203823),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 10, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"City"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Event Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Adult Cost"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Child Cost"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Email"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"7M Rating"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (role,src_in,list,remove_id){
return (function sevenm_booking_system$components$events_comp_$_iter__7722(s__7723){
return (new cljs.core.LazySeq(null,((function (role,src_in,list,remove_id){
return (function (){
var s__7723__$1 = s__7723;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7723__$1);
if(temp__4657__auto__){
var s__7723__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7723__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7723__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7725 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7724 = (0);
while(true){
if((i__7724 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7724);
cljs.core.chunk_append.call(null,b__7725,cljs.core.with_meta(new cljs.core.PersistentVector(null, 10, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Delete Event",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7724,i,c__6380__auto__,size__6381__auto__,b__7725,s__7723__$2,temp__4657__auto__,role,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i__7724,i,c__6380__auto__,size__6381__auto__,b__7725,s__7723__$2,temp__4657__auto__,role,src_in,list,remove_id))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Edit Event",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-event","edit-event",-969537481),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-info.btn-sm","a.btn.btn-info.btn-sm",1522428770),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-event","view-event",1670309774),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"eventname","eventname",691119610).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"adultcost","adultcost",161039586).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"childcost","childcost",1864240071).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"EventRating",reagent.core.atom.call(null,new cljs.core.Keyword(null,"rating","rating",144173662).cljs$core$IFn$_invoke$arity$1(i)),"exs",true], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7726 = (i__7724 + (1));
i__7724 = G__7726;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7725),sevenm_booking_system$components$events_comp_$_iter__7722.call(null,cljs.core.chunk_rest.call(null,s__7723__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7725),null);
}
} else {
var i = cljs.core.first.call(null,s__7723__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 10, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Delete Event",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7723__$2,temp__4657__auto__,role,src_in,list,remove_id){
return (function (){
cljs.core.reset_BANG_.call(null,remove_id,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i));

return $("#removemodal").modal("show");
});})(i,s__7723__$2,temp__4657__auto__,role,src_in,list,remove_id))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Edit Event",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-event","edit-event",-969537481),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-info.btn-sm","a.btn.btn-info.btn-sm",1522428770),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-event","view-event",1670309774),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"eventname","eventname",691119610).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"adultcost","adultcost",161039586).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"childcost","childcost",1864240071).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"EventRating",reagent.core.atom.call(null,new cljs.core.Keyword(null,"rating","rating",144173662).cljs$core$IFn$_invoke$arity$1(i)),"exs",true], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$events_comp_$_iter__7722.call(null,cljs.core.rest.call(null,s__7723__$2)));
}
} else {
return null;
}
break;
}
});})(role,src_in,list,remove_id))
,null,null));
});})(role,src_in,list,remove_id))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (role,src_in,list,remove_id){
return (function (p1__7717_SHARP_){
cljs.core.swap_BANG_.call(null,src_in,cljs.core.assoc,new cljs.core.Keyword(null,"idx","idx",1053688473),p1__7717_SHARP_);

return sevenm_booking_system.components.get_table_data.call(null,src_in,list);
});})(role,src_in,list,remove_id))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"idx","idx",1053688473)),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totalevents","totalevents",1434703373)) / (10))) | (0)),true])], null)], null)], null);
});
;})(role,src_in,list,remove_id))
});
sevenm_booking_system.components.event_save_onclick_success = (function sevenm_booking_system$components$event_save_onclick_success(res,data,state){
cljs.core.reset_BANG_.call(null,data,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"remarks","remarks",1566599360),new cljs.core.Keyword(null,"description","description",-1428560544),new cljs.core.Keyword(null,"adultcost","adultcost",161039586),new cljs.core.Keyword(null,"email","email",1415816706),new cljs.core.Keyword(null,"meal","meal",-121971613),new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),new cljs.core.Keyword(null,"childcost","childcost",1864240071),new cljs.core.Keyword(null,"contract","contract",798152745),new cljs.core.Keyword(null,"cp","cp",-678439312),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546),new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283),new cljs.core.Keyword(null,"st","st",1455255828),new cljs.core.Keyword(null,"website","website",649297111),new cljs.core.Keyword(null,"actual","actual",107306363),new cljs.core.Keyword(null,"rating","rating",144173662)],["","",(0),"","","",(0),(0),"",(0),"","",(0),"","",(0)]));

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

return sevenm_booking_system.components.boot_notify.call(null,"success","Success :","Event is successfully saved");
});
sevenm_booking_system.components.event_save_onclick_error = (function sevenm_booking_system$components$event_save_onclick_error(res,state){
var G__7728 = res.call(null,new cljs.core.Keyword(null,"status","status",-1997798413));
switch (G__7728) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Please try again");

}
});
sevenm_booking_system.components.event_save_onclick = (function sevenm_booking_system$components$event_save_onclick(data,state){
if((sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data)) == null)){
if(cljs.core.truth_(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))){
return ajax.core.PUT.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("events/"),cljs.core.str(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (){
return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"events","events",1792552201)));
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7730_SHARP_){
return sevenm_booking_system.components.event_save_onclick_error.call(null,p1__7730_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("events")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7731_SHARP_){
return sevenm_booking_system.components.event_save_onclick_success.call(null,p1__7731_SHARP_,data,state);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7732_SHARP_){
return sevenm_booking_system.components.event_save_onclick_error.call(null,p1__7732_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
}
} else {
return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),true);
}
});
sevenm_booking_system.components.add_or_edit_event_comp = (function sevenm_booking_system$components$add_or_edit_event_comp(data){
var data__$1 = reagent.core.atom.call(null,data);
var cities = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false], null));
sevenm_booking_system.components.get_all_cities.call(null,cities);

return ((function (data__$1,cities,state){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-calendar-check-o","i.fa.fa-calendar-check-o",208613728)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),(cljs.core.truth_(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"Edit ":"Add ")," Event"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-horizontal","div.form-horizontal",-2097357544),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_chosen_select,"City Name","Cityname",new cljs.core.Keyword(null,"cityid","cityid",1837642752),cities,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Event Name","Event Name",new cljs.core.Keyword(null,"eventname","eventname",691119610),"text","Enter Event Name",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"eventname","eventname",691119610)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),"7M Rating"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.star_rating,"EventRating",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"rating","rating",144173662)], null)),"xs",false], null)], null)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_select,"Contract Type","Contract",new cljs.core.Keyword(null,"contract","contract",798152745),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Not Contract","Contract","Mutual Agreement"], null),reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contract","contract",798152745)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4","div.col-md-4",864652098)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input_checkbox_str,new cljs.core.Keyword(null,"meal","meal",-121971613),reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"meal","meal",-121971613)], null)),"Includes Meal"], null)], null)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Actual Price","Actual Price",new cljs.core.Keyword(null,"actual","actual",107306363),"text","Enter Actual Price",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"actual","actual",107306363)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Remarks","Remarks",new cljs.core.Keyword(null,"remarks","remarks",1566599360),"text","Enter Remarks",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"remarks","remarks",1566599360)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area,"Booking Guide","bookingguide",new cljs.core.Keyword(null,"bookingguide","bookingguide",-654735699),(6),"Enter Booking Guide Info",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"bookingguide","bookingguide",-654735699)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null)], null),new cljs.core.PersistentVector(null, 10, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Contact Number","Contact Number",new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546),"text","Enter Contact Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Phone Number","Phone Number",new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283),"text","Enter Phone Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Fax Number","fax Number",new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311),"text","Enter Fax Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"faxnumber","faxnumber",2142510311)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Website","Website",new cljs.core.Keyword(null,"website","website",649297111),"text","Enter Website",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"website","website",649297111)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Email","Email",new cljs.core.Keyword(null,"email","email",1415816706),"email","Enter Email",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"email","email",1415816706)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_number,"Adult Cost","adultcost",new cljs.core.Keyword(null,"adultcost","adultcost",161039586),"Enter Adult Cost",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"adultcost","adultcost",161039586)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_number,"Child Cost","childcost",new cljs.core.Keyword(null,"childcost","childcost",1864240071),"Enter Child Cost",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"childcost","childcost",1864240071)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_number,"Student Cost","Student Cost",new cljs.core.Keyword(null,"st","st",1455255828),"Enter Student Cost",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"st","st",1455255828)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_number,"Com Policy","Com Policy",new cljs.core.Keyword(null,"cp","cp",-678439312),"Enter Com Policy",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cp","cp",-678439312)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.event_validator.call(null,cljs.core.deref.call(null,data__$1))], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3","div.col-md-3",1386112129)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"center","center",-748944368),((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-event","view-event",1670309774),new cljs.core.Keyword(null,"id","id",-1388402092),cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092),(0))),pushy.core.get_token.call(null,sevenm_booking_system.routes.history)))?null:new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,cities,state){
return (function (){
return sevenm_booking_system.components.event_save_onclick.call(null,data__$1,state);
});})(data__$1,cities,state))
], null),"Save"], null)),"  ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default","a.btn.btn-default",1697165854),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"events","events",1792552201))], null),"Back"], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3","div.col-md-3",1386112129)], null)], null)], null);
});
;})(data__$1,cities,state))
});
sevenm_booking_system.components.logo_validator = (function sevenm_booking_system$components$logo_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"logoname","logoname",1648014478),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null)));
});
sevenm_booking_system.components.delete_logo_on_click = (function sevenm_booking_system$components$delete_logo_on_click(id,src_in,list){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("logos/"),cljs.core.str(id)].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7733_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7733_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7734_SHARP_){
return sevenm_booking_system.components.delete_record_handler.call(null,p1__7734_SHARP_,src_in,list);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.logos_comp = (function sevenm_booking_system$components$logos_comp(){
var role = cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"role","role",-736691072)], null));
var src_in = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"url","url",276297046),"logos/search",new cljs.core.Keyword(null,"idx","idx",1053688473),(1),new cljs.core.Keyword(null,"type","type",1174270348),"logoname",new cljs.core.Keyword(null,"text","text",-1790561697),""], null));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totallogos","totallogos",2062679666),(0)], null));
sevenm_booking_system.components.get_table_data.call(null,src_in,list);

return ((function (role,src_in,list){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-photo","i.fa.fa-photo",1561394323)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of Logos"], null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-tools.pull-right","div.box-tools.pull-right",-1725199568),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-primary.btn-sm","a.btn.btn-primary.btn-sm",1918205192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-logo","add-logo",-1927288932))], null),"Add New Logo"], null)], null):null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6.col-md-offset-6","div.col-md-6.col-md-offset-6",-1469069354),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-12.col-sm-12.col-xs-12.input-group.form-group","div.col-md-12.col-sm-12.col-xs-12.input-group.form-group",1851270823),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.search_input,"logosrctext","text","Enter something to search",reagent.core.cursor.call(null,src_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"text","text",-1790561697)], null)),src_in,list,"100%"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.table-responsive","div.table-responsive",-16203823),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"View Logo"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Logo Name"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (role,src_in,list){
return (function sevenm_booking_system$components$logos_comp_$_iter__7740(s__7741){
return (new cljs.core.LazySeq(null,((function (role,src_in,list){
return (function (){
var s__7741__$1 = s__7741;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7741__$1);
if(temp__4657__auto__){
var s__7741__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7741__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7741__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7743 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7742 = (0);
while(true){
if((i__7742 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7742);
cljs.core.chunk_append.call(null,b__7743,cljs.core.with_meta(new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Delete Logo",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7742,i,c__6380__auto__,size__6381__auto__,b__7743,s__7741__$2,temp__4657__auto__,role,src_in,list){
return (function (){
return sevenm_booking_system.components.delete_logo_on_click.call(null,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i),src_in,list);
});})(i__7742,i,c__6380__auto__,size__6381__auto__,b__7743,s__7741__$2,temp__4657__auto__,role,src_in,list))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Edit Logo",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-logo","edit-logo",-682467110),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info.btn-sm","button.btn.btn-info.btn-sm",440871145),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7742,i,c__6380__auto__,size__6381__auto__,b__7743,s__7741__$2,temp__4657__auto__,role,src_in,list){
return (function (){
return window.open([cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("logosfilename/"),cljs.core.str(i.call(null,new cljs.core.Keyword(null,"filename","filename",-1428840783)))].join(''));
});})(i__7742,i,c__6380__auto__,size__6381__auto__,b__7743,s__7741__$2,temp__4657__auto__,role,src_in,list))
], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"logoname","logoname",1648014478).cljs$core$IFn$_invoke$arity$1(i)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7744 = (i__7742 + (1));
i__7742 = G__7744;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7743),sevenm_booking_system$components$logos_comp_$_iter__7740.call(null,cljs.core.chunk_rest.call(null,s__7741__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7743),null);
}
} else {
var i = cljs.core.first.call(null,s__7741__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.button_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-danger btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Delete Logo",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7741__$2,temp__4657__auto__,role,src_in,list){
return (function (){
return sevenm_booking_system.components.delete_logo_on_click.call(null,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i),src_in,list);
});})(i,s__7741__$2,temp__4657__auto__,role,src_in,list))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.anchor_tooltip,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"class","class",-2030961996),"btn btn-success btn-sm",new cljs.core.Keyword(null,"title","title",636505583),"Edit Logo",new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-logo","edit-logo",-682467110),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-info.btn-sm","button.btn.btn-info.btn-sm",440871145),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7741__$2,temp__4657__auto__,role,src_in,list){
return (function (){
return window.open([cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("logosfilename/"),cljs.core.str(i.call(null,new cljs.core.Keyword(null,"filename","filename",-1428840783)))].join(''));
});})(i,s__7741__$2,temp__4657__auto__,role,src_in,list))
], null),"View"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"logoname","logoname",1648014478).cljs$core$IFn$_invoke$arity$1(i)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$logos_comp_$_iter__7740.call(null,cljs.core.rest.call(null,s__7741__$2)));
}
} else {
return null;
}
break;
}
});})(role,src_in,list))
,null,null));
});})(role,src_in,list))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (role,src_in,list){
return (function (p1__7735_SHARP_){
cljs.core.swap_BANG_.call(null,src_in,cljs.core.assoc,new cljs.core.Keyword(null,"idx","idx",1053688473),p1__7735_SHARP_);

return sevenm_booking_system.components.get_table_data.call(null,src_in,list);
});})(role,src_in,list))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,src_in).call(null,new cljs.core.Keyword(null,"idx","idx",1053688473)),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totallogos","totallogos",2062679666)) / (10))) | (0)),true])], null)], null)], null);
});
;})(role,src_in,list))
});
sevenm_booking_system.components.logo_save_onclick_success = (function sevenm_booking_system$components$logo_save_onclick_success(res,data,state,filename){
cljs.core.reset_BANG_.call(null,data,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"filename","filename",-1428840783),"",new cljs.core.Keyword(null,"logoname","logoname",1648014478),""], null));

cljs.core.reset_BANG_.call(null,filename,"");

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"busy","busy",-328286801),false);

return sevenm_booking_system.components.boot_notify.call(null,"success","Success :","Logo is successfully saved");
});
sevenm_booking_system.components.logo_save_onclick_error = (function sevenm_booking_system$components$logo_save_onclick_error(res,state,filename){
var G__7746 = res.call(null,new cljs.core.Keyword(null,"status","status",-1997798413));
switch (G__7746) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
cljs.core.reset_BANG_.call(null,filename,"");

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"busy","busy",-328286801),false);

return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Please try again");

}
});
sevenm_booking_system.components.logos_put = (function sevenm_booking_system$components$logos_put(data,state,filename){
return ajax.core.PUT.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("logos/"),cljs.core.str(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (){
return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"logos","logos",1354242661)));
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7748_SHARP_){
return sevenm_booking_system.components.logo_save_onclick_error.call(null,p1__7748_SHARP_,state,filename);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.logos_post = (function sevenm_booking_system$components$logos_post(data,state,filename){
return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("logos")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7749_SHARP_){
return sevenm_booking_system.components.logo_save_onclick_success.call(null,p1__7749_SHARP_,data,state,filename);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7750_SHARP_){
return sevenm_booking_system.components.logo_save_onclick_error.call(null,p1__7750_SHARP_,state,filename);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.logos_post_or_put = (function sevenm_booking_system$components$logos_post_or_put(data,state,filename){
if(cljs.core.truth_(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))){
return sevenm_booking_system.components.logos_put.call(null,data,state,filename);
} else {
return sevenm_booking_system.components.logos_post.call(null,data,state,filename);
}
});
sevenm_booking_system.components.upload_logo_contactfile = (function sevenm_booking_system$components$upload_logo_contactfile(data,state,filename){
if((sevenm_booking_system.components.logo_validator.call(null,cljs.core.deref.call(null,data)) == null)){
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"busy","busy",-328286801),true);

if(cljs.core.truth_(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"logofile","logofile",1833134738)))){
return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("logos/upload")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"body","body",-2049205669),cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"logofile","logofile",1833134738)),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7751_SHARP_){
cljs.core.swap_BANG_.call(null,data,cljs.core.assoc,new cljs.core.Keyword(null,"filename","filename",-1428840783),new cljs.core.Keyword(null,"filename","filename",-1428840783).cljs$core$IFn$_invoke$arity$1(p1__7751_SHARP_));

return sevenm_booking_system.components.logos_post_or_put.call(null,data,state,filename);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7752_SHARP_){
return sevenm_booking_system.components.logo_save_onclick_error.call(null,p1__7752_SHARP_,state,filename);
}),new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
return sevenm_booking_system.components.logos_post_or_put.call(null,data,state,filename);
}
} else {
return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),true);
}
});
sevenm_booking_system.components.add_or_edit_logo_comp = (function sevenm_booking_system$components$add_or_edit_logo_comp(data){
var data__$1 = reagent.core.atom.call(null,data);
var filename = reagent.core.atom.call(null,"");
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false], null));
return ((function (data__$1,filename,state){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-photo","i.fa.fa-photo",1561394323)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),(cljs.core.truth_(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"Edit ":"Add New "),"Logo"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div..form-horizontal","div..form-horizontal",1979485273),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Logo Name","Logo Name",new cljs.core.Keyword(null,"logoname","logoname",1648014478),"text","Enter Logo Name",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"logoname","logoname",1648014478)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.logo_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group","div.form-group",-1721134770),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label.col-md-4.control-label","label.col-md-4.control-label",-1665802834),"Upload file"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.file_upload_button,"logofile","logofile",sevenm_booking_system.components.accept_types_logo,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"logofile","logofile",1833134738)], null)),filename], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-2","div.col-md-2",-138798418),((cljs.core.seq.call(null,cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"filename","filename",-1428840783))))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,filename,state){
return (function (){
return window.open([cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("logosfilename/"),cljs.core.str(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"filename","filename",-1428840783)))].join(''));
});})(data__$1,filename,state))
], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-download-alt","span.glyphicon.glyphicon-download-alt",-800552590)], null)], null):null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"center","center",-748944368),((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-logo","view-logo",504273503),new cljs.core.Keyword(null,"id","id",-1388402092),cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092),(0))),pushy.core.get_token.call(null,sevenm_booking_system.routes.history)))?null:new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,filename,state){
return (function (){
return sevenm_booking_system.components.upload_logo_contactfile.call(null,data__$1,state,filename);
});})(data__$1,filename,state))
], null),"Save ",(cljs.core.truth_(cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"busy","busy",-328286801)))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-spin.fa-refresh","i.fa.fa-spin.fa-refresh",-644634109)], null):null)], null)),"  ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default","a.btn.btn-default",1697165854),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"logos","logos",1354242661))], null),"Back"], null)], null)], null)], null);
});
;})(data__$1,filename,state))
});
sevenm_booking_system.components.bookingfit_validator = (function sevenm_booking_system$components$bookingfit_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"rate","rate",-1428659698),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"contactperson","contactperson",-190367504),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"sictrans","sictrans",1556522950),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"pvttrans","pvttrans",-1092784537),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"meetgreet","meetgreet",495045254),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"pvtcitytour","pvtcitytour",291058720),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"siccitytour","siccitytour",2107320044),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"email","email",1415816706),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"address","address",559499426),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"bankaccountinfo","bankaccountinfo",-620705869),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null)));
});
sevenm_booking_system.components.get_bookingfits_list = (function sevenm_booking_system$components$get_bookingfits_list(idx,list){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookingfits/"),cljs.core.str(cljs.core.deref.call(null,idx)),cljs.core.str("/10")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7753_SHARP_){
return cljs.core.reset_BANG_.call(null,list,p1__7753_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_bookingfits_handler = (function sevenm_booking_system$components$delete_bookingfits_handler(res,idx,list){
var G__7755 = new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(res);
switch (G__7755) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
case (200):
return sevenm_booking_system.components.get_bookingfits_list.call(null,idx,list);

break;
default:
return console.log("Server error");

}
});
sevenm_booking_system.components.delete_bookingfits_on_click = (function sevenm_booking_system$components$delete_bookingfits_on_click(id,idx,list){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookingfits/"),cljs.core.str(id)].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7757_SHARP_){
return sevenm_booking_system.components.delete_bookingfits_handler.call(null,p1__7757_SHARP_,idx,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7758_SHARP_){
return sevenm_booking_system.components.delete_bookingfits_handler.call(null,p1__7758_SHARP_,idx,list);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.bookingfits_comp = (function sevenm_booking_system$components$bookingfits_comp(){
var idx = reagent.core.atom.call(null,(1));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totalbookingfits","totalbookingfits",1051690937),(0)], null));
sevenm_booking_system.components.get_bookingfits_list.call(null,idx,list);

return ((function (idx,list){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of FIT's"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4","div.col-md-4",864652098),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-primary.pull-right","a.btn.btn-primary.pull-right",205078570),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-bookingfit","add-bookingfit",1614968085))], null),"Add New FIT"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body.table-responsive","div.box-body.table-responsive",1274337996),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"City"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Vendor Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Contact Person"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Contact Number"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Rate"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Email/Website"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (idx,list){
return (function sevenm_booking_system$components$bookingfits_comp_$_iter__7764(s__7765){
return (new cljs.core.LazySeq(null,((function (idx,list){
return (function (){
var s__7765__$1 = s__7765;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7765__$1);
if(temp__4657__auto__){
var s__7765__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7765__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7765__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7767 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7766 = (0);
while(true){
if((i__7766 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7766);
cljs.core.chunk_append.call(null,b__7767,cljs.core.with_meta(new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-danger.btn-sm","button.btn.btn-danger.btn-sm",160619134),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7766,i,c__6380__auto__,size__6381__auto__,b__7767,s__7765__$2,temp__4657__auto__,idx,list){
return (function (){
return sevenm_booking_system.components.delete_bookingfits_on_click.call(null,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i),idx,list);
});})(i__7766,i,c__6380__auto__,size__6381__auto__,b__7767,s__7765__$2,temp__4657__auto__,idx,list))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-success.btn-sm","a.btn.btn-success.btn-sm",846705565),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-bookingfit","edit-bookingfit",144640306),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactperson","contactperson",-190367504).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"rate","rate",-1428659698).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(i)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7768 = (i__7766 + (1));
i__7766 = G__7768;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7767),sevenm_booking_system$components$bookingfits_comp_$_iter__7764.call(null,cljs.core.chunk_rest.call(null,s__7765__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7767),null);
}
} else {
var i = cljs.core.first.call(null,s__7765__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-danger.btn-sm","button.btn.btn-danger.btn-sm",160619134),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7765__$2,temp__4657__auto__,idx,list){
return (function (){
return sevenm_booking_system.components.delete_bookingfits_on_click.call(null,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i),idx,list);
});})(i,s__7765__$2,temp__4657__auto__,idx,list))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-success.btn-sm","a.btn.btn-success.btn-sm",846705565),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-bookingfit","edit-bookingfit",144640306),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"vendorid","vendorid",-675947897).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactperson","contactperson",-190367504).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"rate","rate",-1428659698).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"email","email",1415816706).cljs$core$IFn$_invoke$arity$1(i)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$bookingfits_comp_$_iter__7764.call(null,cljs.core.rest.call(null,s__7765__$2)));
}
} else {
return null;
}
break;
}
});})(idx,list))
,null,null));
});})(idx,list))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (idx,list){
return (function (p1__7759_SHARP_){
cljs.core.reset_BANG_.call(null,idx,p1__7759_SHARP_);

return sevenm_booking_system.components.get_bookingfits_list.call(null,idx,list);
});})(idx,list))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,idx),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totalbookingfits","totalbookingfits",1051690937)) / (10))) | (0)),true])], null)], null)], null);
});
;})(idx,list))
});
sevenm_booking_system.components.bookingfit_save_onclick_success = (function sevenm_booking_system$components$bookingfit_save_onclick_success(res,data,state){
cljs.core.reset_BANG_.call(null,data,cljs.core.PersistentArrayMap.EMPTY);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"show-message","show-message",740773457)], null),cljs.core.not);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"status","status",-1997798413),"success");

return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"server-message","server-message",-678695903),"Bookingfit is Successfully saved");
});
sevenm_booking_system.components.bookingfit_save_onclick_error = (function sevenm_booking_system$components$bookingfit_save_onclick_error(res,state){
var G__7770 = res.call(null,new cljs.core.Keyword(null,"status","status",-1997798413));
switch (G__7770) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"focus","focus",234677911)], null),cljs.core.not);

cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"show-message","show-message",740773457)], null),cljs.core.not);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"status","status",-1997798413),"error");

return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"server-message","server-message",-678695903),"Please try again");

}
});
sevenm_booking_system.components.bookingfit_save_onclick = (function sevenm_booking_system$components$bookingfit_save_onclick(data,state){
if((sevenm_booking_system.components.bookingfit_validator.call(null,cljs.core.deref.call(null,data)) == null)){
if(cljs.core.truth_(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))){
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"show-message","show-message",740773457),false);

return ajax.core.PUT.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookingfits/"),cljs.core.str(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (){
return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"bookingfits","bookingfits",-1934442442)));
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7772_SHARP_){
return sevenm_booking_system.components.bookingfit_save_onclick_error.call(null,p1__7772_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"show-message","show-message",740773457),false);

return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("bookingfits")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7773_SHARP_){
return sevenm_booking_system.components.bookingfit_save_onclick_success.call(null,p1__7773_SHARP_,data,state);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7774_SHARP_){
return sevenm_booking_system.components.bookingfit_save_onclick_error.call(null,p1__7774_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
}
} else {
return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),true);
}
});
sevenm_booking_system.components.fit_list = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Yes","No","Yes w/pvt"], null);
sevenm_booking_system.components.add_or_edit_bookingfit_comp = (function sevenm_booking_system$components$add_or_edit_bookingfit_comp(data){
var data__$1 = reagent.core.atom.call(null,data);
var cities = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"show-message","show-message",740773457),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false,new cljs.core.Keyword(null,"status","status",-1997798413),"",new cljs.core.Keyword(null,"server-message","server-message",-678695903),""], null));
var vendors = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
sevenm_booking_system.components.get_all_cities.call(null,cities);

cljs.core.swap_BANG_.call(null,data__$1,cljs.core.assoc,new cljs.core.Keyword(null,"vendorid","vendorid",-675947897),(0));

return ((function (data__$1,cities,state,vendors){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),(cljs.core.truth_(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"Edit ":"Add ")," New FIT"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3","div.col-md-3",1386112129)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),(cljs.core.truth_(cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"show-message","show-message",740773457)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),((cljs.core._EQ_.call(null,cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"status","status",-1997798413)),"success"))?new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.callout.callout-success","div.callout.callout-success",38893722),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.close.pull-right","div.close.pull-right",1673139335),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"cursor","cursor",1011937484),"pointer"], null),new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,cities,state,vendors){
return (function (){
return cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"show-message","show-message",740773457)], null),cljs.core.not);
});})(data__$1,cities,state,vendors))
], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4","h4",2004862993),"Success ! "], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"server-message","server-message",-678695903))], null)], null):null),((cljs.core._EQ_.call(null,cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"status","status",-1997798413)),"error"))?new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.callout.callout-warning","div.callout.callout-warning",314324525),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.close.pull-right","span.close.pull-right",-647769935),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"cursor","cursor",1011937484),"pointer"], null),new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,cities,state,vendors){
return (function (){
return cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"show-message","show-message",740773457)], null),cljs.core.not);
});})(data__$1,cities,state,vendors))
], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4","h4",2004862993),"Warning !"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"server-message","server-message",-678695903))], null)], null):null)], null):null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3","div.col-md-3",1386112129)], null)], null),new cljs.core.PersistentVector(null, 13, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div..form-horizontal","div..form-horizontal",1979485273),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_chosen_select,"City Name","Cityname",new cljs.core.Keyword(null,"cityid","cityid",1837642752),cities,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookingfit_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Contact","Contact",new cljs.core.Keyword(null,"contactperson","contactperson",-190367504),"text","Enter  Contact",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contactperson","contactperson",-190367504)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookingfit_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Contact Number","Contact Number",new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546),"text","Enter Contact Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contactnumber","contactnumber",730706546)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookingfit_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_number,"Rate","Rate",new cljs.core.Keyword(null,"rate","rate",-1428659698),"Enter Rate",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"rate","rate",-1428659698)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookingfit_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_select,"SIC Trans","sictrans",new cljs.core.Keyword(null,"sictrans","sictrans",1556522950),sevenm_booking_system.components.fit_list,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"sictrans","sictrans",1556522950)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_select,"PVT Trans","pvttrans",new cljs.core.Keyword(null,"pvttrans","pvttrans",-1092784537),sevenm_booking_system.components.fit_list,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pvttrans","pvttrans",-1092784537)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_select,"Meet & Greet","meetgreet",new cljs.core.Keyword(null,"meetgreet","meetgreet",495045254),sevenm_booking_system.components.fit_list,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"meetgreet","meetgreet",495045254)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_select,"PVT City Tour","pvtcitytour",new cljs.core.Keyword(null,"pvtcitytour","pvtcitytour",291058720),sevenm_booking_system.components.fit_list,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pvtcitytour","pvtcitytour",291058720)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_select,"SIC City Tour","siccitytour",new cljs.core.Keyword(null,"siccitytour","siccitytour",2107320044),sevenm_booking_system.components.fit_list,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"siccitytour","siccitytour",2107320044)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Email/Website","Email/Website",new cljs.core.Keyword(null,"email","email",1415816706),"text","Enter Email/Website",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"email","email",1415816706)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookingfit_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area,"Address","Address",new cljs.core.Keyword(null,"address","address",559499426),(5),"Enter Address",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"address","address",559499426)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookingfit_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Bank Account Info","BankaccountInfo",new cljs.core.Keyword(null,"bankaccountinfo","bankaccountinfo",-620705869),"text","Enter Bank Account Info",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"bankaccountinfo","bankaccountinfo",-620705869)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.bookingfit_validator.call(null,cljs.core.deref.call(null,data__$1))], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3","div.col-md-3",1386112129)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"center","center",-748944368),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,cities,state,vendors){
return (function (){
return sevenm_booking_system.components.bookingfit_save_onclick.call(null,data__$1,state);
});})(data__$1,cities,state,vendors))
], null),"Save"], null),"  ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default","a.btn.btn-default",1697165854),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"bookingfits","bookingfits",-1934442442))], null),"Back"], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3","div.col-md-3",1386112129)], null)], null)], null);
});
;})(data__$1,cities,state,vendors))
});
sevenm_booking_system.components.vendor_validator = (function sevenm_booking_system$components$vendor_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"cityid","cityid",1837642752),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"vendorname","vendorname",424838205),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"contactname","contactname",1791324338),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"emailid","emailid",-1357711430),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.email,new cljs.core.Keyword(null,"message","message",-406056002),"Please enter valid email id"], null)], null),new cljs.core.Keyword(null,"address","address",559499426),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null)));
});
sevenm_booking_system.components.get_vendors_list = (function sevenm_booking_system$components$get_vendors_list(idx,list){
return ajax.core.GET.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("vendors/"),cljs.core.str(cljs.core.deref.call(null,idx)),cljs.core.str("/10")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7775_SHARP_){
return cljs.core.reset_BANG_.call(null,list,p1__7775_SHARP_);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),sevenm_booking_system.components.error_handler,new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.delete_vendors_handler = (function sevenm_booking_system$components$delete_vendors_handler(res,idx,list){
var G__7777 = new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(res);
switch (G__7777) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
case (200):
return sevenm_booking_system.components.get_vendors_list.call(null,idx,list);

break;
default:
return console.log("Server error");

}
});
sevenm_booking_system.components.delete_vendors_on_click = (function sevenm_booking_system$components$delete_vendors_on_click(id,idx,list){
return ajax.core.DELETE.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("vendors/"),cljs.core.str(id)].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7779_SHARP_){
return sevenm_booking_system.components.delete_vendors_handler.call(null,p1__7779_SHARP_,idx,list);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7780_SHARP_){
return sevenm_booking_system.components.delete_vendors_handler.call(null,p1__7780_SHARP_,idx,list);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
});
sevenm_booking_system.components.vendors_comp = (function sevenm_booking_system$components$vendors_comp(){
var idx = reagent.core.atom.call(null,(1));
var list = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"data","data",-232669377),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"totalvendors","totalvendors",183697302),(0)], null));
sevenm_booking_system.components.get_vendors_list.call(null,idx,list);

return ((function (idx,list){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-8","div.col-md-8",754224778),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),"List of Vendors"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-4","div.col-md-4",864652098),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-primary.pull-right","a.btn.btn-primary.pull-right",205078570),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-vendor","add-vendor",-527382632))], null),"Add New Vendor"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body.table-responsive","div.box-body.table-responsive",1274337996),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table.table.table-bordered.table-hover","table.table.table-bordered.table-hover",2121133396),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),""], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"City"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Vendor Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Contact Name"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Email Id"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),"Phone Number"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__6382__auto__ = ((function (idx,list){
return (function sevenm_booking_system$components$vendors_comp_$_iter__7786(s__7787){
return (new cljs.core.LazySeq(null,((function (idx,list){
return (function (){
var s__7787__$1 = s__7787;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7787__$1);
if(temp__4657__auto__){
var s__7787__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7787__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7787__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7789 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7788 = (0);
while(true){
if((i__7788 < size__6381__auto__)){
var i = cljs.core._nth.call(null,c__6380__auto__,i__7788);
cljs.core.chunk_append.call(null,b__7789,cljs.core.with_meta(new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-danger.btn-sm","button.btn.btn-danger.btn-sm",160619134),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__7788,i,c__6380__auto__,size__6381__auto__,b__7789,s__7787__$2,temp__4657__auto__,idx,list){
return (function (){
return sevenm_booking_system.components.delete_vendors_on_click.call(null,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i),idx,list);
});})(i__7788,i,c__6380__auto__,size__6381__auto__,b__7789,s__7787__$2,temp__4657__auto__,idx,list))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-success.btn-sm","a.btn.btn-success.btn-sm",846705565),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-vendor","edit-vendor",-1413725249),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"vendorname","vendorname",424838205).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactname","contactname",1791324338).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"emailid","emailid",-1357711430).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283).cljs$core$IFn$_invoke$arity$1(i)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)));

var G__7790 = (i__7788 + (1));
i__7788 = G__7790;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7789),sevenm_booking_system$components$vendors_comp_$_iter__7786.call(null,cljs.core.chunk_rest.call(null,s__7787__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7789),null);
}
} else {
var i = cljs.core.first.call(null,s__7787__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-danger.btn-sm","button.btn.btn-danger.btn-sm",160619134),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i,s__7787__$2,temp__4657__auto__,idx,list){
return (function (){
return sevenm_booking_system.components.delete_vendors_on_click.call(null,new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i),idx,list);
});})(i,s__7787__$2,temp__4657__auto__,idx,list))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-remove","span.glyphicon.glyphicon-remove",-176133890),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-success.btn-sm","a.btn.btn-success.btn-sm",846705565),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-vendor","edit-vendor",-1413725249),new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.glyphicon.glyphicon-edit","span.glyphicon.glyphicon-edit",470540911),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),true], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"cityid","cityid",1837642752).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"vendorname","vendorname",424838205).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"contactname","contactname",1791324338).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"emailid","emailid",-1357711430).cljs$core$IFn$_invoke$arity$1(i)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283).cljs$core$IFn$_invoke$arity$1(i)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(i)], null)),sevenm_booking_system$components$vendors_comp_$_iter__7786.call(null,cljs.core.rest.call(null,s__7787__$2)));
}
} else {
return null;
}
break;
}
});})(idx,list))
,null,null));
});})(idx,list))
;
return iter__6382__auto__.call(null,cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"data","data",-232669377)));
})()], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer","div.box-footer",307933658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.pagination,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"onSelect","onSelect",251862405),new cljs.core.Keyword(null,"ellipsis","ellipsis",998505738),new cljs.core.Keyword(null,"maxButtons","maxButtons",-262255984),new cljs.core.Keyword(null,"next","next",-117701485),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"prev","prev",-1597069226),new cljs.core.Keyword(null,"activePage","activePage",1551610359),new cljs.core.Keyword(null,"boundaryLinks","boundaryLinks",1862954839),new cljs.core.Keyword(null,"first","first",-644103046),new cljs.core.Keyword(null,"items","items",1031954938),new cljs.core.Keyword(null,"last","last",1105735132)],[((function (idx,list){
return (function (p1__7781_SHARP_){
cljs.core.reset_BANG_.call(null,idx,p1__7781_SHARP_);

return sevenm_booking_system.components.get_vendors_list.call(null,idx,list);
});})(idx,list))
,true,(5),true,"pull-right no-margin",true,cljs.core.deref.call(null,idx),true,true,(Math.ceil((cljs.core.deref.call(null,list).call(null,new cljs.core.Keyword(null,"totalvendors","totalvendors",183697302)) / (10))) | (0)),true])], null)], null)], null);
});
;})(idx,list))
});
sevenm_booking_system.components.vendor_save_onclick_success = (function sevenm_booking_system$components$vendor_save_onclick_success(res,data,state){
cljs.core.reset_BANG_.call(null,data,cljs.core.PersistentArrayMap.EMPTY);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"show-message","show-message",740773457)], null),cljs.core.not);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"status","status",-1997798413),"success");

return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"server-message","server-message",-678695903),"Vendor is Successfully saved");
});
sevenm_booking_system.components.vendor_save_onclick_error = (function sevenm_booking_system$components$vendor_save_onclick_error(res,state){
var G__7792 = res.call(null,new cljs.core.Keyword(null,"status","status",-1997798413));
switch (G__7792) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"focus","focus",234677911)], null),cljs.core.not);

cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"show-message","show-message",740773457)], null),cljs.core.not);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"status","status",-1997798413),"error");

return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"server-message","server-message",-678695903),"Please try again");

}
});
sevenm_booking_system.components.vendor_save_onclick = (function sevenm_booking_system$components$vendor_save_onclick(data,state){
if((sevenm_booking_system.components.vendor_validator.call(null,cljs.core.deref.call(null,data)) == null)){
if(cljs.core.truth_(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))){
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"show-message","show-message",740773457),false);

return ajax.core.PUT.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("vendors/"),cljs.core.str(cljs.core.deref.call(null,data).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (){
return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"vendors","vendors",-153040496)));
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7794_SHARP_){
return sevenm_booking_system.components.vendor_save_onclick_error.call(null,p1__7794_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"show-message","show-message",740773457),false);

return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("vendors")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7795_SHARP_){
return sevenm_booking_system.components.vendor_save_onclick_success.call(null,p1__7795_SHARP_,data,state);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7796_SHARP_){
return sevenm_booking_system.components.vendor_save_onclick_error.call(null,p1__7796_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
}
} else {
return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),true);
}
});
sevenm_booking_system.components.add_or_edit_vendor_comp = (function sevenm_booking_system$components$add_or_edit_vendor_comp(data){
var data__$1 = reagent.core.atom.call(null,data);
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"show-message","show-message",740773457),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false,new cljs.core.Keyword(null,"status","status",-1997798413),"",new cljs.core.Keyword(null,"server-message","server-message",-678695903),""], null));
var cities = reagent.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
sevenm_booking_system.components.get_all_cities.call(null,cities);

return ((function (data__$1,state,cities){
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box.box-primary","div.box.box-primary",-1588294403),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-header.with-border","div.box-header.with-border",-186668080),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h3.box-title","h3.box-title",64200241),(cljs.core.truth_(cljs.core.deref.call(null,data__$1).call(null,new cljs.core.Keyword(null,"id","id",-1388402092)))?"Edit ":"Add ")," New Vendor"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-body","div.box-body",-996647595),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3","div.col-md-3",1386112129)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),(cljs.core.truth_(cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"show-message","show-message",740773457)))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),((cljs.core._EQ_.call(null,cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"status","status",-1997798413)),"success"))?new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.callout.callout-success","div.callout.callout-success",38893722),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.close.pull-right","div.close.pull-right",1673139335),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"cursor","cursor",1011937484),"pointer"], null),new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,state,cities){
return (function (){
return cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"show-message","show-message",740773457)], null),cljs.core.not);
});})(data__$1,state,cities))
], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4","h4",2004862993),"Success ! "], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"server-message","server-message",-678695903))], null)], null):null),((cljs.core._EQ_.call(null,cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"status","status",-1997798413)),"error"))?new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.callout.callout-warning","div.callout.callout-warning",314324525),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.close.pull-right","span.close.pull-right",-647769935),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"cursor","cursor",1011937484),"pointer"], null),new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,state,cities){
return (function (){
return cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"show-message","show-message",740773457)], null),cljs.core.not);
});})(data__$1,state,cities))
], null),"\u00D7"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h4","h4",2004862993),"Warning !"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"p","p",151049309),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"server-message","server-message",-678695903))], null)], null):null)], null):null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3","div.col-md-3",1386112129)], null)], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div..form-horizontal","div..form-horizontal",1979485273),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_chosen_select,"City","City",new cljs.core.Keyword(null,"cityid","cityid",1837642752),cities,reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cityid","cityid",1837642752)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.items_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Vendor Name","Vendor Name",new cljs.core.Keyword(null,"vendorname","vendorname",424838205),"text","Enter Vendor Name",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"vendorname","vendorname",424838205)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.vendor_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Contact Name","Contact Name",new cljs.core.Keyword(null,"contactname","contactname",1791324338),"text","Enter Contact Name",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contactname","contactname",1791324338)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.vendor_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Phone Number","Phone Number",new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283),"text","Enter Phone Number",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"phonenumber","phonenumber",591435283)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.vendor_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_input,"Email Id","Email Id",new cljs.core.Keyword(null,"emailid","emailid",-1357711430),"email","Enter Email Id",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"emailid","emailid",-1357711430)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.vendor_validator.call(null,cljs.core.deref.call(null,data__$1))], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.row_text_area,"Address","Address",new cljs.core.Keyword(null,"address","address",559499426),(5),"Enter Address",reagent.core.cursor.call(null,data__$1,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"address","address",559499426)], null)),cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),sevenm_booking_system.components.vendor_validator.call(null,cljs.core.deref.call(null,data__$1))], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.box-footer.clearfix","div.box-footer.clearfix",559648160),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3","div.col-md-3",1386112129)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-6","div.col-md-6",230002699),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"center","center",-748944368),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (data__$1,state,cities){
return (function (){
return sevenm_booking_system.components.vendor_save_onclick.call(null,data__$1,state);
});})(data__$1,state,cities))
], null),"Save"], null),"  ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default","a.btn.btn-default",1697165854),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"vendors","vendors",-153040496))], null),"Back"], null)], null)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-md-3","div.col-md-3",1386112129)], null)], null)], null);
});
;})(data__$1,state,cities))
});
sevenm_booking_system.components.login_validator = (function sevenm_booking_system$components$login_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"email","email",1415816706),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.email,new cljs.core.Keyword(null,"message","message",-406056002),"Enter valid email-id"], null)], null),new cljs.core.Keyword(null,"password","password",417022471),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.string,new cljs.core.Keyword(null,"message","message",-406056002),"Enter valid password"], null)], null)));
});
sevenm_booking_system.components.login_input = (function sevenm_booking_system$components$login_input(id,span_class,type,data_set,placeholder,focus,val){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group.has-feedback","div.form-group.has-feedback",128477376),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,id,type,placeholder,val], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),span_class], null)], null),(cljs.core.truth_(cljs.core.deref.call(null,focus))?((cljs.core._EQ_.call(null,null,sevenm_booking_system.components.login_validator.call(null,cljs.core.deref.call(null,data_set))))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.first.call(null,sevenm_booking_system.components.login_validator.call(null,cljs.core.deref.call(null,data_set)).call(null,id)))].join('')], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null);
});
sevenm_booking_system.components.login_success_handler = (function sevenm_booking_system$components$login_success_handler(res,server_error){
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.assoc,new cljs.core.Keyword(null,"session","session",1008279103),res);

var role = cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"role","role",-736691072)], null));
var G__7798 = role;
switch (G__7798) {
case "bookadmin":
return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fit-quotations","fit-quotations",-1520677836)));

break;
case "bookstandard":
return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fit-quotations","fit-quotations",-1520677836)));

break;
case "bookgroup":
return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"group-quotations","group-quotations",1243399025)));

break;
default:
return cljs.core.reset_BANG_.call(null,server_error,"Not a valid role !");

}
});
sevenm_booking_system.components.login_error_handler = (function sevenm_booking_system$components$login_error_handler(res,server_error){
return cljs.core.reset_BANG_.call(null,server_error,cljs.core.get_in.call(null,res,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"response","response",-1068424192),new cljs.core.Keyword(null,"message","message",-406056002)], null),"Server Error"));
});
sevenm_booking_system.components.login_on_click = (function sevenm_booking_system$components$login_on_click(data,focus,server_error){
if((sevenm_booking_system.components.login_validator.call(null,cljs.core.deref.call(null,data)) == null)){
cljs.core.reset_BANG_.call(null,server_error,"");

return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("login")].join(''),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7800_SHARP_){
return sevenm_booking_system.components.login_success_handler.call(null,p1__7800_SHARP_,server_error);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7801_SHARP_){
return sevenm_booking_system.components.login_error_handler.call(null,p1__7801_SHARP_,server_error);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true], null));
} else {
return cljs.core.reset_BANG_.call(null,focus,true);
}
});
sevenm_booking_system.components.login_comp = (function sevenm_booking_system$components$login_comp(){
var login_data = reagent.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var focus = reagent.core.atom.call(null,null);
var server_error = reagent.core.atom.call(null,null);
return ((function (login_data,focus,server_error){
return (function (){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.login-box","div.login-box",1734325117),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.login-logo","div.login-logo",2118844801),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),"Log-in"], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.login-box-body","div.login-box-body",-1700849473),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.login_input,new cljs.core.Keyword(null,"email","email",1415816706),"glyphicon glyphicon-envelope form-control-feedback","email",login_data,"Email",focus,reagent.core.cursor.call(null,login_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"email","email",1415816706)], null))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.login_input,new cljs.core.Keyword(null,"password","password",417022471),"glyphicon glyphicon-lock form-control-feedback","password",login_data,"Password",focus,reagent.core.cursor.call(null,login_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"password","password",417022471)], null))], null),(cljs.core.truth_(cljs.core.deref.call(null,server_error))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),[cljs.core.str(cljs.core.deref.call(null,server_error))].join('')], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-sm-12","div.col-sm-12",-1900061411),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary.btn-block","button.btn.btn-primary.btn-block",788068819),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (login_data,focus,server_error){
return (function (){
return sevenm_booking_system.components.login_on_click.call(null,login_data,focus,server_error);
});})(login_data,focus,server_error))
], null)," Sign In"], null)], null)], null)], null)], null);
});
;})(login_data,focus,server_error))
});
sevenm_booking_system.components.register_validator = (function sevenm_booking_system$components$register_validator(data_set){
return cljs.core.first.call(null,bouncer.core.validate.call(null,data_set,new cljs.core.Keyword(null,"firstname","firstname",1659984849),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"lastname","lastname",-265181465),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"email","email",1415816706),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.email,new cljs.core.Keyword(null,"message","message",-406056002),"Enter valid email-id"], null)], null),new cljs.core.Keyword(null,"password","password",417022471),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null),new cljs.core.Keyword(null,"role","role",-736691072),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [bouncer.validators.required,new cljs.core.Keyword(null,"message","message",-406056002),"Field is required"], null)], null)));
});
sevenm_booking_system.components.register_input = (function sevenm_booking_system$components$register_input(id,span_class,type,data_set,placeholder,focus,val){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group.has-feedback","div.form-group.has-feedback",128477376),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.input,id,type,placeholder,val], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),span_class], null)], null),(cljs.core.truth_(focus)?((cljs.core._EQ_.call(null,null,sevenm_booking_system.components.register_validator.call(null,cljs.core.deref.call(null,data_set))))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"b","b",1482224470),[cljs.core.str(cljs.core.first.call(null,sevenm_booking_system.components.register_validator.call(null,cljs.core.deref.call(null,data_set)).call(null,id)))].join('')], null)], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null);
});
sevenm_booking_system.components.register_options = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"bookadmin",new cljs.core.Keyword(null,"name","name",1843675177),"Admin"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"bookstandard",new cljs.core.Keyword(null,"name","name",1843675177),"Standard"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),"bookgroup",new cljs.core.Keyword(null,"name","name",1843675177),"Group"], null)], null);
sevenm_booking_system.components.reg_select = (function sevenm_booking_system$components$reg_select(id,options,val){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"select.form-control","select.form-control",696610397),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),id,new cljs.core.Keyword(null,"value","value",305978217),(function (){var or__5602__auto__ = cljs.core.deref.call(null,val);
if(cljs.core.truth_(or__5602__auto__)){
return or__5602__auto__;
} else {
return "";
}
})(),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__7802_SHARP_){
return cljs.core.reset_BANG_.call(null,val,p1__7802_SHARP_.target.value);
})], null),(function (){var iter__6382__auto__ = (function sevenm_booking_system$components$reg_select_$_iter__7807(s__7808){
return (new cljs.core.LazySeq(null,(function (){
var s__7808__$1 = s__7808;
while(true){
var temp__4657__auto__ = cljs.core.seq.call(null,s__7808__$1);
if(temp__4657__auto__){
var s__7808__$2 = temp__4657__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__7808__$2)){
var c__6380__auto__ = cljs.core.chunk_first.call(null,s__7808__$2);
var size__6381__auto__ = cljs.core.count.call(null,c__6380__auto__);
var b__7810 = cljs.core.chunk_buffer.call(null,size__6381__auto__);
if((function (){var i__7809 = (0);
while(true){
if((i__7809 < size__6381__auto__)){
var d = cljs.core._nth.call(null,c__6380__auto__,i__7809);
cljs.core.chunk_append.call(null,b__7810,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(d)], null),new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(d)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(d)], null)));

var G__7811 = (i__7809 + (1));
i__7809 = G__7811;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7810),sevenm_booking_system$components$reg_select_$_iter__7807.call(null,cljs.core.chunk_rest.call(null,s__7808__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__7810),null);
}
} else {
var d = cljs.core.first.call(null,s__7808__$2);
return cljs.core.cons.call(null,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(d)], null),new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(d)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(d)], null)),sevenm_booking_system$components$reg_select_$_iter__7807.call(null,cljs.core.rest.call(null,s__7808__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__6382__auto__.call(null,options);
})()], null);
});
sevenm_booking_system.components.register_select = (function sevenm_booking_system$components$register_select(id,options,data_set,focus,val){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.form-group.has-feedback","div.form-group.has-feedback",128477376),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.reg_select,id,options,val], null),(cljs.core.truth_(focus)?((cljs.core._EQ_.call(null,null,sevenm_booking_system.components.register_validator.call(null,cljs.core.deref.call(null,data_set))))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),"red"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"b","b",1482224470),[cljs.core.str(cljs.core.first.call(null,sevenm_booking_system.components.register_validator.call(null,cljs.core.deref.call(null,data_set)).call(null,id)))].join('')], null)], null)):new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632)], null))], null);
});
sevenm_booking_system.components.register_success = (function sevenm_booking_system$components$register_success(res,data,state){
cljs.core.reset_BANG_.call(null,data,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"bookadmin",new cljs.core.Keyword(null,"mobilenumber","mobilenumber",1886233236),""], null));

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),false);

cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"show-message","show-message",740773457)], null),cljs.core.not);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"status","status",-1997798413),"success");

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"server-message","server-message",-678695903),"User Successfully Created");

return sevenm_booking_system.components.boot_notify.call(null,"success","Success :","User successfully created");
});
sevenm_booking_system.components.register_error = (function sevenm_booking_system$components$register_error(res,state){
var G__7813 = res.call(null,new cljs.core.Keyword(null,"status","status",-1997798413));
switch (G__7813) {
case (401):
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));

break;
default:
cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"focus","focus",234677911)], null),cljs.core.not);

cljs.core.swap_BANG_.call(null,state,cljs.core.update_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"show-message","show-message",740773457)], null),cljs.core.not);

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"status","status",-1997798413),"error");

cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"server-message","server-message",-678695903),"Please Try Again");

return sevenm_booking_system.components.boot_notify.call(null,"warning","Warning :","Please try again");

}
});
sevenm_booking_system.components.register_onclick = (function sevenm_booking_system$components$register_onclick(data,state){
if((sevenm_booking_system.components.register_validator.call(null,cljs.core.deref.call(null,data)) == null)){
cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"show-message","show-message",740773457),false);

return ajax.core.POST.call(null,[cljs.core.str(sevenm_booking_system.config.server),cljs.core.str("register")].join(''),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"params","params",710516235),cljs.core.deref.call(null,data),new cljs.core.Keyword(null,"handler","handler",-195596612),(function (p1__7815_SHARP_){
return sevenm_booking_system.components.register_success.call(null,p1__7815_SHARP_,data,state);
}),new cljs.core.Keyword(null,"error-handler","error-handler",-484945776),(function (p1__7816_SHARP_){
return sevenm_booking_system.components.register_error.call(null,p1__7816_SHARP_,state);
}),new cljs.core.Keyword(null,"format","format",-1306924766),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"response-format","response-format",1664465322),new cljs.core.Keyword(null,"json","json",1279968570),new cljs.core.Keyword(null,"keywords?","keywords?",764949733),true,new cljs.core.Keyword(null,"headers","headers",-835030129),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"Authorization","Authorization",-1017527462),[cljs.core.str("Token "),cljs.core.str(cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"token","token",-1211463215)], null)))].join('')], null)], null));
} else {
return cljs.core.swap_BANG_.call(null,state,cljs.core.assoc,new cljs.core.Keyword(null,"focus","focus",234677911),true);
}
});
sevenm_booking_system.components.register_comp = (function sevenm_booking_system$components$register_comp(){
var register_data = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"role","role",-736691072),"bookadmin",new cljs.core.Keyword(null,"mobilenumber","mobilenumber",1886233236),""], null));
var state = reagent.core.atom.call(null,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"focus","focus",234677911),false,new cljs.core.Keyword(null,"show-message","show-message",740773457),false,new cljs.core.Keyword(null,"busy","busy",-328286801),false,new cljs.core.Keyword(null,"status","status",-1997798413),"",new cljs.core.Keyword(null,"server-message","server-message",-678695903),""], null));
return ((function (register_data,state){
return (function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.register-box","div.register-box",1230174484),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.register-logo","div.register-logo",570349640),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),"Register New User"], null)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.register-box-body","div.register-box-body",-1967924287),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.register_input,new cljs.core.Keyword(null,"firstname","firstname",1659984849),"glyphicon glyphicon-user form-control-feedback","text",register_data,"First Name",cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),reagent.core.cursor.call(null,register_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"firstname","firstname",1659984849)], null))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.register_input,new cljs.core.Keyword(null,"lastname","lastname",-265181465),"glyphicon glyphicon-user form-control-feedback","text",register_data,"Last Name",cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),reagent.core.cursor.call(null,register_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"lastname","lastname",-265181465)], null))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.register_input,new cljs.core.Keyword(null,"email","email",1415816706),"glyphicon glyphicon-envelope form-control-feedback","email",register_data,"Email",cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),reagent.core.cursor.call(null,register_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"email","email",1415816706)], null))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.register_input,new cljs.core.Keyword(null,"password","password",417022471),"glyphicon glyphicon-lock form-control-feedback","password",register_data,"Password",cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),reagent.core.cursor.call(null,register_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"password","password",417022471)], null))], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.register_input,new cljs.core.Keyword(null,"mobilenumber","mobilenumber",1886233236),"glyphicon glyphicon-phone form-control-feedback","text",register_data,"Mobile Number",cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),reagent.core.cursor.call(null,register_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"mobilenumber","mobilenumber",1886233236)], null))], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sevenm_booking_system.components.register_select,new cljs.core.Keyword(null,"role","role",-736691072),sevenm_booking_system.components.register_options,register_data,cljs.core.deref.call(null,state).call(null,new cljs.core.Keyword(null,"focus","focus",234677911)),reagent.core.cursor.call(null,register_data,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"role","role",-736691072)], null))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.col-sm-12","div.col-sm-12",-1900061411),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary.btn-block","button.btn.btn-primary.btn-block",788068819),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"type","type",1174270348),"button",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (register_data,state){
return (function (){
return sevenm_booking_system.components.register_onclick.call(null,register_data,state);
});})(register_data,state))
], null),"Register"], null)], null)], null)], null)], null)], null);
});
;})(register_data,state))
});
sevenm_booking_system.components.check_all_routes = (function sevenm_booking_system$components$check_all_routes(word,length){
return cljs.core._EQ_.call(null,word,cljs.core.apply.call(null,cljs.core.str,cljs.core.take.call(null,length,pushy.core.get_token.call(null,sevenm_booking_system.routes.history))));
});
sevenm_booking_system.components.itineraries_tabs_comp = (function sevenm_booking_system$components$itineraries_tabs_comp(id,comp){
var role = cljs.core.get_in.call(null,cljs.core.deref.call(null,sevenm_booking_system.config.session),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"user","user",1532431356),new cljs.core.Keyword(null,"role","role",-736691072)], null));
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.nav-tabs-custom","div.nav-tabs-custom",-582187868),new cljs.core.PersistentVector(null, 10, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.nav.nav-tabs","ul.nav.nav-tabs",1865557319),(((cljs.core._EQ_.call(null,role,"bookadmin")) || (cljs.core._EQ_.call(null,role,"bookstandard")))?new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),[cljs.core.str("dropdown "),cljs.core.str((cljs.core.truth_(sevenm_booking_system.components.check_all_routes.call(null,"/fit",(4)))?"active":null))].join('')], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.dropdown-toggle","a.dropdown-toggle",-264466802),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"data-toggle","data-toggle",436966687),"dropdown"], null)," FIT ",new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.caret","span.caret",-1405994877)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.dropdown-menu","ul.dropdown-menu",-867384656),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fit-quotations","fit-quotations",-1520677836)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history)))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fit-quotations","fit-quotations",-1520677836)),new cljs.core.Keyword(null,"tabindex","tabindex",338877510),"-1",new cljs.core.Keyword(null,"role","role",-736691072),"menuitem"], null),"FIT Quotations"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fitbookings","fitbookings",227762754)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fit-activitylog","fit-activitylog",-725463727),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"fitbookings","fitbookings",227762754)),new cljs.core.Keyword(null,"tabindex","tabindex",338877510),"-1",new cljs.core.Keyword(null,"role","role",-736691072),"menuitem"], null),"FIT Bookings"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-fitbooking","add-fitbooking",1804203067)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-fitbooking","edit-fitbooking",-1607666750),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-fitbooking","add-fitbooking",1804203067))], null),"Add FIT Booking"], null)], null)], null)], null):null),(((cljs.core._EQ_.call(null,role,"bookadmin")) || (cljs.core._EQ_.call(null,role,"bookgroup")))?new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),[cljs.core.str("dropdown "),cljs.core.str((cljs.core.truth_(sevenm_booking_system.components.check_all_routes.call(null,"/group",(6)))?"active":null))].join('')], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.dropdown-toggle","a.dropdown-toggle",-264466802),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"data-toggle","data-toggle",436966687),"dropdown"], null)," Group ",new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.caret","span.caret",-1405994877)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.dropdown-menu","ul.dropdown-menu",-867384656),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"group-quotations","group-quotations",1243399025)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history)))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"group-quotations","group-quotations",1243399025))], null),"Group Quotations"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"groupbookings","groupbookings",-787083220)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"group-activitylog","group-activitylog",-1486409568),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"groupbookings","groupbookings",-787083220))], null),"Group Bookings"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-groupbooking","add-groupbooking",-564709166)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-groupbooking","edit-groupbooking",2069309826),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-groupbooking","add-groupbooking",-564709166))], null),"Add Group Booking"], null)], null)], null)], null):null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),[cljs.core.str("dropdown "),cljs.core.str((cljs.core.truth_(sevenm_booking_system.components.check_all_routes.call(null,"/vendors",(8)))?"active":null))].join('')], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.dropdown-toggle","a.dropdown-toggle",-264466802),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"href","href",-793805698),"#",new cljs.core.Keyword(null,"data-toggle","data-toggle",436966687),"dropdown"], null)," Vendors ",new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.caret","span.caret",-1405994877)], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ul.dropdown-menu","ul.dropdown-menu",-867384656),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"hotels","hotels",1552357142)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-hotel","add-hotel",710530814)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-hotel","edit-hotel",376112162),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-hotel","view-hotel",-686388496),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"hotels","hotels",1552357142))], null),"Hotels"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"restaurants","restaurants",1693363505)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-restaurant","add-restaurant",862180421)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-restaurant","edit-restaurant",-709382400),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-restaurant","view-restaurant",1556565268),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"restaurants","restaurants",1693363505))], null),"Restaurants"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"tourguides","tourguides",604110481)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-tourguide","add-tourguide",-595112847)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-tourguide","edit-tourguide",1622319808),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-tourguide","view-tourguide",-823421758),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"tourguides","tourguides",604110481))], null),"Tour Guides"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"transportations","transportations",949329735)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-transportation","add-transportation",-769051174)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-transportation","edit-transportation",-580535752),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-transportation","view-transportation",-2143737615),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"transportations","transportations",949329735))], null),"Transportations"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"events","events",1792552201)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-event","add-event",938429088)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-event","edit-event",-969537481),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-event","view-event",1670309774),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"events","events",1792552201))], null),"Events"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"items","items",1031954938)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-item","add-item",715813891)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-item","edit-item",1026303883),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-item","view-item",241055094),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"items","items",1031954938))], null),"Activities"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"cities","cities",-1295356824)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-city","add-city",-1190166)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-city","edit-city",-1721270384),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"cities","cities",-1295356824))], null),"Cities"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),(((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"logos","logos",1354242661)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"add-logo","add-logo",-1927288932)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"edit-logo","edit-logo",-682467110),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))) || (cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"view-logo","view-logo",504273503),new cljs.core.Keyword(null,"id","id",-1388402092),id),pushy.core.get_token.call(null,sevenm_booking_system.routes.history))))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"logos","logos",1354242661))], null),"Logos"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"complete-activity-log","complete-activity-log",-24244602)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history)))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"complete-activity-log","complete-activity-log",-24244602))], null),"Complete Activity Log"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li","li",723558921),((cljs.core._EQ_.call(null,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"complete-payment-log","complete-payment-log",-1841365671)),pushy.core.get_token.call(null,sevenm_booking_system.routes.history)))?new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"active"], null):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a","a",-2123407586),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"complete-payment-log","complete-payment-log",-1841365671))], null),"Complete Payment Log"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"li.pull-right","li.pull-right",-1679010030),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),((cljs.core._EQ_.call(null,role,"bookadmin"))?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.btn.btn-default","a.btn.btn-default",1697165854),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"register","register",1968522516))], null),"Register"], null):null)," ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (role){
return (function (){
cljs.core.swap_BANG_.call(null,sevenm_booking_system.config.session,cljs.core.dissoc,new cljs.core.Keyword(null,"session","session",1008279103));

return pushy.core.set_token_BANG_.call(null,sevenm_booking_system.routes.history,sevenm_booking_system.routes.url_for.call(null,new cljs.core.Keyword(null,"home","home",-74557309)));
});})(role))
], null),"Logout"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.tab-content","div.tab-content",255119102),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.tab-pane.active","div.tab-pane.active",185547368),comp], null)], null)], null);
});

//# sourceMappingURL=components.js.map?rel=1484127040043